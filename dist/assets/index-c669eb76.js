function KN(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var Zv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ug(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Fb={exports:{}},Cd={},$b={exports:{}},Fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bl=Symbol.for("react.element"),HN=Symbol.for("react.portal"),qN=Symbol.for("react.fragment"),YN=Symbol.for("react.strict_mode"),GN=Symbol.for("react.profiler"),XN=Symbol.for("react.provider"),QN=Symbol.for("react.context"),JN=Symbol.for("react.forward_ref"),ZN=Symbol.for("react.suspense"),eP=Symbol.for("react.memo"),tP=Symbol.for("react.lazy"),e0=Symbol.iterator;function nP(e){return e===null||typeof e!="object"?null:(e=e0&&e[e0]||e["@@iterator"],typeof e=="function"?e:null)}var Vb={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Bb=Object.assign,Ub={};function ea(e,t,n){this.props=e,this.context=t,this.refs=Ub,this.updater=n||Vb}ea.prototype.isReactComponent={};ea.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ea.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function zb(){}zb.prototype=ea.prototype;function dg(e,t,n){this.props=e,this.context=t,this.refs=Ub,this.updater=n||Vb}var fg=dg.prototype=new zb;fg.constructor=dg;Bb(fg,ea.prototype);fg.isPureReactComponent=!0;var t0=Array.isArray,Wb=Object.prototype.hasOwnProperty,hg={current:null},Kb={key:!0,ref:!0,__self:!0,__source:!0};function Hb(e,t,n){var r,s={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)Wb.call(t,r)&&!Kb.hasOwnProperty(r)&&(s[r]=t[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var c=Array(a),u=0;u<a;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Bl,type:e,key:i,ref:o,props:s,_owner:hg.current}}function rP(e,t){return{$$typeof:Bl,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function pg(e){return typeof e=="object"&&e!==null&&e.$$typeof===Bl}function sP(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var n0=/\/+/g;function sh(e,t){return typeof e=="object"&&e!==null&&e.key!=null?sP(""+e.key):t.toString(36)}function uu(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Bl:case HN:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+sh(o,0):r,t0(s)?(n="",e!=null&&(n=e.replace(n0,"$&/")+"/"),uu(s,t,n,"",function(u){return u})):s!=null&&(pg(s)&&(s=rP(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(n0,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",t0(e))for(var a=0;a<e.length;a++){i=e[a];var c=r+sh(i,a);o+=uu(i,t,n,c,s)}else if(c=nP(e),typeof c=="function")for(e=c.call(e),a=0;!(i=e.next()).done;)i=i.value,c=r+sh(i,a++),o+=uu(i,t,n,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Nc(e,t,n){if(e==null)return e;var r=[],s=0;return uu(e,r,"","",function(i){return t.call(n,i,s++)}),r}function iP(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var nn={current:null},du={transition:null},oP={ReactCurrentDispatcher:nn,ReactCurrentBatchConfig:du,ReactCurrentOwner:hg};function qb(){throw Error("act(...) is not supported in production builds of React.")}Fe.Children={map:Nc,forEach:function(e,t,n){Nc(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Nc(e,function(){t++}),t},toArray:function(e){return Nc(e,function(t){return t})||[]},only:function(e){if(!pg(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Fe.Component=ea;Fe.Fragment=qN;Fe.Profiler=GN;Fe.PureComponent=dg;Fe.StrictMode=YN;Fe.Suspense=ZN;Fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oP;Fe.act=qb;Fe.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Bb({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=hg.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(c in t)Wb.call(t,c)&&!Kb.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&a!==void 0?a[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){a=Array(c);for(var u=0;u<c;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Bl,type:e.type,key:s,ref:i,props:r,_owner:o}};Fe.createContext=function(e){return e={$$typeof:QN,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:XN,_context:e},e.Consumer=e};Fe.createElement=Hb;Fe.createFactory=function(e){var t=Hb.bind(null,e);return t.type=e,t};Fe.createRef=function(){return{current:null}};Fe.forwardRef=function(e){return{$$typeof:JN,render:e}};Fe.isValidElement=pg;Fe.lazy=function(e){return{$$typeof:tP,_payload:{_status:-1,_result:e},_init:iP}};Fe.memo=function(e,t){return{$$typeof:eP,type:e,compare:t===void 0?null:t}};Fe.startTransition=function(e){var t=du.transition;du.transition={};try{e()}finally{du.transition=t}};Fe.unstable_act=qb;Fe.useCallback=function(e,t){return nn.current.useCallback(e,t)};Fe.useContext=function(e){return nn.current.useContext(e)};Fe.useDebugValue=function(){};Fe.useDeferredValue=function(e){return nn.current.useDeferredValue(e)};Fe.useEffect=function(e,t){return nn.current.useEffect(e,t)};Fe.useId=function(){return nn.current.useId()};Fe.useImperativeHandle=function(e,t,n){return nn.current.useImperativeHandle(e,t,n)};Fe.useInsertionEffect=function(e,t){return nn.current.useInsertionEffect(e,t)};Fe.useLayoutEffect=function(e,t){return nn.current.useLayoutEffect(e,t)};Fe.useMemo=function(e,t){return nn.current.useMemo(e,t)};Fe.useReducer=function(e,t,n){return nn.current.useReducer(e,t,n)};Fe.useRef=function(e){return nn.current.useRef(e)};Fe.useState=function(e){return nn.current.useState(e)};Fe.useSyncExternalStore=function(e,t,n){return nn.current.useSyncExternalStore(e,t,n)};Fe.useTransition=function(){return nn.current.useTransition()};Fe.version="18.3.1";$b.exports=Fe;var m=$b.exports;const Ne=ug(m),mg=KN({__proto__:null,default:Ne},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aP=m,lP=Symbol.for("react.element"),cP=Symbol.for("react.fragment"),uP=Object.prototype.hasOwnProperty,dP=aP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,fP={key:!0,ref:!0,__self:!0,__source:!0};function Yb(e,t,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)uP.call(t,r)&&!fP.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:lP,type:e,key:i,ref:o,props:s,_owner:dP.current}}Cd.Fragment=cP;Cd.jsx=Yb;Cd.jsxs=Yb;Fb.exports=Cd;var l=Fb.exports,gp={},Gb={exports:{}},jn={},Xb={exports:{}},Qb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(G,ee){var ae=G.length;G.push(ee);e:for(;0<ae;){var me=ae-1>>>1,Pe=G[me];if(0<s(Pe,ee))G[me]=ee,G[ae]=Pe,ae=me;else break e}}function n(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var ee=G[0],ae=G.pop();if(ae!==ee){G[0]=ae;e:for(var me=0,Pe=G.length,Ae=Pe>>>1;me<Ae;){var nt=2*(me+1)-1,Tt=G[nt],Je=nt+1,Se=G[Je];if(0>s(Tt,ae))Je<Pe&&0>s(Se,Tt)?(G[me]=Se,G[Je]=ae,me=Je):(G[me]=Tt,G[nt]=ae,me=nt);else if(Je<Pe&&0>s(Se,ae))G[me]=Se,G[Je]=ae,me=Je;else break e}}return ee}function s(G,ee){var ae=G.sortIndex-ee.sortIndex;return ae!==0?ae:G.id-ee.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var c=[],u=[],f=1,h=null,g=3,w=!1,k=!1,v=!1,j=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(G){for(var ee=n(u);ee!==null;){if(ee.callback===null)r(u);else if(ee.startTime<=G)r(u),ee.sortIndex=ee.expirationTime,t(c,ee);else break;ee=n(u)}}function E(G){if(v=!1,b(G),!k)if(n(c)!==null)k=!0,J(R);else{var ee=n(u);ee!==null&&ge(E,ee.startTime-G)}}function R(G,ee){k=!1,v&&(v=!1,_(F),F=-1),w=!0;var ae=g;try{for(b(ee),h=n(c);h!==null&&(!(h.expirationTime>ee)||G&&!ie());){var me=h.callback;if(typeof me=="function"){h.callback=null,g=h.priorityLevel;var Pe=me(h.expirationTime<=ee);ee=e.unstable_now(),typeof Pe=="function"?h.callback=Pe:h===n(c)&&r(c),b(ee)}else r(c);h=n(c)}if(h!==null)var Ae=!0;else{var nt=n(u);nt!==null&&ge(E,nt.startTime-ee),Ae=!1}return Ae}finally{h=null,g=ae,w=!1}}var D=!1,T=null,F=-1,Q=5,K=-1;function ie(){return!(e.unstable_now()-K<Q)}function Z(){if(T!==null){var G=e.unstable_now();K=G;var ee=!0;try{ee=T(!0,G)}finally{ee?pe():(D=!1,T=null)}}else D=!1}var pe;if(typeof x=="function")pe=function(){x(Z)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,te=Y.port2;Y.port1.onmessage=Z,pe=function(){te.postMessage(null)}}else pe=function(){j(Z,0)};function J(G){T=G,D||(D=!0,pe())}function ge(G,ee){F=j(function(){G(e.unstable_now())},ee)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(G){G.callback=null},e.unstable_continueExecution=function(){k||w||(k=!0,J(R))},e.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Q=0<G?Math.floor(1e3/G):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(G){switch(g){case 1:case 2:case 3:var ee=3;break;default:ee=g}var ae=g;g=ee;try{return G()}finally{g=ae}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(G,ee){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ae=g;g=G;try{return ee()}finally{g=ae}},e.unstable_scheduleCallback=function(G,ee,ae){var me=e.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?me+ae:me):ae=me,G){case 1:var Pe=-1;break;case 2:Pe=250;break;case 5:Pe=1073741823;break;case 4:Pe=1e4;break;default:Pe=5e3}return Pe=ae+Pe,G={id:f++,callback:ee,priorityLevel:G,startTime:ae,expirationTime:Pe,sortIndex:-1},ae>me?(G.sortIndex=ae,t(u,G),n(c)===null&&G===n(u)&&(v?(_(F),F=-1):v=!0,ge(E,ae-me))):(G.sortIndex=Pe,t(c,G),k||w||(k=!0,J(R))),G},e.unstable_shouldYield=ie,e.unstable_wrapCallback=function(G){var ee=g;return function(){var ae=g;g=ee;try{return G.apply(this,arguments)}finally{g=ae}}}})(Qb);Xb.exports=Qb;var hP=Xb.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pP=m,Sn=hP;function ne(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Jb=new Set,hl={};function Ri(e,t){Fo(e,t),Fo(e+"Capture",t)}function Fo(e,t){for(hl[e]=t,e=0;e<t.length;e++)Jb.add(t[e])}var Or=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yp=Object.prototype.hasOwnProperty,mP=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,r0={},s0={};function gP(e){return yp.call(s0,e)?!0:yp.call(r0,e)?!1:mP.test(e)?s0[e]=!0:(r0[e]=!0,!1)}function yP(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function vP(e,t,n,r){if(t===null||typeof t>"u"||yP(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function rn(e,t,n,r,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Bt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Bt[e]=new rn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Bt[t]=new rn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Bt[e]=new rn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Bt[e]=new rn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Bt[e]=new rn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Bt[e]=new rn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Bt[e]=new rn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Bt[e]=new rn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Bt[e]=new rn(e,5,!1,e.toLowerCase(),null,!1,!1)});var gg=/[\-:]([a-z])/g;function yg(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(gg,yg);Bt[t]=new rn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(gg,yg);Bt[t]=new rn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(gg,yg);Bt[t]=new rn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Bt[e]=new rn(e,1,!1,e.toLowerCase(),null,!1,!1)});Bt.xlinkHref=new rn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Bt[e]=new rn(e,1,!1,e.toLowerCase(),null,!0,!0)});function vg(e,t,n,r){var s=Bt.hasOwnProperty(t)?Bt[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(vP(t,n,s,r)&&(n=null),r||s===null?gP(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Vr=pP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Pc=Symbol.for("react.element"),ao=Symbol.for("react.portal"),lo=Symbol.for("react.fragment"),xg=Symbol.for("react.strict_mode"),vp=Symbol.for("react.profiler"),Zb=Symbol.for("react.provider"),e1=Symbol.for("react.context"),wg=Symbol.for("react.forward_ref"),xp=Symbol.for("react.suspense"),wp=Symbol.for("react.suspense_list"),bg=Symbol.for("react.memo"),is=Symbol.for("react.lazy"),t1=Symbol.for("react.offscreen"),i0=Symbol.iterator;function Ca(e){return e===null||typeof e!="object"?null:(e=i0&&e[i0]||e["@@iterator"],typeof e=="function"?e:null)}var mt=Object.assign,ih;function Ua(e){if(ih===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ih=t&&t[1]||""}return`
`+ih+e}var oh=!1;function ah(e,t){if(!e||oh)return"";oh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=a);break}}}finally{oh=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Ua(e):""}function xP(e){switch(e.tag){case 5:return Ua(e.type);case 16:return Ua("Lazy");case 13:return Ua("Suspense");case 19:return Ua("SuspenseList");case 0:case 2:case 15:return e=ah(e.type,!1),e;case 11:return e=ah(e.type.render,!1),e;case 1:return e=ah(e.type,!0),e;default:return""}}function bp(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case lo:return"Fragment";case ao:return"Portal";case vp:return"Profiler";case xg:return"StrictMode";case xp:return"Suspense";case wp:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case e1:return(e.displayName||"Context")+".Consumer";case Zb:return(e._context.displayName||"Context")+".Provider";case wg:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case bg:return t=e.displayName||null,t!==null?t:bp(e.type)||"Memo";case is:t=e._payload,e=e._init;try{return bp(e(t))}catch{}}return null}function wP(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return bp(t);case 8:return t===xg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ts(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function n1(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function bP(e){var t=n1(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Tc(e){e._valueTracker||(e._valueTracker=bP(e))}function r1(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=n1(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Ru(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Sp(e,t){var n=t.checked;return mt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function o0(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Ts(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function s1(e,t){t=t.checked,t!=null&&vg(e,"checked",t,!1)}function _p(e,t){s1(e,t);var n=Ts(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?jp(e,t.type,n):t.hasOwnProperty("defaultValue")&&jp(e,t.type,Ts(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function a0(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function jp(e,t,n){(t!=="number"||Ru(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var za=Array.isArray;function jo(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Ts(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function kp(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ne(91));return mt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function l0(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(ne(92));if(za(n)){if(1<n.length)throw Error(ne(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Ts(n)}}function i1(e,t){var n=Ts(t.value),r=Ts(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function c0(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function o1(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Cp(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?o1(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Rc,a1=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Rc=Rc||document.createElement("div"),Rc.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Rc.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function pl(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Xa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},SP=["Webkit","ms","Moz","O"];Object.keys(Xa).forEach(function(e){SP.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Xa[t]=Xa[e]})});function l1(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Xa.hasOwnProperty(e)&&Xa[e]?(""+t).trim():t+"px"}function c1(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=l1(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var _P=mt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ep(e,t){if(t){if(_P[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ne(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ne(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ne(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ne(62))}}function Np(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pp=null;function Sg(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Tp=null,ko=null,Co=null;function u0(e){if(e=Wl(e)){if(typeof Tp!="function")throw Error(ne(280));var t=e.stateNode;t&&(t=Rd(t),Tp(e.stateNode,e.type,t))}}function u1(e){ko?Co?Co.push(e):Co=[e]:ko=e}function d1(){if(ko){var e=ko,t=Co;if(Co=ko=null,u0(e),t)for(e=0;e<t.length;e++)u0(t[e])}}function f1(e,t){return e(t)}function h1(){}var lh=!1;function p1(e,t,n){if(lh)return e(t,n);lh=!0;try{return f1(e,t,n)}finally{lh=!1,(ko!==null||Co!==null)&&(h1(),d1())}}function ml(e,t){var n=e.stateNode;if(n===null)return null;var r=Rd(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(ne(231,t,typeof n));return n}var Rp=!1;if(Or)try{var Ea={};Object.defineProperty(Ea,"passive",{get:function(){Rp=!0}}),window.addEventListener("test",Ea,Ea),window.removeEventListener("test",Ea,Ea)}catch{Rp=!1}function jP(e,t,n,r,s,i,o,a,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(f){this.onError(f)}}var Qa=!1,Au=null,Ou=!1,Ap=null,kP={onError:function(e){Qa=!0,Au=e}};function CP(e,t,n,r,s,i,o,a,c){Qa=!1,Au=null,jP.apply(kP,arguments)}function EP(e,t,n,r,s,i,o,a,c){if(CP.apply(this,arguments),Qa){if(Qa){var u=Au;Qa=!1,Au=null}else throw Error(ne(198));Ou||(Ou=!0,Ap=u)}}function Ai(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function m1(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function d0(e){if(Ai(e)!==e)throw Error(ne(188))}function NP(e){var t=e.alternate;if(!t){if(t=Ai(e),t===null)throw Error(ne(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return d0(s),e;if(i===r)return d0(s),t;i=i.sibling}throw Error(ne(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(ne(189))}}if(n.alternate!==r)throw Error(ne(190))}if(n.tag!==3)throw Error(ne(188));return n.stateNode.current===n?e:t}function g1(e){return e=NP(e),e!==null?y1(e):null}function y1(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=y1(e);if(t!==null)return t;e=e.sibling}return null}var v1=Sn.unstable_scheduleCallback,f0=Sn.unstable_cancelCallback,PP=Sn.unstable_shouldYield,TP=Sn.unstable_requestPaint,wt=Sn.unstable_now,RP=Sn.unstable_getCurrentPriorityLevel,_g=Sn.unstable_ImmediatePriority,x1=Sn.unstable_UserBlockingPriority,Du=Sn.unstable_NormalPriority,AP=Sn.unstable_LowPriority,w1=Sn.unstable_IdlePriority,Ed=null,fr=null;function OP(e){if(fr&&typeof fr.onCommitFiberRoot=="function")try{fr.onCommitFiberRoot(Ed,e,void 0,(e.current.flags&128)===128)}catch{}}var Gn=Math.clz32?Math.clz32:IP,DP=Math.log,LP=Math.LN2;function IP(e){return e>>>=0,e===0?32:31-(DP(e)/LP|0)|0}var Ac=64,Oc=4194304;function Wa(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Lu(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Wa(a):(i&=o,i!==0&&(r=Wa(i)))}else o=n&~s,o!==0?r=Wa(o):i!==0&&(r=Wa(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Gn(t),s=1<<n,r|=e[n],t&=~s;return r}function MP(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function FP(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Gn(i),a=1<<o,c=s[o];c===-1?(!(a&n)||a&r)&&(s[o]=MP(a,t)):c<=t&&(e.expiredLanes|=a),i&=~a}}function Op(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function b1(){var e=Ac;return Ac<<=1,!(Ac&4194240)&&(Ac=64),e}function ch(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ul(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Gn(t),e[t]=n}function $P(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-Gn(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function jg(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Gn(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var Qe=0;function S1(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var _1,kg,j1,k1,C1,Dp=!1,Dc=[],ms=null,gs=null,ys=null,gl=new Map,yl=new Map,cs=[],VP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function h0(e,t){switch(e){case"focusin":case"focusout":ms=null;break;case"dragenter":case"dragleave":gs=null;break;case"mouseover":case"mouseout":ys=null;break;case"pointerover":case"pointerout":gl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":yl.delete(t.pointerId)}}function Na(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Wl(t),t!==null&&kg(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function BP(e,t,n,r,s){switch(t){case"focusin":return ms=Na(ms,e,t,n,r,s),!0;case"dragenter":return gs=Na(gs,e,t,n,r,s),!0;case"mouseover":return ys=Na(ys,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return gl.set(i,Na(gl.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,yl.set(i,Na(yl.get(i)||null,e,t,n,r,s)),!0}return!1}function E1(e){var t=pi(e.target);if(t!==null){var n=Ai(t);if(n!==null){if(t=n.tag,t===13){if(t=m1(n),t!==null){e.blockedOn=t,C1(e.priority,function(){j1(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function fu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Lp(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Pp=r,n.target.dispatchEvent(r),Pp=null}else return t=Wl(n),t!==null&&kg(t),e.blockedOn=n,!1;t.shift()}return!0}function p0(e,t,n){fu(e)&&n.delete(t)}function UP(){Dp=!1,ms!==null&&fu(ms)&&(ms=null),gs!==null&&fu(gs)&&(gs=null),ys!==null&&fu(ys)&&(ys=null),gl.forEach(p0),yl.forEach(p0)}function Pa(e,t){e.blockedOn===t&&(e.blockedOn=null,Dp||(Dp=!0,Sn.unstable_scheduleCallback(Sn.unstable_NormalPriority,UP)))}function vl(e){function t(s){return Pa(s,e)}if(0<Dc.length){Pa(Dc[0],e);for(var n=1;n<Dc.length;n++){var r=Dc[n];r.blockedOn===e&&(r.blockedOn=null)}}for(ms!==null&&Pa(ms,e),gs!==null&&Pa(gs,e),ys!==null&&Pa(ys,e),gl.forEach(t),yl.forEach(t),n=0;n<cs.length;n++)r=cs[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<cs.length&&(n=cs[0],n.blockedOn===null);)E1(n),n.blockedOn===null&&cs.shift()}var Eo=Vr.ReactCurrentBatchConfig,Iu=!0;function zP(e,t,n,r){var s=Qe,i=Eo.transition;Eo.transition=null;try{Qe=1,Cg(e,t,n,r)}finally{Qe=s,Eo.transition=i}}function WP(e,t,n,r){var s=Qe,i=Eo.transition;Eo.transition=null;try{Qe=4,Cg(e,t,n,r)}finally{Qe=s,Eo.transition=i}}function Cg(e,t,n,r){if(Iu){var s=Lp(e,t,n,r);if(s===null)xh(e,t,r,Mu,n),h0(e,r);else if(BP(s,e,t,n,r))r.stopPropagation();else if(h0(e,r),t&4&&-1<VP.indexOf(e)){for(;s!==null;){var i=Wl(s);if(i!==null&&_1(i),i=Lp(e,t,n,r),i===null&&xh(e,t,r,Mu,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else xh(e,t,r,null,n)}}var Mu=null;function Lp(e,t,n,r){if(Mu=null,e=Sg(r),e=pi(e),e!==null)if(t=Ai(e),t===null)e=null;else if(n=t.tag,n===13){if(e=m1(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Mu=e,null}function N1(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(RP()){case _g:return 1;case x1:return 4;case Du:case AP:return 16;case w1:return 536870912;default:return 16}default:return 16}}var fs=null,Eg=null,hu=null;function P1(){if(hu)return hu;var e,t=Eg,n=t.length,r,s="value"in fs?fs.value:fs.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[i-r];r++);return hu=s.slice(e,1<r?1-r:void 0)}function pu(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Lc(){return!0}function m0(){return!1}function kn(e){function t(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Lc:m0,this.isPropagationStopped=m0,this}return mt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Lc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Lc)},persist:function(){},isPersistent:Lc}),t}var ta={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ng=kn(ta),zl=mt({},ta,{view:0,detail:0}),KP=kn(zl),uh,dh,Ta,Nd=mt({},zl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pg,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ta&&(Ta&&e.type==="mousemove"?(uh=e.screenX-Ta.screenX,dh=e.screenY-Ta.screenY):dh=uh=0,Ta=e),uh)},movementY:function(e){return"movementY"in e?e.movementY:dh}}),g0=kn(Nd),HP=mt({},Nd,{dataTransfer:0}),qP=kn(HP),YP=mt({},zl,{relatedTarget:0}),fh=kn(YP),GP=mt({},ta,{animationName:0,elapsedTime:0,pseudoElement:0}),XP=kn(GP),QP=mt({},ta,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),JP=kn(QP),ZP=mt({},ta,{data:0}),y0=kn(ZP),eT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rT(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=nT[e])?!!t[e]:!1}function Pg(){return rT}var sT=mt({},zl,{key:function(e){if(e.key){var t=eT[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=pu(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?tT[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pg,charCode:function(e){return e.type==="keypress"?pu(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?pu(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),iT=kn(sT),oT=mt({},Nd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),v0=kn(oT),aT=mt({},zl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pg}),lT=kn(aT),cT=mt({},ta,{propertyName:0,elapsedTime:0,pseudoElement:0}),uT=kn(cT),dT=mt({},Nd,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),fT=kn(dT),hT=[9,13,27,32],Tg=Or&&"CompositionEvent"in window,Ja=null;Or&&"documentMode"in document&&(Ja=document.documentMode);var pT=Or&&"TextEvent"in window&&!Ja,T1=Or&&(!Tg||Ja&&8<Ja&&11>=Ja),x0=String.fromCharCode(32),w0=!1;function R1(e,t){switch(e){case"keyup":return hT.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function A1(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var co=!1;function mT(e,t){switch(e){case"compositionend":return A1(t);case"keypress":return t.which!==32?null:(w0=!0,x0);case"textInput":return e=t.data,e===x0&&w0?null:e;default:return null}}function gT(e,t){if(co)return e==="compositionend"||!Tg&&R1(e,t)?(e=P1(),hu=Eg=fs=null,co=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return T1&&t.locale!=="ko"?null:t.data;default:return null}}var yT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function b0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!yT[e.type]:t==="textarea"}function O1(e,t,n,r){u1(r),t=Fu(t,"onChange"),0<t.length&&(n=new Ng("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Za=null,xl=null;function vT(e){W1(e,0)}function Pd(e){var t=ho(e);if(r1(t))return e}function xT(e,t){if(e==="change")return t}var D1=!1;if(Or){var hh;if(Or){var ph="oninput"in document;if(!ph){var S0=document.createElement("div");S0.setAttribute("oninput","return;"),ph=typeof S0.oninput=="function"}hh=ph}else hh=!1;D1=hh&&(!document.documentMode||9<document.documentMode)}function _0(){Za&&(Za.detachEvent("onpropertychange",L1),xl=Za=null)}function L1(e){if(e.propertyName==="value"&&Pd(xl)){var t=[];O1(t,xl,e,Sg(e)),p1(vT,t)}}function wT(e,t,n){e==="focusin"?(_0(),Za=t,xl=n,Za.attachEvent("onpropertychange",L1)):e==="focusout"&&_0()}function bT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Pd(xl)}function ST(e,t){if(e==="click")return Pd(t)}function _T(e,t){if(e==="input"||e==="change")return Pd(t)}function jT(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Jn=typeof Object.is=="function"?Object.is:jT;function wl(e,t){if(Jn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!yp.call(t,s)||!Jn(e[s],t[s]))return!1}return!0}function j0(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function k0(e,t){var n=j0(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=j0(n)}}function I1(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?I1(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function M1(){for(var e=window,t=Ru();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ru(e.document)}return t}function Rg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function kT(e){var t=M1(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&I1(n.ownerDocument.documentElement,n)){if(r!==null&&Rg(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=k0(n,i);var o=k0(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var CT=Or&&"documentMode"in document&&11>=document.documentMode,uo=null,Ip=null,el=null,Mp=!1;function C0(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Mp||uo==null||uo!==Ru(r)||(r=uo,"selectionStart"in r&&Rg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),el&&wl(el,r)||(el=r,r=Fu(Ip,"onSelect"),0<r.length&&(t=new Ng("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=uo)))}function Ic(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var fo={animationend:Ic("Animation","AnimationEnd"),animationiteration:Ic("Animation","AnimationIteration"),animationstart:Ic("Animation","AnimationStart"),transitionend:Ic("Transition","TransitionEnd")},mh={},F1={};Or&&(F1=document.createElement("div").style,"AnimationEvent"in window||(delete fo.animationend.animation,delete fo.animationiteration.animation,delete fo.animationstart.animation),"TransitionEvent"in window||delete fo.transitionend.transition);function Td(e){if(mh[e])return mh[e];if(!fo[e])return e;var t=fo[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in F1)return mh[e]=t[n];return e}var $1=Td("animationend"),V1=Td("animationiteration"),B1=Td("animationstart"),U1=Td("transitionend"),z1=new Map,E0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function $s(e,t){z1.set(e,t),Ri(t,[e])}for(var gh=0;gh<E0.length;gh++){var yh=E0[gh],ET=yh.toLowerCase(),NT=yh[0].toUpperCase()+yh.slice(1);$s(ET,"on"+NT)}$s($1,"onAnimationEnd");$s(V1,"onAnimationIteration");$s(B1,"onAnimationStart");$s("dblclick","onDoubleClick");$s("focusin","onFocus");$s("focusout","onBlur");$s(U1,"onTransitionEnd");Fo("onMouseEnter",["mouseout","mouseover"]);Fo("onMouseLeave",["mouseout","mouseover"]);Fo("onPointerEnter",["pointerout","pointerover"]);Fo("onPointerLeave",["pointerout","pointerover"]);Ri("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ri("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ri("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ri("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ri("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ri("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ka="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),PT=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ka));function N0(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,EP(r,t,void 0,e),e.currentTarget=null}function W1(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],c=a.instance,u=a.currentTarget;if(a=a.listener,c!==i&&s.isPropagationStopped())break e;N0(s,a,u),i=c}else for(o=0;o<r.length;o++){if(a=r[o],c=a.instance,u=a.currentTarget,a=a.listener,c!==i&&s.isPropagationStopped())break e;N0(s,a,u),i=c}}}if(Ou)throw e=Ap,Ou=!1,Ap=null,e}function it(e,t){var n=t[Up];n===void 0&&(n=t[Up]=new Set);var r=e+"__bubble";n.has(r)||(K1(t,e,2,!1),n.add(r))}function vh(e,t,n){var r=0;t&&(r|=4),K1(n,e,r,t)}var Mc="_reactListening"+Math.random().toString(36).slice(2);function bl(e){if(!e[Mc]){e[Mc]=!0,Jb.forEach(function(n){n!=="selectionchange"&&(PT.has(n)||vh(n,!1,e),vh(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Mc]||(t[Mc]=!0,vh("selectionchange",!1,t))}}function K1(e,t,n,r){switch(N1(t)){case 1:var s=zP;break;case 4:s=WP;break;default:s=Cg}n=s.bind(null,t,n,e),s=void 0,!Rp||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function xh(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;a!==null;){if(o=pi(a),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}a=a.parentNode}}r=r.return}p1(function(){var u=i,f=Sg(n),h=[];e:{var g=z1.get(e);if(g!==void 0){var w=Ng,k=e;switch(e){case"keypress":if(pu(n)===0)break e;case"keydown":case"keyup":w=iT;break;case"focusin":k="focus",w=fh;break;case"focusout":k="blur",w=fh;break;case"beforeblur":case"afterblur":w=fh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=g0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=qP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=lT;break;case $1:case V1:case B1:w=XP;break;case U1:w=uT;break;case"scroll":w=KP;break;case"wheel":w=fT;break;case"copy":case"cut":case"paste":w=JP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=v0}var v=(t&4)!==0,j=!v&&e==="scroll",_=v?g!==null?g+"Capture":null:g;v=[];for(var x=u,b;x!==null;){b=x;var E=b.stateNode;if(b.tag===5&&E!==null&&(b=E,_!==null&&(E=ml(x,_),E!=null&&v.push(Sl(x,E,b)))),j)break;x=x.return}0<v.length&&(g=new w(g,k,null,n,f),h.push({event:g,listeners:v}))}}if(!(t&7)){e:{if(g=e==="mouseover"||e==="pointerover",w=e==="mouseout"||e==="pointerout",g&&n!==Pp&&(k=n.relatedTarget||n.fromElement)&&(pi(k)||k[Dr]))break e;if((w||g)&&(g=f.window===f?f:(g=f.ownerDocument)?g.defaultView||g.parentWindow:window,w?(k=n.relatedTarget||n.toElement,w=u,k=k?pi(k):null,k!==null&&(j=Ai(k),k!==j||k.tag!==5&&k.tag!==6)&&(k=null)):(w=null,k=u),w!==k)){if(v=g0,E="onMouseLeave",_="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(v=v0,E="onPointerLeave",_="onPointerEnter",x="pointer"),j=w==null?g:ho(w),b=k==null?g:ho(k),g=new v(E,x+"leave",w,n,f),g.target=j,g.relatedTarget=b,E=null,pi(f)===u&&(v=new v(_,x+"enter",k,n,f),v.target=b,v.relatedTarget=j,E=v),j=E,w&&k)t:{for(v=w,_=k,x=0,b=v;b;b=qi(b))x++;for(b=0,E=_;E;E=qi(E))b++;for(;0<x-b;)v=qi(v),x--;for(;0<b-x;)_=qi(_),b--;for(;x--;){if(v===_||_!==null&&v===_.alternate)break t;v=qi(v),_=qi(_)}v=null}else v=null;w!==null&&P0(h,g,w,v,!1),k!==null&&j!==null&&P0(h,j,k,v,!0)}}e:{if(g=u?ho(u):window,w=g.nodeName&&g.nodeName.toLowerCase(),w==="select"||w==="input"&&g.type==="file")var R=xT;else if(b0(g))if(D1)R=_T;else{R=bT;var D=wT}else(w=g.nodeName)&&w.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(R=ST);if(R&&(R=R(e,u))){O1(h,R,n,f);break e}D&&D(e,g,u),e==="focusout"&&(D=g._wrapperState)&&D.controlled&&g.type==="number"&&jp(g,"number",g.value)}switch(D=u?ho(u):window,e){case"focusin":(b0(D)||D.contentEditable==="true")&&(uo=D,Ip=u,el=null);break;case"focusout":el=Ip=uo=null;break;case"mousedown":Mp=!0;break;case"contextmenu":case"mouseup":case"dragend":Mp=!1,C0(h,n,f);break;case"selectionchange":if(CT)break;case"keydown":case"keyup":C0(h,n,f)}var T;if(Tg)e:{switch(e){case"compositionstart":var F="onCompositionStart";break e;case"compositionend":F="onCompositionEnd";break e;case"compositionupdate":F="onCompositionUpdate";break e}F=void 0}else co?R1(e,n)&&(F="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(F="onCompositionStart");F&&(T1&&n.locale!=="ko"&&(co||F!=="onCompositionStart"?F==="onCompositionEnd"&&co&&(T=P1()):(fs=f,Eg="value"in fs?fs.value:fs.textContent,co=!0)),D=Fu(u,F),0<D.length&&(F=new y0(F,e,null,n,f),h.push({event:F,listeners:D}),T?F.data=T:(T=A1(n),T!==null&&(F.data=T)))),(T=pT?mT(e,n):gT(e,n))&&(u=Fu(u,"onBeforeInput"),0<u.length&&(f=new y0("onBeforeInput","beforeinput",null,n,f),h.push({event:f,listeners:u}),f.data=T))}W1(h,t)})}function Sl(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Fu(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=ml(e,n),i!=null&&r.unshift(Sl(e,i,s)),i=ml(e,t),i!=null&&r.push(Sl(e,i,s))),e=e.return}return r}function qi(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function P0(e,t,n,r,s){for(var i=t._reactName,o=[];n!==null&&n!==r;){var a=n,c=a.alternate,u=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&u!==null&&(a=u,s?(c=ml(n,i),c!=null&&o.unshift(Sl(n,c,a))):s||(c=ml(n,i),c!=null&&o.push(Sl(n,c,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var TT=/\r\n?/g,RT=/\u0000|\uFFFD/g;function T0(e){return(typeof e=="string"?e:""+e).replace(TT,`
`).replace(RT,"")}function Fc(e,t,n){if(t=T0(t),T0(e)!==t&&n)throw Error(ne(425))}function $u(){}var Fp=null,$p=null;function Vp(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Bp=typeof setTimeout=="function"?setTimeout:void 0,AT=typeof clearTimeout=="function"?clearTimeout:void 0,R0=typeof Promise=="function"?Promise:void 0,OT=typeof queueMicrotask=="function"?queueMicrotask:typeof R0<"u"?function(e){return R0.resolve(null).then(e).catch(DT)}:Bp;function DT(e){setTimeout(function(){throw e})}function wh(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),vl(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);vl(t)}function vs(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function A0(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var na=Math.random().toString(36).slice(2),ur="__reactFiber$"+na,_l="__reactProps$"+na,Dr="__reactContainer$"+na,Up="__reactEvents$"+na,LT="__reactListeners$"+na,IT="__reactHandles$"+na;function pi(e){var t=e[ur];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Dr]||n[ur]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=A0(e);e!==null;){if(n=e[ur])return n;e=A0(e)}return t}e=n,n=e.parentNode}return null}function Wl(e){return e=e[ur]||e[Dr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ho(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ne(33))}function Rd(e){return e[_l]||null}var zp=[],po=-1;function Vs(e){return{current:e}}function ot(e){0>po||(e.current=zp[po],zp[po]=null,po--)}function et(e,t){po++,zp[po]=e.current,e.current=t}var Rs={},Xt=Vs(Rs),an=Vs(!1),Si=Rs;function $o(e,t){var n=e.type.contextTypes;if(!n)return Rs;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function ln(e){return e=e.childContextTypes,e!=null}function Vu(){ot(an),ot(Xt)}function O0(e,t,n){if(Xt.current!==Rs)throw Error(ne(168));et(Xt,t),et(an,n)}function H1(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(ne(108,wP(e)||"Unknown",s));return mt({},n,r)}function Bu(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Rs,Si=Xt.current,et(Xt,e),et(an,an.current),!0}function D0(e,t,n){var r=e.stateNode;if(!r)throw Error(ne(169));n?(e=H1(e,t,Si),r.__reactInternalMemoizedMergedChildContext=e,ot(an),ot(Xt),et(Xt,e)):ot(an),et(an,n)}var kr=null,Ad=!1,bh=!1;function q1(e){kr===null?kr=[e]:kr.push(e)}function MT(e){Ad=!0,q1(e)}function Bs(){if(!bh&&kr!==null){bh=!0;var e=0,t=Qe;try{var n=kr;for(Qe=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}kr=null,Ad=!1}catch(s){throw kr!==null&&(kr=kr.slice(e+1)),v1(_g,Bs),s}finally{Qe=t,bh=!1}}return null}var mo=[],go=0,Uu=null,zu=0,Rn=[],An=0,_i=null,Cr=1,Er="";function oi(e,t){mo[go++]=zu,mo[go++]=Uu,Uu=e,zu=t}function Y1(e,t,n){Rn[An++]=Cr,Rn[An++]=Er,Rn[An++]=_i,_i=e;var r=Cr;e=Er;var s=32-Gn(r)-1;r&=~(1<<s),n+=1;var i=32-Gn(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Cr=1<<32-Gn(t)+s|n<<s|r,Er=i+e}else Cr=1<<i|n<<s|r,Er=e}function Ag(e){e.return!==null&&(oi(e,1),Y1(e,1,0))}function Og(e){for(;e===Uu;)Uu=mo[--go],mo[go]=null,zu=mo[--go],mo[go]=null;for(;e===_i;)_i=Rn[--An],Rn[An]=null,Er=Rn[--An],Rn[An]=null,Cr=Rn[--An],Rn[An]=null}var vn=null,yn=null,lt=!1,Yn=null;function G1(e,t){var n=In(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function L0(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,vn=e,yn=vs(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,vn=e,yn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=_i!==null?{id:Cr,overflow:Er}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=In(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,vn=e,yn=null,!0):!1;default:return!1}}function Wp(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Kp(e){if(lt){var t=yn;if(t){var n=t;if(!L0(e,t)){if(Wp(e))throw Error(ne(418));t=vs(n.nextSibling);var r=vn;t&&L0(e,t)?G1(r,n):(e.flags=e.flags&-4097|2,lt=!1,vn=e)}}else{if(Wp(e))throw Error(ne(418));e.flags=e.flags&-4097|2,lt=!1,vn=e}}}function I0(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;vn=e}function $c(e){if(e!==vn)return!1;if(!lt)return I0(e),lt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Vp(e.type,e.memoizedProps)),t&&(t=yn)){if(Wp(e))throw X1(),Error(ne(418));for(;t;)G1(e,t),t=vs(t.nextSibling)}if(I0(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ne(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){yn=vs(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}yn=null}}else yn=vn?vs(e.stateNode.nextSibling):null;return!0}function X1(){for(var e=yn;e;)e=vs(e.nextSibling)}function Vo(){yn=vn=null,lt=!1}function Dg(e){Yn===null?Yn=[e]:Yn.push(e)}var FT=Vr.ReactCurrentBatchConfig;function Ra(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ne(309));var r=n.stateNode}if(!r)throw Error(ne(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(ne(284));if(!n._owner)throw Error(ne(290,e))}return e}function Vc(e,t){throw e=Object.prototype.toString.call(t),Error(ne(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function M0(e){var t=e._init;return t(e._payload)}function Q1(e){function t(_,x){if(e){var b=_.deletions;b===null?(_.deletions=[x],_.flags|=16):b.push(x)}}function n(_,x){if(!e)return null;for(;x!==null;)t(_,x),x=x.sibling;return null}function r(_,x){for(_=new Map;x!==null;)x.key!==null?_.set(x.key,x):_.set(x.index,x),x=x.sibling;return _}function s(_,x){return _=Ss(_,x),_.index=0,_.sibling=null,_}function i(_,x,b){return _.index=b,e?(b=_.alternate,b!==null?(b=b.index,b<x?(_.flags|=2,x):b):(_.flags|=2,x)):(_.flags|=1048576,x)}function o(_){return e&&_.alternate===null&&(_.flags|=2),_}function a(_,x,b,E){return x===null||x.tag!==6?(x=Nh(b,_.mode,E),x.return=_,x):(x=s(x,b),x.return=_,x)}function c(_,x,b,E){var R=b.type;return R===lo?f(_,x,b.props.children,E,b.key):x!==null&&(x.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===is&&M0(R)===x.type)?(E=s(x,b.props),E.ref=Ra(_,x,b),E.return=_,E):(E=bu(b.type,b.key,b.props,null,_.mode,E),E.ref=Ra(_,x,b),E.return=_,E)}function u(_,x,b,E){return x===null||x.tag!==4||x.stateNode.containerInfo!==b.containerInfo||x.stateNode.implementation!==b.implementation?(x=Ph(b,_.mode,E),x.return=_,x):(x=s(x,b.children||[]),x.return=_,x)}function f(_,x,b,E,R){return x===null||x.tag!==7?(x=wi(b,_.mode,E,R),x.return=_,x):(x=s(x,b),x.return=_,x)}function h(_,x,b){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Nh(""+x,_.mode,b),x.return=_,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Pc:return b=bu(x.type,x.key,x.props,null,_.mode,b),b.ref=Ra(_,null,x),b.return=_,b;case ao:return x=Ph(x,_.mode,b),x.return=_,x;case is:var E=x._init;return h(_,E(x._payload),b)}if(za(x)||Ca(x))return x=wi(x,_.mode,b,null),x.return=_,x;Vc(_,x)}return null}function g(_,x,b,E){var R=x!==null?x.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return R!==null?null:a(_,x,""+b,E);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Pc:return b.key===R?c(_,x,b,E):null;case ao:return b.key===R?u(_,x,b,E):null;case is:return R=b._init,g(_,x,R(b._payload),E)}if(za(b)||Ca(b))return R!==null?null:f(_,x,b,E,null);Vc(_,b)}return null}function w(_,x,b,E,R){if(typeof E=="string"&&E!==""||typeof E=="number")return _=_.get(b)||null,a(x,_,""+E,R);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Pc:return _=_.get(E.key===null?b:E.key)||null,c(x,_,E,R);case ao:return _=_.get(E.key===null?b:E.key)||null,u(x,_,E,R);case is:var D=E._init;return w(_,x,b,D(E._payload),R)}if(za(E)||Ca(E))return _=_.get(b)||null,f(x,_,E,R,null);Vc(x,E)}return null}function k(_,x,b,E){for(var R=null,D=null,T=x,F=x=0,Q=null;T!==null&&F<b.length;F++){T.index>F?(Q=T,T=null):Q=T.sibling;var K=g(_,T,b[F],E);if(K===null){T===null&&(T=Q);break}e&&T&&K.alternate===null&&t(_,T),x=i(K,x,F),D===null?R=K:D.sibling=K,D=K,T=Q}if(F===b.length)return n(_,T),lt&&oi(_,F),R;if(T===null){for(;F<b.length;F++)T=h(_,b[F],E),T!==null&&(x=i(T,x,F),D===null?R=T:D.sibling=T,D=T);return lt&&oi(_,F),R}for(T=r(_,T);F<b.length;F++)Q=w(T,_,F,b[F],E),Q!==null&&(e&&Q.alternate!==null&&T.delete(Q.key===null?F:Q.key),x=i(Q,x,F),D===null?R=Q:D.sibling=Q,D=Q);return e&&T.forEach(function(ie){return t(_,ie)}),lt&&oi(_,F),R}function v(_,x,b,E){var R=Ca(b);if(typeof R!="function")throw Error(ne(150));if(b=R.call(b),b==null)throw Error(ne(151));for(var D=R=null,T=x,F=x=0,Q=null,K=b.next();T!==null&&!K.done;F++,K=b.next()){T.index>F?(Q=T,T=null):Q=T.sibling;var ie=g(_,T,K.value,E);if(ie===null){T===null&&(T=Q);break}e&&T&&ie.alternate===null&&t(_,T),x=i(ie,x,F),D===null?R=ie:D.sibling=ie,D=ie,T=Q}if(K.done)return n(_,T),lt&&oi(_,F),R;if(T===null){for(;!K.done;F++,K=b.next())K=h(_,K.value,E),K!==null&&(x=i(K,x,F),D===null?R=K:D.sibling=K,D=K);return lt&&oi(_,F),R}for(T=r(_,T);!K.done;F++,K=b.next())K=w(T,_,F,K.value,E),K!==null&&(e&&K.alternate!==null&&T.delete(K.key===null?F:K.key),x=i(K,x,F),D===null?R=K:D.sibling=K,D=K);return e&&T.forEach(function(Z){return t(_,Z)}),lt&&oi(_,F),R}function j(_,x,b,E){if(typeof b=="object"&&b!==null&&b.type===lo&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Pc:e:{for(var R=b.key,D=x;D!==null;){if(D.key===R){if(R=b.type,R===lo){if(D.tag===7){n(_,D.sibling),x=s(D,b.props.children),x.return=_,_=x;break e}}else if(D.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===is&&M0(R)===D.type){n(_,D.sibling),x=s(D,b.props),x.ref=Ra(_,D,b),x.return=_,_=x;break e}n(_,D);break}else t(_,D);D=D.sibling}b.type===lo?(x=wi(b.props.children,_.mode,E,b.key),x.return=_,_=x):(E=bu(b.type,b.key,b.props,null,_.mode,E),E.ref=Ra(_,x,b),E.return=_,_=E)}return o(_);case ao:e:{for(D=b.key;x!==null;){if(x.key===D)if(x.tag===4&&x.stateNode.containerInfo===b.containerInfo&&x.stateNode.implementation===b.implementation){n(_,x.sibling),x=s(x,b.children||[]),x.return=_,_=x;break e}else{n(_,x);break}else t(_,x);x=x.sibling}x=Ph(b,_.mode,E),x.return=_,_=x}return o(_);case is:return D=b._init,j(_,x,D(b._payload),E)}if(za(b))return k(_,x,b,E);if(Ca(b))return v(_,x,b,E);Vc(_,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,x!==null&&x.tag===6?(n(_,x.sibling),x=s(x,b),x.return=_,_=x):(n(_,x),x=Nh(b,_.mode,E),x.return=_,_=x),o(_)):n(_,x)}return j}var Bo=Q1(!0),J1=Q1(!1),Wu=Vs(null),Ku=null,yo=null,Lg=null;function Ig(){Lg=yo=Ku=null}function Mg(e){var t=Wu.current;ot(Wu),e._currentValue=t}function Hp(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function No(e,t){Ku=e,Lg=yo=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(on=!0),e.firstContext=null)}function Fn(e){var t=e._currentValue;if(Lg!==e)if(e={context:e,memoizedValue:t,next:null},yo===null){if(Ku===null)throw Error(ne(308));yo=e,Ku.dependencies={lanes:0,firstContext:e}}else yo=yo.next=e;return t}var mi=null;function Fg(e){mi===null?mi=[e]:mi.push(e)}function Z1(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Fg(t)):(n.next=s.next,s.next=n),t.interleaved=n,Lr(e,r)}function Lr(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var os=!1;function $g(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function eS(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Pr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function xs(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,He&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Lr(e,n)}return s=r.interleaved,s===null?(t.next=t,Fg(r)):(t.next=s.next,s.next=t),r.interleaved=t,Lr(e,n)}function mu(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,jg(e,n)}}function F0(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Hu(e,t,n,r){var s=e.updateQueue;os=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var c=a,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var f=e.alternate;f!==null&&(f=f.updateQueue,a=f.lastBaseUpdate,a!==o&&(a===null?f.firstBaseUpdate=u:a.next=u,f.lastBaseUpdate=c))}if(i!==null){var h=s.baseState;o=0,f=u=c=null,a=i;do{var g=a.lane,w=a.eventTime;if((r&g)===g){f!==null&&(f=f.next={eventTime:w,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var k=e,v=a;switch(g=t,w=n,v.tag){case 1:if(k=v.payload,typeof k=="function"){h=k.call(w,h,g);break e}h=k;break e;case 3:k.flags=k.flags&-65537|128;case 0:if(k=v.payload,g=typeof k=="function"?k.call(w,h,g):k,g==null)break e;h=mt({},h,g);break e;case 2:os=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,g=s.effects,g===null?s.effects=[a]:g.push(a))}else w={eventTime:w,lane:g,tag:a.tag,payload:a.payload,callback:a.callback,next:null},f===null?(u=f=w,c=h):f=f.next=w,o|=g;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;g=a,a=g.next,g.next=null,s.lastBaseUpdate=g,s.shared.pending=null}}while(1);if(f===null&&(c=h),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=f,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);ki|=o,e.lanes=o,e.memoizedState=h}}function $0(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(ne(191,s));s.call(r)}}}var Kl={},hr=Vs(Kl),jl=Vs(Kl),kl=Vs(Kl);function gi(e){if(e===Kl)throw Error(ne(174));return e}function Vg(e,t){switch(et(kl,t),et(jl,e),et(hr,Kl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Cp(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Cp(t,e)}ot(hr),et(hr,t)}function Uo(){ot(hr),ot(jl),ot(kl)}function tS(e){gi(kl.current);var t=gi(hr.current),n=Cp(t,e.type);t!==n&&(et(jl,e),et(hr,n))}function Bg(e){jl.current===e&&(ot(hr),ot(jl))}var dt=Vs(0);function qu(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Sh=[];function Ug(){for(var e=0;e<Sh.length;e++)Sh[e]._workInProgressVersionPrimary=null;Sh.length=0}var gu=Vr.ReactCurrentDispatcher,_h=Vr.ReactCurrentBatchConfig,ji=0,ht=null,Et=null,Ot=null,Yu=!1,tl=!1,Cl=0,$T=0;function Kt(){throw Error(ne(321))}function zg(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Jn(e[n],t[n]))return!1;return!0}function Wg(e,t,n,r,s,i){if(ji=i,ht=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,gu.current=e===null||e.memoizedState===null?zT:WT,e=n(r,s),tl){i=0;do{if(tl=!1,Cl=0,25<=i)throw Error(ne(301));i+=1,Ot=Et=null,t.updateQueue=null,gu.current=KT,e=n(r,s)}while(tl)}if(gu.current=Gu,t=Et!==null&&Et.next!==null,ji=0,Ot=Et=ht=null,Yu=!1,t)throw Error(ne(300));return e}function Kg(){var e=Cl!==0;return Cl=0,e}function cr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ot===null?ht.memoizedState=Ot=e:Ot=Ot.next=e,Ot}function $n(){if(Et===null){var e=ht.alternate;e=e!==null?e.memoizedState:null}else e=Et.next;var t=Ot===null?ht.memoizedState:Ot.next;if(t!==null)Ot=t,Et=e;else{if(e===null)throw Error(ne(310));Et=e,e={memoizedState:Et.memoizedState,baseState:Et.baseState,baseQueue:Et.baseQueue,queue:Et.queue,next:null},Ot===null?ht.memoizedState=Ot=e:Ot=Ot.next=e}return Ot}function El(e,t){return typeof t=="function"?t(e):t}function jh(e){var t=$n(),n=t.queue;if(n===null)throw Error(ne(311));n.lastRenderedReducer=e;var r=Et,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,c=null,u=i;do{var f=u.lane;if((ji&f)===f)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(a=c=h,o=r):c=c.next=h,ht.lanes|=f,ki|=f}u=u.next}while(u!==null&&u!==i);c===null?o=r:c.next=a,Jn(r,t.memoizedState)||(on=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,ht.lanes|=i,ki|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function kh(e){var t=$n(),n=t.queue;if(n===null)throw Error(ne(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);Jn(i,t.memoizedState)||(on=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function nS(){}function rS(e,t){var n=ht,r=$n(),s=t(),i=!Jn(r.memoizedState,s);if(i&&(r.memoizedState=s,on=!0),r=r.queue,Hg(oS.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||Ot!==null&&Ot.memoizedState.tag&1){if(n.flags|=2048,Nl(9,iS.bind(null,n,r,s,t),void 0,null),Dt===null)throw Error(ne(349));ji&30||sS(n,t,s)}return s}function sS(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ht.updateQueue,t===null?(t={lastEffect:null,stores:null},ht.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function iS(e,t,n,r){t.value=n,t.getSnapshot=r,aS(t)&&lS(e)}function oS(e,t,n){return n(function(){aS(t)&&lS(e)})}function aS(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Jn(e,n)}catch{return!0}}function lS(e){var t=Lr(e,1);t!==null&&Xn(t,e,1,-1)}function V0(e){var t=cr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:El,lastRenderedState:e},t.queue=e,e=e.dispatch=UT.bind(null,ht,e),[t.memoizedState,e]}function Nl(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ht.updateQueue,t===null?(t={lastEffect:null,stores:null},ht.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function cS(){return $n().memoizedState}function yu(e,t,n,r){var s=cr();ht.flags|=e,s.memoizedState=Nl(1|t,n,void 0,r===void 0?null:r)}function Od(e,t,n,r){var s=$n();r=r===void 0?null:r;var i=void 0;if(Et!==null){var o=Et.memoizedState;if(i=o.destroy,r!==null&&zg(r,o.deps)){s.memoizedState=Nl(t,n,i,r);return}}ht.flags|=e,s.memoizedState=Nl(1|t,n,i,r)}function B0(e,t){return yu(8390656,8,e,t)}function Hg(e,t){return Od(2048,8,e,t)}function uS(e,t){return Od(4,2,e,t)}function dS(e,t){return Od(4,4,e,t)}function fS(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function hS(e,t,n){return n=n!=null?n.concat([e]):null,Od(4,4,fS.bind(null,t,e),n)}function qg(){}function pS(e,t){var n=$n();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&zg(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function mS(e,t){var n=$n();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&zg(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function gS(e,t,n){return ji&21?(Jn(n,t)||(n=b1(),ht.lanes|=n,ki|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,on=!0),e.memoizedState=n)}function VT(e,t){var n=Qe;Qe=n!==0&&4>n?n:4,e(!0);var r=_h.transition;_h.transition={};try{e(!1),t()}finally{Qe=n,_h.transition=r}}function yS(){return $n().memoizedState}function BT(e,t,n){var r=bs(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},vS(e))xS(t,n);else if(n=Z1(e,t,n,r),n!==null){var s=tn();Xn(n,e,r,s),wS(n,t,r)}}function UT(e,t,n){var r=bs(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(vS(e))xS(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Jn(a,o)){var c=t.interleaved;c===null?(s.next=s,Fg(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=Z1(e,t,s,r),n!==null&&(s=tn(),Xn(n,e,r,s),wS(n,t,r))}}function vS(e){var t=e.alternate;return e===ht||t!==null&&t===ht}function xS(e,t){tl=Yu=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function wS(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,jg(e,n)}}var Gu={readContext:Fn,useCallback:Kt,useContext:Kt,useEffect:Kt,useImperativeHandle:Kt,useInsertionEffect:Kt,useLayoutEffect:Kt,useMemo:Kt,useReducer:Kt,useRef:Kt,useState:Kt,useDebugValue:Kt,useDeferredValue:Kt,useTransition:Kt,useMutableSource:Kt,useSyncExternalStore:Kt,useId:Kt,unstable_isNewReconciler:!1},zT={readContext:Fn,useCallback:function(e,t){return cr().memoizedState=[e,t===void 0?null:t],e},useContext:Fn,useEffect:B0,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,yu(4194308,4,fS.bind(null,t,e),n)},useLayoutEffect:function(e,t){return yu(4194308,4,e,t)},useInsertionEffect:function(e,t){return yu(4,2,e,t)},useMemo:function(e,t){var n=cr();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=cr();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=BT.bind(null,ht,e),[r.memoizedState,e]},useRef:function(e){var t=cr();return e={current:e},t.memoizedState=e},useState:V0,useDebugValue:qg,useDeferredValue:function(e){return cr().memoizedState=e},useTransition:function(){var e=V0(!1),t=e[0];return e=VT.bind(null,e[1]),cr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ht,s=cr();if(lt){if(n===void 0)throw Error(ne(407));n=n()}else{if(n=t(),Dt===null)throw Error(ne(349));ji&30||sS(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,B0(oS.bind(null,r,i,e),[e]),r.flags|=2048,Nl(9,iS.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=cr(),t=Dt.identifierPrefix;if(lt){var n=Er,r=Cr;n=(r&~(1<<32-Gn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Cl++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=$T++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},WT={readContext:Fn,useCallback:pS,useContext:Fn,useEffect:Hg,useImperativeHandle:hS,useInsertionEffect:uS,useLayoutEffect:dS,useMemo:mS,useReducer:jh,useRef:cS,useState:function(){return jh(El)},useDebugValue:qg,useDeferredValue:function(e){var t=$n();return gS(t,Et.memoizedState,e)},useTransition:function(){var e=jh(El)[0],t=$n().memoizedState;return[e,t]},useMutableSource:nS,useSyncExternalStore:rS,useId:yS,unstable_isNewReconciler:!1},KT={readContext:Fn,useCallback:pS,useContext:Fn,useEffect:Hg,useImperativeHandle:hS,useInsertionEffect:uS,useLayoutEffect:dS,useMemo:mS,useReducer:kh,useRef:cS,useState:function(){return kh(El)},useDebugValue:qg,useDeferredValue:function(e){var t=$n();return Et===null?t.memoizedState=e:gS(t,Et.memoizedState,e)},useTransition:function(){var e=kh(El)[0],t=$n().memoizedState;return[e,t]},useMutableSource:nS,useSyncExternalStore:rS,useId:yS,unstable_isNewReconciler:!1};function Wn(e,t){if(e&&e.defaultProps){t=mt({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function qp(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:mt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Dd={isMounted:function(e){return(e=e._reactInternals)?Ai(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tn(),s=bs(e),i=Pr(r,s);i.payload=t,n!=null&&(i.callback=n),t=xs(e,i,s),t!==null&&(Xn(t,e,s,r),mu(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tn(),s=bs(e),i=Pr(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=xs(e,i,s),t!==null&&(Xn(t,e,s,r),mu(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tn(),r=bs(e),s=Pr(n,r);s.tag=2,t!=null&&(s.callback=t),t=xs(e,s,r),t!==null&&(Xn(t,e,r,n),mu(t,e,r))}};function U0(e,t,n,r,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!wl(n,r)||!wl(s,i):!0}function bS(e,t,n){var r=!1,s=Rs,i=t.contextType;return typeof i=="object"&&i!==null?i=Fn(i):(s=ln(t)?Si:Xt.current,r=t.contextTypes,i=(r=r!=null)?$o(e,s):Rs),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Dd,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function z0(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Dd.enqueueReplaceState(t,t.state,null)}function Yp(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},$g(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Fn(i):(i=ln(t)?Si:Xt.current,s.context=$o(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(qp(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Dd.enqueueReplaceState(s,s.state,null),Hu(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function zo(e,t){try{var n="",r=t;do n+=xP(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Ch(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Gp(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var HT=typeof WeakMap=="function"?WeakMap:Map;function SS(e,t,n){n=Pr(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Qu||(Qu=!0,im=r),Gp(e,t)},n}function _S(e,t,n){n=Pr(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){Gp(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Gp(e,t),typeof r!="function"&&(ws===null?ws=new Set([this]):ws.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function W0(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new HT;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=o2.bind(null,e,t,n),t.then(e,e))}function K0(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function H0(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Pr(-1,1),t.tag=2,xs(n,t,1))),n.lanes|=1),e)}var qT=Vr.ReactCurrentOwner,on=!1;function en(e,t,n,r){t.child=e===null?J1(t,null,n,r):Bo(t,e.child,n,r)}function q0(e,t,n,r,s){n=n.render;var i=t.ref;return No(t,s),r=Wg(e,t,n,r,i,s),n=Kg(),e!==null&&!on?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ir(e,t,s)):(lt&&n&&Ag(t),t.flags|=1,en(e,t,r,s),t.child)}function Y0(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!ty(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,jS(e,t,i,r,s)):(e=bu(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:wl,n(o,r)&&e.ref===t.ref)return Ir(e,t,s)}return t.flags|=1,e=Ss(i,r),e.ref=t.ref,e.return=t,t.child=e}function jS(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(wl(i,r)&&e.ref===t.ref)if(on=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(on=!0);else return t.lanes=e.lanes,Ir(e,t,s)}return Xp(e,t,n,r,s)}function kS(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},et(xo,mn),mn|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,et(xo,mn),mn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,et(xo,mn),mn|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,et(xo,mn),mn|=r;return en(e,t,s,n),t.child}function CS(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Xp(e,t,n,r,s){var i=ln(n)?Si:Xt.current;return i=$o(t,i),No(t,s),n=Wg(e,t,n,r,i,s),r=Kg(),e!==null&&!on?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ir(e,t,s)):(lt&&r&&Ag(t),t.flags|=1,en(e,t,n,s),t.child)}function G0(e,t,n,r,s){if(ln(n)){var i=!0;Bu(t)}else i=!1;if(No(t,s),t.stateNode===null)vu(e,t),bS(t,n,r),Yp(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Fn(u):(u=ln(n)?Si:Xt.current,u=$o(t,u));var f=n.getDerivedStateFromProps,h=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||c!==u)&&z0(t,o,r,u),os=!1;var g=t.memoizedState;o.state=g,Hu(t,r,o,s),c=t.memoizedState,a!==r||g!==c||an.current||os?(typeof f=="function"&&(qp(t,n,f,r),c=t.memoizedState),(a=os||U0(t,n,a,r,g,c,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,eS(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:Wn(t.type,a),o.props=u,h=t.pendingProps,g=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=Fn(c):(c=ln(n)?Si:Xt.current,c=$o(t,c));var w=n.getDerivedStateFromProps;(f=typeof w=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||g!==c)&&z0(t,o,r,c),os=!1,g=t.memoizedState,o.state=g,Hu(t,r,o,s);var k=t.memoizedState;a!==h||g!==k||an.current||os?(typeof w=="function"&&(qp(t,n,w,r),k=t.memoizedState),(u=os||U0(t,n,u,r,g,k,c)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,k,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,k,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=k),o.props=r,o.state=k,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),r=!1)}return Qp(e,t,n,r,i,s)}function Qp(e,t,n,r,s,i){CS(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&D0(t,n,!1),Ir(e,t,i);r=t.stateNode,qT.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Bo(t,e.child,null,i),t.child=Bo(t,null,a,i)):en(e,t,a,i),t.memoizedState=r.state,s&&D0(t,n,!0),t.child}function ES(e){var t=e.stateNode;t.pendingContext?O0(e,t.pendingContext,t.pendingContext!==t.context):t.context&&O0(e,t.context,!1),Vg(e,t.containerInfo)}function X0(e,t,n,r,s){return Vo(),Dg(s),t.flags|=256,en(e,t,n,r),t.child}var Jp={dehydrated:null,treeContext:null,retryLane:0};function Zp(e){return{baseLanes:e,cachePool:null,transitions:null}}function NS(e,t,n){var r=t.pendingProps,s=dt.current,i=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),et(dt,s&1),e===null)return Kp(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Md(o,r,0,null),e=wi(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Zp(n),t.memoizedState=Jp,e):Yg(t,o));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return YT(e,t,o,r,a,s,n);if(i){i=r.fallback,o=t.mode,s=e.child,a=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Ss(s,c),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Ss(a,i):(i=wi(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?Zp(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=Jp,r}return i=e.child,e=i.sibling,r=Ss(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Yg(e,t){return t=Md({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Bc(e,t,n,r){return r!==null&&Dg(r),Bo(t,e.child,null,n),e=Yg(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function YT(e,t,n,r,s,i,o){if(n)return t.flags&256?(t.flags&=-257,r=Ch(Error(ne(422))),Bc(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=Md({mode:"visible",children:r.children},s,0,null),i=wi(i,s,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Bo(t,e.child,null,o),t.child.memoizedState=Zp(o),t.memoizedState=Jp,i);if(!(t.mode&1))return Bc(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(ne(419)),r=Ch(i,r,void 0),Bc(e,t,o,r)}if(a=(o&e.childLanes)!==0,on||a){if(r=Dt,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Lr(e,s),Xn(r,e,s,-1))}return ey(),r=Ch(Error(ne(421))),Bc(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=a2.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,yn=vs(s.nextSibling),vn=t,lt=!0,Yn=null,e!==null&&(Rn[An++]=Cr,Rn[An++]=Er,Rn[An++]=_i,Cr=e.id,Er=e.overflow,_i=t),t=Yg(t,r.children),t.flags|=4096,t)}function Q0(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Hp(e.return,t,n)}function Eh(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function PS(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(en(e,t,r.children,n),r=dt.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Q0(e,n,t);else if(e.tag===19)Q0(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(et(dt,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&qu(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Eh(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&qu(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Eh(t,!0,n,null,i);break;case"together":Eh(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function vu(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ir(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ki|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ne(153));if(t.child!==null){for(e=t.child,n=Ss(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ss(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function GT(e,t,n){switch(t.tag){case 3:ES(t),Vo();break;case 5:tS(t);break;case 1:ln(t.type)&&Bu(t);break;case 4:Vg(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;et(Wu,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(et(dt,dt.current&1),t.flags|=128,null):n&t.child.childLanes?NS(e,t,n):(et(dt,dt.current&1),e=Ir(e,t,n),e!==null?e.sibling:null);et(dt,dt.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return PS(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),et(dt,dt.current),r)break;return null;case 22:case 23:return t.lanes=0,kS(e,t,n)}return Ir(e,t,n)}var TS,em,RS,AS;TS=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};em=function(){};RS=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,gi(hr.current);var i=null;switch(n){case"input":s=Sp(e,s),r=Sp(e,r),i=[];break;case"select":s=mt({},s,{value:void 0}),r=mt({},r,{value:void 0}),i=[];break;case"textarea":s=kp(e,s),r=kp(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=$u)}Ep(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(hl.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==a&&(c!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&a[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(hl.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&it("scroll",e),i||a===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};AS=function(e,t,n,r){n!==r&&(t.flags|=4)};function Aa(e,t){if(!lt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ht(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function XT(e,t,n){var r=t.pendingProps;switch(Og(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ht(t),null;case 1:return ln(t.type)&&Vu(),Ht(t),null;case 3:return r=t.stateNode,Uo(),ot(an),ot(Xt),Ug(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&($c(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Yn!==null&&(lm(Yn),Yn=null))),em(e,t),Ht(t),null;case 5:Bg(t);var s=gi(kl.current);if(n=t.type,e!==null&&t.stateNode!=null)RS(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(ne(166));return Ht(t),null}if(e=gi(hr.current),$c(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[ur]=t,r[_l]=i,e=(t.mode&1)!==0,n){case"dialog":it("cancel",r),it("close",r);break;case"iframe":case"object":case"embed":it("load",r);break;case"video":case"audio":for(s=0;s<Ka.length;s++)it(Ka[s],r);break;case"source":it("error",r);break;case"img":case"image":case"link":it("error",r),it("load",r);break;case"details":it("toggle",r);break;case"input":o0(r,i),it("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},it("invalid",r);break;case"textarea":l0(r,i),it("invalid",r)}Ep(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Fc(r.textContent,a,e),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Fc(r.textContent,a,e),s=["children",""+a]):hl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&it("scroll",r)}switch(n){case"input":Tc(r),a0(r,i,!0);break;case"textarea":Tc(r),c0(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=$u)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=o1(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[ur]=t,e[_l]=r,TS(e,t,!1,!1),t.stateNode=e;e:{switch(o=Np(n,r),n){case"dialog":it("cancel",e),it("close",e),s=r;break;case"iframe":case"object":case"embed":it("load",e),s=r;break;case"video":case"audio":for(s=0;s<Ka.length;s++)it(Ka[s],e);s=r;break;case"source":it("error",e),s=r;break;case"img":case"image":case"link":it("error",e),it("load",e),s=r;break;case"details":it("toggle",e),s=r;break;case"input":o0(e,r),s=Sp(e,r),it("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=mt({},r,{value:void 0}),it("invalid",e);break;case"textarea":l0(e,r),s=kp(e,r),it("invalid",e);break;default:s=r}Ep(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var c=a[i];i==="style"?c1(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&a1(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&pl(e,c):typeof c=="number"&&pl(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(hl.hasOwnProperty(i)?c!=null&&i==="onScroll"&&it("scroll",e):c!=null&&vg(e,i,c,o))}switch(n){case"input":Tc(e),a0(e,r,!1);break;case"textarea":Tc(e),c0(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Ts(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?jo(e,!!r.multiple,i,!1):r.defaultValue!=null&&jo(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=$u)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ht(t),null;case 6:if(e&&t.stateNode!=null)AS(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(ne(166));if(n=gi(kl.current),gi(hr.current),$c(t)){if(r=t.stateNode,n=t.memoizedProps,r[ur]=t,(i=r.nodeValue!==n)&&(e=vn,e!==null))switch(e.tag){case 3:Fc(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Fc(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ur]=t,t.stateNode=r}return Ht(t),null;case 13:if(ot(dt),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(lt&&yn!==null&&t.mode&1&&!(t.flags&128))X1(),Vo(),t.flags|=98560,i=!1;else if(i=$c(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(ne(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(ne(317));i[ur]=t}else Vo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ht(t),i=!1}else Yn!==null&&(lm(Yn),Yn=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||dt.current&1?Nt===0&&(Nt=3):ey())),t.updateQueue!==null&&(t.flags|=4),Ht(t),null);case 4:return Uo(),em(e,t),e===null&&bl(t.stateNode.containerInfo),Ht(t),null;case 10:return Mg(t.type._context),Ht(t),null;case 17:return ln(t.type)&&Vu(),Ht(t),null;case 19:if(ot(dt),i=t.memoizedState,i===null)return Ht(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)Aa(i,!1);else{if(Nt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=qu(e),o!==null){for(t.flags|=128,Aa(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return et(dt,dt.current&1|2),t.child}e=e.sibling}i.tail!==null&&wt()>Wo&&(t.flags|=128,r=!0,Aa(i,!1),t.lanes=4194304)}else{if(!r)if(e=qu(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Aa(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!lt)return Ht(t),null}else 2*wt()-i.renderingStartTime>Wo&&n!==1073741824&&(t.flags|=128,r=!0,Aa(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=wt(),t.sibling=null,n=dt.current,et(dt,r?n&1|2:n&1),t):(Ht(t),null);case 22:case 23:return Zg(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?mn&1073741824&&(Ht(t),t.subtreeFlags&6&&(t.flags|=8192)):Ht(t),null;case 24:return null;case 25:return null}throw Error(ne(156,t.tag))}function QT(e,t){switch(Og(t),t.tag){case 1:return ln(t.type)&&Vu(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Uo(),ot(an),ot(Xt),Ug(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Bg(t),null;case 13:if(ot(dt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ne(340));Vo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ot(dt),null;case 4:return Uo(),null;case 10:return Mg(t.type._context),null;case 22:case 23:return Zg(),null;case 24:return null;default:return null}}var Uc=!1,Gt=!1,JT=typeof WeakSet=="function"?WeakSet:Set,ve=null;function vo(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){gt(e,t,r)}else n.current=null}function tm(e,t,n){try{n()}catch(r){gt(e,t,r)}}var J0=!1;function ZT(e,t){if(Fp=Iu,e=M1(),Rg(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,c=-1,u=0,f=0,h=e,g=null;t:for(;;){for(var w;h!==n||s!==0&&h.nodeType!==3||(a=o+s),h!==i||r!==0&&h.nodeType!==3||(c=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(w=h.firstChild)!==null;)g=h,h=w;for(;;){if(h===e)break t;if(g===n&&++u===s&&(a=o),g===i&&++f===r&&(c=o),(w=h.nextSibling)!==null)break;h=g,g=h.parentNode}h=w}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for($p={focusedElem:e,selectionRange:n},Iu=!1,ve=t;ve!==null;)if(t=ve,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ve=e;else for(;ve!==null;){t=ve;try{var k=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(k!==null){var v=k.memoizedProps,j=k.memoizedState,_=t.stateNode,x=_.getSnapshotBeforeUpdate(t.elementType===t.type?v:Wn(t.type,v),j);_.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ne(163))}}catch(E){gt(t,t.return,E)}if(e=t.sibling,e!==null){e.return=t.return,ve=e;break}ve=t.return}return k=J0,J0=!1,k}function nl(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&tm(t,n,i)}s=s.next}while(s!==r)}}function Ld(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function nm(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function OS(e){var t=e.alternate;t!==null&&(e.alternate=null,OS(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ur],delete t[_l],delete t[Up],delete t[LT],delete t[IT])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function DS(e){return e.tag===5||e.tag===3||e.tag===4}function Z0(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||DS(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function rm(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=$u));else if(r!==4&&(e=e.child,e!==null))for(rm(e,t,n),e=e.sibling;e!==null;)rm(e,t,n),e=e.sibling}function sm(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(sm(e,t,n),e=e.sibling;e!==null;)sm(e,t,n),e=e.sibling}var $t=null,Kn=!1;function Zr(e,t,n){for(n=n.child;n!==null;)LS(e,t,n),n=n.sibling}function LS(e,t,n){if(fr&&typeof fr.onCommitFiberUnmount=="function")try{fr.onCommitFiberUnmount(Ed,n)}catch{}switch(n.tag){case 5:Gt||vo(n,t);case 6:var r=$t,s=Kn;$t=null,Zr(e,t,n),$t=r,Kn=s,$t!==null&&(Kn?(e=$t,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):$t.removeChild(n.stateNode));break;case 18:$t!==null&&(Kn?(e=$t,n=n.stateNode,e.nodeType===8?wh(e.parentNode,n):e.nodeType===1&&wh(e,n),vl(e)):wh($t,n.stateNode));break;case 4:r=$t,s=Kn,$t=n.stateNode.containerInfo,Kn=!0,Zr(e,t,n),$t=r,Kn=s;break;case 0:case 11:case 14:case 15:if(!Gt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&tm(n,t,o),s=s.next}while(s!==r)}Zr(e,t,n);break;case 1:if(!Gt&&(vo(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){gt(n,t,a)}Zr(e,t,n);break;case 21:Zr(e,t,n);break;case 22:n.mode&1?(Gt=(r=Gt)||n.memoizedState!==null,Zr(e,t,n),Gt=r):Zr(e,t,n);break;default:Zr(e,t,n)}}function ex(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new JT),t.forEach(function(r){var s=l2.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Vn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:$t=a.stateNode,Kn=!1;break e;case 3:$t=a.stateNode.containerInfo,Kn=!0;break e;case 4:$t=a.stateNode.containerInfo,Kn=!0;break e}a=a.return}if($t===null)throw Error(ne(160));LS(i,o,s),$t=null,Kn=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){gt(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)IS(t,e),t=t.sibling}function IS(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Vn(t,e),lr(e),r&4){try{nl(3,e,e.return),Ld(3,e)}catch(v){gt(e,e.return,v)}try{nl(5,e,e.return)}catch(v){gt(e,e.return,v)}}break;case 1:Vn(t,e),lr(e),r&512&&n!==null&&vo(n,n.return);break;case 5:if(Vn(t,e),lr(e),r&512&&n!==null&&vo(n,n.return),e.flags&32){var s=e.stateNode;try{pl(s,"")}catch(v){gt(e,e.return,v)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,a=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&s1(s,i),Np(a,o);var u=Np(a,i);for(o=0;o<c.length;o+=2){var f=c[o],h=c[o+1];f==="style"?c1(s,h):f==="dangerouslySetInnerHTML"?a1(s,h):f==="children"?pl(s,h):vg(s,f,h,u)}switch(a){case"input":_p(s,i);break;case"textarea":i1(s,i);break;case"select":var g=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var w=i.value;w!=null?jo(s,!!i.multiple,w,!1):g!==!!i.multiple&&(i.defaultValue!=null?jo(s,!!i.multiple,i.defaultValue,!0):jo(s,!!i.multiple,i.multiple?[]:"",!1))}s[_l]=i}catch(v){gt(e,e.return,v)}}break;case 6:if(Vn(t,e),lr(e),r&4){if(e.stateNode===null)throw Error(ne(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(v){gt(e,e.return,v)}}break;case 3:if(Vn(t,e),lr(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{vl(t.containerInfo)}catch(v){gt(e,e.return,v)}break;case 4:Vn(t,e),lr(e);break;case 13:Vn(t,e),lr(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Qg=wt())),r&4&&ex(e);break;case 22:if(f=n!==null&&n.memoizedState!==null,e.mode&1?(Gt=(u=Gt)||f,Vn(t,e),Gt=u):Vn(t,e),lr(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!f&&e.mode&1)for(ve=e,f=e.child;f!==null;){for(h=ve=f;ve!==null;){switch(g=ve,w=g.child,g.tag){case 0:case 11:case 14:case 15:nl(4,g,g.return);break;case 1:vo(g,g.return);var k=g.stateNode;if(typeof k.componentWillUnmount=="function"){r=g,n=g.return;try{t=r,k.props=t.memoizedProps,k.state=t.memoizedState,k.componentWillUnmount()}catch(v){gt(r,n,v)}}break;case 5:vo(g,g.return);break;case 22:if(g.memoizedState!==null){nx(h);continue}}w!==null?(w.return=g,ve=w):nx(h)}f=f.sibling}e:for(f=null,h=e;;){if(h.tag===5){if(f===null){f=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=l1("display",o))}catch(v){gt(e,e.return,v)}}}else if(h.tag===6){if(f===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(v){gt(e,e.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Vn(t,e),lr(e),r&4&&ex(e);break;case 21:break;default:Vn(t,e),lr(e)}}function lr(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(DS(n)){var r=n;break e}n=n.return}throw Error(ne(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(pl(s,""),r.flags&=-33);var i=Z0(e);sm(e,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Z0(e);rm(e,a,o);break;default:throw Error(ne(161))}}catch(c){gt(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function e2(e,t,n){ve=e,MS(e)}function MS(e,t,n){for(var r=(e.mode&1)!==0;ve!==null;){var s=ve,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Uc;if(!o){var a=s.alternate,c=a!==null&&a.memoizedState!==null||Gt;a=Uc;var u=Gt;if(Uc=o,(Gt=c)&&!u)for(ve=s;ve!==null;)o=ve,c=o.child,o.tag===22&&o.memoizedState!==null?rx(s):c!==null?(c.return=o,ve=c):rx(s);for(;i!==null;)ve=i,MS(i),i=i.sibling;ve=s,Uc=a,Gt=u}tx(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,ve=i):tx(e)}}function tx(e){for(;ve!==null;){var t=ve;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Gt||Ld(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Gt)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:Wn(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&$0(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}$0(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var h=f.dehydrated;h!==null&&vl(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ne(163))}Gt||t.flags&512&&nm(t)}catch(g){gt(t,t.return,g)}}if(t===e){ve=null;break}if(n=t.sibling,n!==null){n.return=t.return,ve=n;break}ve=t.return}}function nx(e){for(;ve!==null;){var t=ve;if(t===e){ve=null;break}var n=t.sibling;if(n!==null){n.return=t.return,ve=n;break}ve=t.return}}function rx(e){for(;ve!==null;){var t=ve;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Ld(4,t)}catch(c){gt(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){gt(t,s,c)}}var i=t.return;try{nm(t)}catch(c){gt(t,i,c)}break;case 5:var o=t.return;try{nm(t)}catch(c){gt(t,o,c)}}}catch(c){gt(t,t.return,c)}if(t===e){ve=null;break}var a=t.sibling;if(a!==null){a.return=t.return,ve=a;break}ve=t.return}}var t2=Math.ceil,Xu=Vr.ReactCurrentDispatcher,Gg=Vr.ReactCurrentOwner,Mn=Vr.ReactCurrentBatchConfig,He=0,Dt=null,jt=null,Vt=0,mn=0,xo=Vs(0),Nt=0,Pl=null,ki=0,Id=0,Xg=0,rl=null,sn=null,Qg=0,Wo=1/0,jr=null,Qu=!1,im=null,ws=null,zc=!1,hs=null,Ju=0,sl=0,om=null,xu=-1,wu=0;function tn(){return He&6?wt():xu!==-1?xu:xu=wt()}function bs(e){return e.mode&1?He&2&&Vt!==0?Vt&-Vt:FT.transition!==null?(wu===0&&(wu=b1()),wu):(e=Qe,e!==0||(e=window.event,e=e===void 0?16:N1(e.type)),e):1}function Xn(e,t,n,r){if(50<sl)throw sl=0,om=null,Error(ne(185));Ul(e,n,r),(!(He&2)||e!==Dt)&&(e===Dt&&(!(He&2)&&(Id|=n),Nt===4&&us(e,Vt)),cn(e,r),n===1&&He===0&&!(t.mode&1)&&(Wo=wt()+500,Ad&&Bs()))}function cn(e,t){var n=e.callbackNode;FP(e,t);var r=Lu(e,e===Dt?Vt:0);if(r===0)n!==null&&f0(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&f0(n),t===1)e.tag===0?MT(sx.bind(null,e)):q1(sx.bind(null,e)),OT(function(){!(He&6)&&Bs()}),n=null;else{switch(S1(r)){case 1:n=_g;break;case 4:n=x1;break;case 16:n=Du;break;case 536870912:n=w1;break;default:n=Du}n=KS(n,FS.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function FS(e,t){if(xu=-1,wu=0,He&6)throw Error(ne(327));var n=e.callbackNode;if(Po()&&e.callbackNode!==n)return null;var r=Lu(e,e===Dt?Vt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Zu(e,r);else{t=r;var s=He;He|=2;var i=VS();(Dt!==e||Vt!==t)&&(jr=null,Wo=wt()+500,xi(e,t));do try{s2();break}catch(a){$S(e,a)}while(1);Ig(),Xu.current=i,He=s,jt!==null?t=0:(Dt=null,Vt=0,t=Nt)}if(t!==0){if(t===2&&(s=Op(e),s!==0&&(r=s,t=am(e,s))),t===1)throw n=Pl,xi(e,0),us(e,r),cn(e,wt()),n;if(t===6)us(e,r);else{if(s=e.current.alternate,!(r&30)&&!n2(s)&&(t=Zu(e,r),t===2&&(i=Op(e),i!==0&&(r=i,t=am(e,i))),t===1))throw n=Pl,xi(e,0),us(e,r),cn(e,wt()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(ne(345));case 2:ai(e,sn,jr);break;case 3:if(us(e,r),(r&130023424)===r&&(t=Qg+500-wt(),10<t)){if(Lu(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){tn(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Bp(ai.bind(null,e,sn,jr),t);break}ai(e,sn,jr);break;case 4:if(us(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-Gn(r);i=1<<o,o=t[o],o>s&&(s=o),r&=~i}if(r=s,r=wt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*t2(r/1960))-r,10<r){e.timeoutHandle=Bp(ai.bind(null,e,sn,jr),r);break}ai(e,sn,jr);break;case 5:ai(e,sn,jr);break;default:throw Error(ne(329))}}}return cn(e,wt()),e.callbackNode===n?FS.bind(null,e):null}function am(e,t){var n=rl;return e.current.memoizedState.isDehydrated&&(xi(e,t).flags|=256),e=Zu(e,t),e!==2&&(t=sn,sn=n,t!==null&&lm(t)),e}function lm(e){sn===null?sn=e:sn.push.apply(sn,e)}function n2(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Jn(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function us(e,t){for(t&=~Xg,t&=~Id,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Gn(t),r=1<<n;e[n]=-1,t&=~r}}function sx(e){if(He&6)throw Error(ne(327));Po();var t=Lu(e,0);if(!(t&1))return cn(e,wt()),null;var n=Zu(e,t);if(e.tag!==0&&n===2){var r=Op(e);r!==0&&(t=r,n=am(e,r))}if(n===1)throw n=Pl,xi(e,0),us(e,t),cn(e,wt()),n;if(n===6)throw Error(ne(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ai(e,sn,jr),cn(e,wt()),null}function Jg(e,t){var n=He;He|=1;try{return e(t)}finally{He=n,He===0&&(Wo=wt()+500,Ad&&Bs())}}function Ci(e){hs!==null&&hs.tag===0&&!(He&6)&&Po();var t=He;He|=1;var n=Mn.transition,r=Qe;try{if(Mn.transition=null,Qe=1,e)return e()}finally{Qe=r,Mn.transition=n,He=t,!(He&6)&&Bs()}}function Zg(){mn=xo.current,ot(xo)}function xi(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,AT(n)),jt!==null)for(n=jt.return;n!==null;){var r=n;switch(Og(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Vu();break;case 3:Uo(),ot(an),ot(Xt),Ug();break;case 5:Bg(r);break;case 4:Uo();break;case 13:ot(dt);break;case 19:ot(dt);break;case 10:Mg(r.type._context);break;case 22:case 23:Zg()}n=n.return}if(Dt=e,jt=e=Ss(e.current,null),Vt=mn=t,Nt=0,Pl=null,Xg=Id=ki=0,sn=rl=null,mi!==null){for(t=0;t<mi.length;t++)if(n=mi[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}mi=null}return e}function $S(e,t){do{var n=jt;try{if(Ig(),gu.current=Gu,Yu){for(var r=ht.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Yu=!1}if(ji=0,Ot=Et=ht=null,tl=!1,Cl=0,Gg.current=null,n===null||n.return===null){Nt=1,Pl=t,jt=null;break}e:{var i=e,o=n.return,a=n,c=t;if(t=Vt,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,f=a,h=f.tag;if(!(f.mode&1)&&(h===0||h===11||h===15)){var g=f.alternate;g?(f.updateQueue=g.updateQueue,f.memoizedState=g.memoizedState,f.lanes=g.lanes):(f.updateQueue=null,f.memoizedState=null)}var w=K0(o);if(w!==null){w.flags&=-257,H0(w,o,a,i,t),w.mode&1&&W0(i,u,t),t=w,c=u;var k=t.updateQueue;if(k===null){var v=new Set;v.add(c),t.updateQueue=v}else k.add(c);break e}else{if(!(t&1)){W0(i,u,t),ey();break e}c=Error(ne(426))}}else if(lt&&a.mode&1){var j=K0(o);if(j!==null){!(j.flags&65536)&&(j.flags|=256),H0(j,o,a,i,t),Dg(zo(c,a));break e}}i=c=zo(c,a),Nt!==4&&(Nt=2),rl===null?rl=[i]:rl.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var _=SS(i,c,t);F0(i,_);break e;case 1:a=c;var x=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof x.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(ws===null||!ws.has(b)))){i.flags|=65536,t&=-t,i.lanes|=t;var E=_S(i,a,t);F0(i,E);break e}}i=i.return}while(i!==null)}US(n)}catch(R){t=R,jt===n&&n!==null&&(jt=n=n.return);continue}break}while(1)}function VS(){var e=Xu.current;return Xu.current=Gu,e===null?Gu:e}function ey(){(Nt===0||Nt===3||Nt===2)&&(Nt=4),Dt===null||!(ki&268435455)&&!(Id&268435455)||us(Dt,Vt)}function Zu(e,t){var n=He;He|=2;var r=VS();(Dt!==e||Vt!==t)&&(jr=null,xi(e,t));do try{r2();break}catch(s){$S(e,s)}while(1);if(Ig(),He=n,Xu.current=r,jt!==null)throw Error(ne(261));return Dt=null,Vt=0,Nt}function r2(){for(;jt!==null;)BS(jt)}function s2(){for(;jt!==null&&!PP();)BS(jt)}function BS(e){var t=WS(e.alternate,e,mn);e.memoizedProps=e.pendingProps,t===null?US(e):jt=t,Gg.current=null}function US(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=QT(n,t),n!==null){n.flags&=32767,jt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Nt=6,jt=null;return}}else if(n=XT(n,t,mn),n!==null){jt=n;return}if(t=t.sibling,t!==null){jt=t;return}jt=t=e}while(t!==null);Nt===0&&(Nt=5)}function ai(e,t,n){var r=Qe,s=Mn.transition;try{Mn.transition=null,Qe=1,i2(e,t,n,r)}finally{Mn.transition=s,Qe=r}return null}function i2(e,t,n,r){do Po();while(hs!==null);if(He&6)throw Error(ne(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(ne(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if($P(e,i),e===Dt&&(jt=Dt=null,Vt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||zc||(zc=!0,KS(Du,function(){return Po(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Mn.transition,Mn.transition=null;var o=Qe;Qe=1;var a=He;He|=4,Gg.current=null,ZT(e,n),IS(n,e),kT($p),Iu=!!Fp,$p=Fp=null,e.current=n,e2(n),TP(),He=a,Qe=o,Mn.transition=i}else e.current=n;if(zc&&(zc=!1,hs=e,Ju=s),i=e.pendingLanes,i===0&&(ws=null),OP(n.stateNode),cn(e,wt()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Qu)throw Qu=!1,e=im,im=null,e;return Ju&1&&e.tag!==0&&Po(),i=e.pendingLanes,i&1?e===om?sl++:(sl=0,om=e):sl=0,Bs(),null}function Po(){if(hs!==null){var e=S1(Ju),t=Mn.transition,n=Qe;try{if(Mn.transition=null,Qe=16>e?16:e,hs===null)var r=!1;else{if(e=hs,hs=null,Ju=0,He&6)throw Error(ne(331));var s=He;for(He|=4,ve=e.current;ve!==null;){var i=ve,o=i.child;if(ve.flags&16){var a=i.deletions;if(a!==null){for(var c=0;c<a.length;c++){var u=a[c];for(ve=u;ve!==null;){var f=ve;switch(f.tag){case 0:case 11:case 15:nl(8,f,i)}var h=f.child;if(h!==null)h.return=f,ve=h;else for(;ve!==null;){f=ve;var g=f.sibling,w=f.return;if(OS(f),f===u){ve=null;break}if(g!==null){g.return=w,ve=g;break}ve=w}}}var k=i.alternate;if(k!==null){var v=k.child;if(v!==null){k.child=null;do{var j=v.sibling;v.sibling=null,v=j}while(v!==null)}}ve=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,ve=o;else e:for(;ve!==null;){if(i=ve,i.flags&2048)switch(i.tag){case 0:case 11:case 15:nl(9,i,i.return)}var _=i.sibling;if(_!==null){_.return=i.return,ve=_;break e}ve=i.return}}var x=e.current;for(ve=x;ve!==null;){o=ve;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,ve=b;else e:for(o=x;ve!==null;){if(a=ve,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Ld(9,a)}}catch(R){gt(a,a.return,R)}if(a===o){ve=null;break e}var E=a.sibling;if(E!==null){E.return=a.return,ve=E;break e}ve=a.return}}if(He=s,Bs(),fr&&typeof fr.onPostCommitFiberRoot=="function")try{fr.onPostCommitFiberRoot(Ed,e)}catch{}r=!0}return r}finally{Qe=n,Mn.transition=t}}return!1}function ix(e,t,n){t=zo(n,t),t=SS(e,t,1),e=xs(e,t,1),t=tn(),e!==null&&(Ul(e,1,t),cn(e,t))}function gt(e,t,n){if(e.tag===3)ix(e,e,n);else for(;t!==null;){if(t.tag===3){ix(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ws===null||!ws.has(r))){e=zo(n,e),e=_S(t,e,1),t=xs(t,e,1),e=tn(),t!==null&&(Ul(t,1,e),cn(t,e));break}}t=t.return}}function o2(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=tn(),e.pingedLanes|=e.suspendedLanes&n,Dt===e&&(Vt&n)===n&&(Nt===4||Nt===3&&(Vt&130023424)===Vt&&500>wt()-Qg?xi(e,0):Xg|=n),cn(e,t)}function zS(e,t){t===0&&(e.mode&1?(t=Oc,Oc<<=1,!(Oc&130023424)&&(Oc=4194304)):t=1);var n=tn();e=Lr(e,t),e!==null&&(Ul(e,t,n),cn(e,n))}function a2(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),zS(e,n)}function l2(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(ne(314))}r!==null&&r.delete(t),zS(e,n)}var WS;WS=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||an.current)on=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return on=!1,GT(e,t,n);on=!!(e.flags&131072)}else on=!1,lt&&t.flags&1048576&&Y1(t,zu,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;vu(e,t),e=t.pendingProps;var s=$o(t,Xt.current);No(t,n),s=Wg(null,t,r,e,s,n);var i=Kg();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ln(r)?(i=!0,Bu(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,$g(t),s.updater=Dd,t.stateNode=s,s._reactInternals=t,Yp(t,r,e,n),t=Qp(null,t,r,!0,i,n)):(t.tag=0,lt&&i&&Ag(t),en(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(vu(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=u2(r),e=Wn(r,e),s){case 0:t=Xp(null,t,r,e,n);break e;case 1:t=G0(null,t,r,e,n);break e;case 11:t=q0(null,t,r,e,n);break e;case 14:t=Y0(null,t,r,Wn(r.type,e),n);break e}throw Error(ne(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Wn(r,s),Xp(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Wn(r,s),G0(e,t,r,s,n);case 3:e:{if(ES(t),e===null)throw Error(ne(387));r=t.pendingProps,i=t.memoizedState,s=i.element,eS(e,t),Hu(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=zo(Error(ne(423)),t),t=X0(e,t,r,n,s);break e}else if(r!==s){s=zo(Error(ne(424)),t),t=X0(e,t,r,n,s);break e}else for(yn=vs(t.stateNode.containerInfo.firstChild),vn=t,lt=!0,Yn=null,n=J1(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Vo(),r===s){t=Ir(e,t,n);break e}en(e,t,r,n)}t=t.child}return t;case 5:return tS(t),e===null&&Kp(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,Vp(r,s)?o=null:i!==null&&Vp(r,i)&&(t.flags|=32),CS(e,t),en(e,t,o,n),t.child;case 6:return e===null&&Kp(t),null;case 13:return NS(e,t,n);case 4:return Vg(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Bo(t,null,r,n):en(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Wn(r,s),q0(e,t,r,s,n);case 7:return en(e,t,t.pendingProps,n),t.child;case 8:return en(e,t,t.pendingProps.children,n),t.child;case 12:return en(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,et(Wu,r._currentValue),r._currentValue=o,i!==null)if(Jn(i.value,o)){if(i.children===s.children&&!an.current){t=Ir(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=Pr(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?c.next=c:(c.next=f.next,f.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),Hp(i.return,n,t),a.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(ne(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Hp(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}en(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,No(t,n),s=Fn(s),r=r(s),t.flags|=1,en(e,t,r,n),t.child;case 14:return r=t.type,s=Wn(r,t.pendingProps),s=Wn(r.type,s),Y0(e,t,r,s,n);case 15:return jS(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Wn(r,s),vu(e,t),t.tag=1,ln(r)?(e=!0,Bu(t)):e=!1,No(t,n),bS(t,r,s),Yp(t,r,s,n),Qp(null,t,r,!0,e,n);case 19:return PS(e,t,n);case 22:return kS(e,t,n)}throw Error(ne(156,t.tag))};function KS(e,t){return v1(e,t)}function c2(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function In(e,t,n,r){return new c2(e,t,n,r)}function ty(e){return e=e.prototype,!(!e||!e.isReactComponent)}function u2(e){if(typeof e=="function")return ty(e)?1:0;if(e!=null){if(e=e.$$typeof,e===wg)return 11;if(e===bg)return 14}return 2}function Ss(e,t){var n=e.alternate;return n===null?(n=In(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function bu(e,t,n,r,s,i){var o=2;if(r=e,typeof e=="function")ty(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case lo:return wi(n.children,s,i,t);case xg:o=8,s|=8;break;case vp:return e=In(12,n,t,s|2),e.elementType=vp,e.lanes=i,e;case xp:return e=In(13,n,t,s),e.elementType=xp,e.lanes=i,e;case wp:return e=In(19,n,t,s),e.elementType=wp,e.lanes=i,e;case t1:return Md(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Zb:o=10;break e;case e1:o=9;break e;case wg:o=11;break e;case bg:o=14;break e;case is:o=16,r=null;break e}throw Error(ne(130,e==null?e:typeof e,""))}return t=In(o,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function wi(e,t,n,r){return e=In(7,e,r,t),e.lanes=n,e}function Md(e,t,n,r){return e=In(22,e,r,t),e.elementType=t1,e.lanes=n,e.stateNode={isHidden:!1},e}function Nh(e,t,n){return e=In(6,e,null,t),e.lanes=n,e}function Ph(e,t,n){return t=In(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function d2(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ch(0),this.expirationTimes=ch(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ch(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function ny(e,t,n,r,s,i,o,a,c){return e=new d2(e,t,n,a,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=In(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},$g(i),e}function f2(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ao,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function HS(e){if(!e)return Rs;e=e._reactInternals;e:{if(Ai(e)!==e||e.tag!==1)throw Error(ne(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ln(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ne(171))}if(e.tag===1){var n=e.type;if(ln(n))return H1(e,n,t)}return t}function qS(e,t,n,r,s,i,o,a,c){return e=ny(n,r,!0,e,s,i,o,a,c),e.context=HS(null),n=e.current,r=tn(),s=bs(n),i=Pr(r,s),i.callback=t??null,xs(n,i,s),e.current.lanes=s,Ul(e,s,r),cn(e,r),e}function Fd(e,t,n,r){var s=t.current,i=tn(),o=bs(s);return n=HS(n),t.context===null?t.context=n:t.pendingContext=n,t=Pr(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=xs(s,t,o),e!==null&&(Xn(e,s,o,i),mu(e,s,o)),o}function ed(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function ox(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function ry(e,t){ox(e,t),(e=e.alternate)&&ox(e,t)}function h2(){return null}var YS=typeof reportError=="function"?reportError:function(e){console.error(e)};function sy(e){this._internalRoot=e}$d.prototype.render=sy.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ne(409));Fd(e,t,null,null)};$d.prototype.unmount=sy.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ci(function(){Fd(null,e,null,null)}),t[Dr]=null}};function $d(e){this._internalRoot=e}$d.prototype.unstable_scheduleHydration=function(e){if(e){var t=k1();e={blockedOn:null,target:e,priority:t};for(var n=0;n<cs.length&&t!==0&&t<cs[n].priority;n++);cs.splice(n,0,e),n===0&&E1(e)}};function iy(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Vd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function ax(){}function p2(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=ed(o);i.call(u)}}var o=qS(t,r,e,0,null,!1,!1,"",ax);return e._reactRootContainer=o,e[Dr]=o.current,bl(e.nodeType===8?e.parentNode:e),Ci(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=ed(c);a.call(u)}}var c=ny(e,0,!1,null,null,!1,!1,"",ax);return e._reactRootContainer=c,e[Dr]=c.current,bl(e.nodeType===8?e.parentNode:e),Ci(function(){Fd(t,c,n,r)}),c}function Bd(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var c=ed(o);a.call(c)}}Fd(t,o,e,s)}else o=p2(n,t,e,s,r);return ed(o)}_1=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Wa(t.pendingLanes);n!==0&&(jg(t,n|1),cn(t,wt()),!(He&6)&&(Wo=wt()+500,Bs()))}break;case 13:Ci(function(){var r=Lr(e,1);if(r!==null){var s=tn();Xn(r,e,1,s)}}),ry(e,1)}};kg=function(e){if(e.tag===13){var t=Lr(e,134217728);if(t!==null){var n=tn();Xn(t,e,134217728,n)}ry(e,134217728)}};j1=function(e){if(e.tag===13){var t=bs(e),n=Lr(e,t);if(n!==null){var r=tn();Xn(n,e,t,r)}ry(e,t)}};k1=function(){return Qe};C1=function(e,t){var n=Qe;try{return Qe=e,t()}finally{Qe=n}};Tp=function(e,t,n){switch(t){case"input":if(_p(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Rd(r);if(!s)throw Error(ne(90));r1(r),_p(r,s)}}}break;case"textarea":i1(e,n);break;case"select":t=n.value,t!=null&&jo(e,!!n.multiple,t,!1)}};f1=Jg;h1=Ci;var m2={usingClientEntryPoint:!1,Events:[Wl,ho,Rd,u1,d1,Jg]},Oa={findFiberByHostInstance:pi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},g2={bundleType:Oa.bundleType,version:Oa.version,rendererPackageName:Oa.rendererPackageName,rendererConfig:Oa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Vr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=g1(e),e===null?null:e.stateNode},findFiberByHostInstance:Oa.findFiberByHostInstance||h2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wc.isDisabled&&Wc.supportsFiber)try{Ed=Wc.inject(g2),fr=Wc}catch{}}jn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=m2;jn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!iy(t))throw Error(ne(200));return f2(e,t,null,n)};jn.createRoot=function(e,t){if(!iy(e))throw Error(ne(299));var n=!1,r="",s=YS;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=ny(e,1,!1,null,null,n,!1,r,s),e[Dr]=t.current,bl(e.nodeType===8?e.parentNode:e),new sy(t)};jn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ne(188)):(e=Object.keys(e).join(","),Error(ne(268,e)));return e=g1(t),e=e===null?null:e.stateNode,e};jn.flushSync=function(e){return Ci(e)};jn.hydrate=function(e,t,n){if(!Vd(t))throw Error(ne(200));return Bd(null,e,t,!0,n)};jn.hydrateRoot=function(e,t,n){if(!iy(e))throw Error(ne(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=YS;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=qS(t,null,e,1,n??null,s,!1,i,o),e[Dr]=t.current,bl(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new $d(t)};jn.render=function(e,t,n){if(!Vd(t))throw Error(ne(200));return Bd(null,e,t,!1,n)};jn.unmountComponentAtNode=function(e){if(!Vd(e))throw Error(ne(40));return e._reactRootContainer?(Ci(function(){Bd(null,null,e,!1,function(){e._reactRootContainer=null,e[Dr]=null})}),!0):!1};jn.unstable_batchedUpdates=Jg;jn.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Vd(n))throw Error(ne(200));if(e==null||e._reactInternals===void 0)throw Error(ne(38));return Bd(e,t,n,!1,r)};jn.version="18.3.1-next-f1338f8080-20240426";function GS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(GS)}catch(e){console.error(e)}}GS(),Gb.exports=jn;var Br=Gb.exports;const oy=ug(Br);var lx=Br;gp.createRoot=lx.createRoot,gp.hydrateRoot=lx.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Tl(){return Tl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Tl.apply(this,arguments)}var ps;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ps||(ps={}));const cx="popstate";function y2(e){e===void 0&&(e={});function t(r,s){let{pathname:i,search:o,hash:a}=r.location;return cm("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:td(s)}return x2(t,n,null,e)}function pt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function XS(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function v2(){return Math.random().toString(36).substr(2,8)}function ux(e,t){return{usr:e.state,key:e.key,idx:t}}function cm(e,t,n,r){return n===void 0&&(n=null),Tl({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ra(t):t,{state:n,key:t&&t.key||r||v2()})}function td(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function ra(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function x2(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=ps.Pop,c=null,u=f();u==null&&(u=0,o.replaceState(Tl({},o.state,{idx:u}),""));function f(){return(o.state||{idx:null}).idx}function h(){a=ps.Pop;let j=f(),_=j==null?null:j-u;u=j,c&&c({action:a,location:v.location,delta:_})}function g(j,_){a=ps.Push;let x=cm(v.location,j,_);n&&n(x,j),u=f()+1;let b=ux(x,u),E=v.createHref(x);try{o.pushState(b,"",E)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;s.location.assign(E)}i&&c&&c({action:a,location:v.location,delta:1})}function w(j,_){a=ps.Replace;let x=cm(v.location,j,_);n&&n(x,j),u=f();let b=ux(x,u),E=v.createHref(x);o.replaceState(b,"",E),i&&c&&c({action:a,location:v.location,delta:0})}function k(j){let _=s.location.origin!=="null"?s.location.origin:s.location.href,x=typeof j=="string"?j:td(j);return x=x.replace(/ $/,"%20"),pt(_,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,_)}let v={get action(){return a},get location(){return e(s,o)},listen(j){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(cx,h),c=j,()=>{s.removeEventListener(cx,h),c=null}},createHref(j){return t(s,j)},createURL:k,encodeLocation(j){let _=k(j);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:g,replace:w,go(j){return o.go(j)}};return v}var dx;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(dx||(dx={}));function w2(e,t,n){return n===void 0&&(n="/"),b2(e,t,n,!1)}function b2(e,t,n,r){let s=typeof t=="string"?ra(t):t,i=Ko(s.pathname||"/",n);if(i==null)return null;let o=QS(e);S2(o);let a=null;for(let c=0;a==null&&c<o.length;++c){let u=O2(i);a=R2(o[c],u,r)}return a}function QS(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let c={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(pt(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=_s([r,c.relativePath]),f=n.concat(c);i.children&&i.children.length>0&&(pt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),QS(i.children,t,f,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:P2(u,i.index),routesMeta:f})};return e.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let c of JS(i.path))s(i,o,c)}),t}function JS(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=JS(r.join("/")),a=[];return a.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&a.push(...o),a.map(c=>e.startsWith("/")&&c===""?"/":c)}function S2(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:T2(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const _2=/^:[\w-]+$/,j2=3,k2=2,C2=1,E2=10,N2=-2,fx=e=>e==="*";function P2(e,t){let n=e.split("/"),r=n.length;return n.some(fx)&&(r+=N2),t&&(r+=k2),n.filter(s=>!fx(s)).reduce((s,i)=>s+(_2.test(i)?j2:i===""?C2:E2),r)}function T2(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function R2(e,t,n){n===void 0&&(n=!1);let{routesMeta:r}=e,s={},i="/",o=[];for(let a=0;a<r.length;++a){let c=r[a],u=a===r.length-1,f=i==="/"?t:t.slice(i.length)||"/",h=nd({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},f),g=c.route;if(!h&&u&&n&&!r[r.length-1].route.index&&(h=nd({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},f)),!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:_s([i,h.pathname]),pathnameBase:M2(_s([i,h.pathnameBase])),route:g}),h.pathnameBase!=="/"&&(i=_s([i,h.pathnameBase]))}return o}function nd(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=A2(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((u,f,h)=>{let{paramName:g,isOptional:w}=f;if(g==="*"){let v=a[h]||"";o=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const k=a[h];return w&&!k?u[g]=void 0:u[g]=(k||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function A2(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),XS(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,c)=>(r.push({paramName:a,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function O2(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return XS(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Ko(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function D2(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?ra(e):e;return{pathname:n?n.startsWith("/")?n:L2(n,t):t,search:F2(r),hash:$2(s)}}function L2(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Th(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function I2(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function ay(e,t){let n=I2(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function ly(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=ra(e):(s=Tl({},e),pt(!s.pathname||!s.pathname.includes("?"),Th("?","pathname","search",s)),pt(!s.pathname||!s.pathname.includes("#"),Th("#","pathname","hash",s)),pt(!s.search||!s.search.includes("#"),Th("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let h=t.length-1;if(!r&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),h-=1;s.pathname=g.join("/")}a=h>=0?t[h]:"/"}let c=D2(s,a),u=o&&o!=="/"&&o.endsWith("/"),f=(i||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||f)&&(c.pathname+="/"),c}const _s=e=>e.join("/").replace(/\/\/+/g,"/"),M2=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),F2=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,$2=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function V2(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const ZS=["post","put","patch","delete"];new Set(ZS);const B2=["get",...ZS];new Set(B2);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Rl(){return Rl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Rl.apply(this,arguments)}const Ud=m.createContext(null),e_=m.createContext(null),Ur=m.createContext(null),zd=m.createContext(null),wr=m.createContext({outlet:null,matches:[],isDataRoute:!1}),t_=m.createContext(null);function U2(e,t){let{relative:n}=t===void 0?{}:t;sa()||pt(!1);let{basename:r,navigator:s}=m.useContext(Ur),{hash:i,pathname:o,search:a}=Wd(e,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:_s([r,o])),s.createHref({pathname:c,search:a,hash:i})}function sa(){return m.useContext(zd)!=null}function ia(){return sa()||pt(!1),m.useContext(zd).location}function n_(e){m.useContext(Ur).static||m.useLayoutEffect(e)}function Oi(){let{isDataRoute:e}=m.useContext(wr);return e?sR():z2()}function z2(){sa()||pt(!1);let e=m.useContext(Ud),{basename:t,future:n,navigator:r}=m.useContext(Ur),{matches:s}=m.useContext(wr),{pathname:i}=ia(),o=JSON.stringify(ay(s,n.v7_relativeSplatPath)),a=m.useRef(!1);return n_(()=>{a.current=!0}),m.useCallback(function(u,f){if(f===void 0&&(f={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let h=ly(u,JSON.parse(o),i,f.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:_s([t,h.pathname])),(f.replace?r.replace:r.push)(h,f.state,f)},[t,r,o,i,e])}const W2=m.createContext(null);function K2(e){let t=m.useContext(wr).outlet;return t&&m.createElement(W2.Provider,{value:e},t)}function H2(){let{matches:e}=m.useContext(wr),t=e[e.length-1];return t?t.params:{}}function Wd(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=m.useContext(Ur),{matches:s}=m.useContext(wr),{pathname:i}=ia(),o=JSON.stringify(ay(s,r.v7_relativeSplatPath));return m.useMemo(()=>ly(e,JSON.parse(o),i,n==="path"),[e,o,i,n])}function q2(e,t){return Y2(e,t)}function Y2(e,t,n,r){sa()||pt(!1);let{navigator:s}=m.useContext(Ur),{matches:i}=m.useContext(wr),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=ia(),f;if(t){var h;let j=typeof t=="string"?ra(t):t;c==="/"||(h=j.pathname)!=null&&h.startsWith(c)||pt(!1),f=j}else f=u;let g=f.pathname||"/",w=g;if(c!=="/"){let j=c.replace(/^\//,"").split("/");w="/"+g.replace(/^\//,"").split("/").slice(j.length).join("/")}let k=w2(e,{pathname:w}),v=Z2(k&&k.map(j=>Object.assign({},j,{params:Object.assign({},a,j.params),pathname:_s([c,s.encodeLocation?s.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?c:_s([c,s.encodeLocation?s.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),i,n,r);return t&&v?m.createElement(zd.Provider,{value:{location:Rl({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:ps.Pop}},v):v}function G2(){let e=rR(),t=V2(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},i=null;return m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},t),n?m.createElement("pre",{style:s},n):null,i)}const X2=m.createElement(G2,null);class Q2 extends m.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?m.createElement(wr.Provider,{value:this.props.routeContext},m.createElement(t_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function J2(e){let{routeContext:t,match:n,children:r}=e,s=m.useContext(Ud);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),m.createElement(wr.Provider,{value:t},r)}function Z2(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,a=(s=n)==null?void 0:s.errors;if(a!=null){let f=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);f>=0||pt(!1),o=o.slice(0,Math.min(o.length,f+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let f=0;f<o.length;f++){let h=o[f];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=f),h.route.id){let{loaderData:g,errors:w}=n,k=h.route.loader&&g[h.route.id]===void 0&&(!w||w[h.route.id]===void 0);if(h.route.lazy||k){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((f,h,g)=>{let w,k=!1,v=null,j=null;n&&(w=a&&h.route.id?a[h.route.id]:void 0,v=h.route.errorElement||X2,c&&(u<0&&g===0?(iR("route-fallback",!1),k=!0,j=null):u===g&&(k=!0,j=h.route.hydrateFallbackElement||null)));let _=t.concat(o.slice(0,g+1)),x=()=>{let b;return w?b=v:k?b=j:h.route.Component?b=m.createElement(h.route.Component,null):h.route.element?b=h.route.element:b=f,m.createElement(J2,{match:h,routeContext:{outlet:f,matches:_,isDataRoute:n!=null},children:b})};return n&&(h.route.ErrorBoundary||h.route.errorElement||g===0)?m.createElement(Q2,{location:n.location,revalidation:n.revalidation,component:v,error:w,children:x(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):x()},null)}var r_=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(r_||{}),rd=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(rd||{});function eR(e){let t=m.useContext(Ud);return t||pt(!1),t}function tR(e){let t=m.useContext(e_);return t||pt(!1),t}function nR(e){let t=m.useContext(wr);return t||pt(!1),t}function s_(e){let t=nR(),n=t.matches[t.matches.length-1];return n.route.id||pt(!1),n.route.id}function rR(){var e;let t=m.useContext(t_),n=tR(rd.UseRouteError),r=s_(rd.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function sR(){let{router:e}=eR(r_.UseNavigateStable),t=s_(rd.UseNavigateStable),n=m.useRef(!1);return n_(()=>{n.current=!0}),m.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Rl({fromRouteId:t},i)))},[e,t])}const hx={};function iR(e,t,n){!t&&!hx[e]&&(hx[e]=!0)}function oR(e,t){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function Al(e){let{to:t,replace:n,state:r,relative:s}=e;sa()||pt(!1);let{future:i,static:o}=m.useContext(Ur),{matches:a}=m.useContext(wr),{pathname:c}=ia(),u=Oi(),f=ly(t,ay(a,i.v7_relativeSplatPath),c,s==="path"),h=JSON.stringify(f);return m.useEffect(()=>u(JSON.parse(h),{replace:n,state:r,relative:s}),[u,h,s,n,r]),null}function i_(e){return K2(e.context)}function ct(e){pt(!1)}function aR(e){let{basename:t="/",children:n=null,location:r,navigationType:s=ps.Pop,navigator:i,static:o=!1,future:a}=e;sa()&&pt(!1);let c=t.replace(/^\/*/,"/"),u=m.useMemo(()=>({basename:c,navigator:i,static:o,future:Rl({v7_relativeSplatPath:!1},a)}),[c,a,i,o]);typeof r=="string"&&(r=ra(r));let{pathname:f="/",search:h="",hash:g="",state:w=null,key:k="default"}=r,v=m.useMemo(()=>{let j=Ko(f,c);return j==null?null:{location:{pathname:j,search:h,hash:g,state:w,key:k},navigationType:s}},[c,f,h,g,w,k,s]);return v==null?null:m.createElement(Ur.Provider,{value:u},m.createElement(zd.Provider,{children:n,value:v}))}function lR(e){let{children:t,location:n}=e;return q2(um(t),n)}new Promise(()=>{});function um(e,t){t===void 0&&(t=[]);let n=[];return m.Children.forEach(e,(r,s)=>{if(!m.isValidElement(r))return;let i=[...t,s];if(r.type===m.Fragment){n.push.apply(n,um(r.props.children,i));return}r.type!==ct&&pt(!1),!r.props.index||!r.props.children||pt(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=um(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function sd(){return sd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sd.apply(this,arguments)}function o_(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,i;for(i=0;i<r.length;i++)s=r[i],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function cR(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function uR(e,t){return e.button===0&&(!t||t==="_self")&&!cR(e)}const dR=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],fR=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],hR="6";try{window.__reactRouterVersion=hR}catch{}const pR=m.createContext({isTransitioning:!1}),mR="startTransition",px=mg[mR];function gR(e){let{basename:t,children:n,future:r,window:s}=e,i=m.useRef();i.current==null&&(i.current=y2({window:s,v5Compat:!0}));let o=i.current,[a,c]=m.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},f=m.useCallback(h=>{u&&px?px(()=>c(h)):c(h)},[c,u]);return m.useLayoutEffect(()=>o.listen(f),[o,f]),m.useEffect(()=>oR(r),[r]),m.createElement(aR,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const yR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",vR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ie=m.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:c,to:u,preventScrollReset:f,viewTransition:h}=t,g=o_(t,dR),{basename:w}=m.useContext(Ur),k,v=!1;if(typeof u=="string"&&vR.test(u)&&(k=u,yR))try{let b=new URL(window.location.href),E=u.startsWith("//")?new URL(b.protocol+u):new URL(u),R=Ko(E.pathname,w);E.origin===b.origin&&R!=null?u=R+E.search+E.hash:v=!0}catch{}let j=U2(u,{relative:s}),_=wR(u,{replace:o,state:a,target:c,preventScrollReset:f,relative:s,viewTransition:h});function x(b){r&&r(b),b.defaultPrevented||_(b)}return m.createElement("a",sd({},g,{href:k||j,onClick:v||i?r:x,ref:n,target:c}))}),Yi=m.forwardRef(function(t,n){let{"aria-current":r="page",caseSensitive:s=!1,className:i="",end:o=!1,style:a,to:c,viewTransition:u,children:f}=t,h=o_(t,fR),g=Wd(c,{relative:h.relative}),w=ia(),k=m.useContext(e_),{navigator:v,basename:j}=m.useContext(Ur),_=k!=null&&bR(g)&&u===!0,x=v.encodeLocation?v.encodeLocation(g).pathname:g.pathname,b=w.pathname,E=k&&k.navigation&&k.navigation.location?k.navigation.location.pathname:null;s||(b=b.toLowerCase(),E=E?E.toLowerCase():null,x=x.toLowerCase()),E&&j&&(E=Ko(E,j)||E);const R=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let D=b===x||!o&&b.startsWith(x)&&b.charAt(R)==="/",T=E!=null&&(E===x||!o&&E.startsWith(x)&&E.charAt(x.length)==="/"),F={isActive:D,isPending:T,isTransitioning:_},Q=D?r:void 0,K;typeof i=="function"?K=i(F):K=[i,D?"active":null,T?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let ie=typeof a=="function"?a(F):a;return m.createElement(Ie,sd({},h,{"aria-current":Q,className:K,ref:n,style:ie,to:c,viewTransition:u}),typeof f=="function"?f(F):f)});var dm;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(dm||(dm={}));var mx;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(mx||(mx={}));function xR(e){let t=m.useContext(Ud);return t||pt(!1),t}function wR(e,t){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=t===void 0?{}:t,c=Oi(),u=ia(),f=Wd(e,{relative:o});return m.useCallback(h=>{if(uR(h,n)){h.preventDefault();let g=r!==void 0?r:td(u)===td(f);c(e,{replace:g,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[u,c,f,r,s,n,e,i,o,a])}function bR(e,t){t===void 0&&(t={});let n=m.useContext(pR);n==null&&pt(!1);let{basename:r}=xR(dm.useViewTransitionState),s=Wd(e,{relative:t.relative});if(!n.isTransitioning)return!1;let i=Ko(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Ko(n.nextLocation.pathname,r)||n.nextLocation.pathname;return nd(s.pathname,o)!=null||nd(s.pathname,i)!=null}function a_(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=a_(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function l_(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=a_(e))&&(r&&(r+=" "),r+=t);return r}function SR(){for(var e=0,t,n,r="";e<arguments.length;)(t=arguments[e++])&&(n=c_(t))&&(r&&(r+=" "),r+=n);return r}function c_(e){if(typeof e=="string")return e;for(var t,n="",r=0;r<e.length;r++)e[r]&&(t=c_(e[r]))&&(n&&(n+=" "),n+=t);return n}var cy="-";function _R(e){var t=kR(e),n=e.conflictingClassGroups,r=e.conflictingClassGroupModifiers,s=r===void 0?{}:r;function i(a){var c=a.split(cy);return c[0]===""&&c.length!==1&&c.shift(),u_(c,t)||jR(a)}function o(a,c){var u=n[a]||[];return c&&s[a]?[].concat(u,s[a]):u}return{getClassGroupId:i,getConflictingClassGroupIds:o}}function u_(e,t){var o;if(e.length===0)return t.classGroupId;var n=e[0],r=t.nextPart.get(n),s=r?u_(e.slice(1),r):void 0;if(s)return s;if(t.validators.length!==0){var i=e.join(cy);return(o=t.validators.find(function(a){var c=a.validator;return c(i)}))==null?void 0:o.classGroupId}}var gx=/^\[(.+)\]$/;function jR(e){if(gx.test(e)){var t=gx.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}}function kR(e){var t=e.theme,n=e.prefix,r={nextPart:new Map,validators:[]},s=ER(Object.entries(e.classGroups),n);return s.forEach(function(i){var o=i[0],a=i[1];fm(a,r,o,t)}),r}function fm(e,t,n,r){e.forEach(function(s){if(typeof s=="string"){var i=s===""?t:yx(t,s);i.classGroupId=n;return}if(typeof s=="function"){if(CR(s)){fm(s(r),t,n,r);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(function(o){var a=o[0],c=o[1];fm(c,yx(t,a),n,r)})})}function yx(e,t){var n=e;return t.split(cy).forEach(function(r){n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n}function CR(e){return e.isThemeGetter}function ER(e,t){return t?e.map(function(n){var r=n[0],s=n[1],i=s.map(function(o){return typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(function(a){var c=a[0],u=a[1];return[t+c,u]})):o});return[r,i]}):e}function NR(e){if(e<1)return{get:function(){},set:function(){}};var t=0,n=new Map,r=new Map;function s(i,o){n.set(i,o),t++,t>e&&(t=0,r=n,n=new Map)}return{get:function(o){var a=n.get(o);if(a!==void 0)return a;if((a=r.get(o))!==void 0)return s(o,a),a},set:function(o,a){n.has(o)?n.set(o,a):s(o,a)}}}var d_="!";function PR(e){var t=e.separator||":",n=t.length===1,r=t[0],s=t.length;return function(o){for(var a=[],c=0,u=0,f,h=0;h<o.length;h++){var g=o[h];if(c===0){if(g===r&&(n||o.slice(h,h+s)===t)){a.push(o.slice(u,h)),u=h+s;continue}if(g==="/"){f=h;continue}}g==="["?c++:g==="]"&&c--}var w=a.length===0?o:o.substring(u),k=w.startsWith(d_),v=k?w.substring(1):w,j=f&&f>u?f-u:void 0;return{modifiers:a,hasImportantModifier:k,baseClassName:v,maybePostfixModifierPosition:j}}}function TR(e){if(e.length<=1)return e;var t=[],n=[];return e.forEach(function(r){var s=r[0]==="[";s?(t.push.apply(t,n.sort().concat([r])),n=[]):n.push(r)}),t.push.apply(t,n.sort()),t}function RR(e){return{cache:NR(e.cacheSize),splitModifiers:PR(e),..._R(e)}}var AR=/\s+/;function OR(e,t){var n=t.splitModifiers,r=t.getClassGroupId,s=t.getConflictingClassGroupIds,i=new Set;return e.trim().split(AR).map(function(o){var a=n(o),c=a.modifiers,u=a.hasImportantModifier,f=a.baseClassName,h=a.maybePostfixModifierPosition,g=r(h?f.substring(0,h):f),w=!!h;if(!g){if(!h)return{isTailwindClass:!1,originalClassName:o};if(g=r(f),!g)return{isTailwindClass:!1,originalClassName:o};w=!1}var k=TR(c).join(":"),v=u?k+d_:k;return{isTailwindClass:!0,modifierId:v,classGroupId:g,originalClassName:o,hasPostfixModifier:w}}).reverse().filter(function(o){if(!o.isTailwindClass)return!0;var a=o.modifierId,c=o.classGroupId,u=o.hasPostfixModifier,f=a+c;return i.has(f)?!1:(i.add(f),s(c,u).forEach(function(h){return i.add(a+h)}),!0)}).reverse().map(function(o){return o.originalClassName}).join(" ")}function DR(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,s,i,o=a;function a(u){var f=t[0],h=t.slice(1),g=h.reduce(function(w,k){return k(w)},f());return r=RR(g),s=r.cache.get,i=r.cache.set,o=c,c(u)}function c(u){var f=s(u);if(f)return f;var h=OR(u,r);return i(u,h),h}return function(){return o(SR.apply(null,arguments))}}function st(e){var t=function(r){return r[e]||[]};return t.isThemeGetter=!0,t}var f_=/^\[(?:([a-z-]+):)?(.+)\]$/i,LR=/^\d+\/\d+$/,IR=new Set(["px","full","screen"]),MR=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,FR=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,$R=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function Bn(e){return yi(e)||IR.has(e)||LR.test(e)||hm(e)}function hm(e){return Di(e,"length",KR)}function VR(e){return Di(e,"size",h_)}function BR(e){return Di(e,"position",h_)}function UR(e){return Di(e,"url",HR)}function Kc(e){return Di(e,"number",yi)}function yi(e){return!Number.isNaN(Number(e))}function zR(e){return e.endsWith("%")&&yi(e.slice(0,-1))}function Da(e){return vx(e)||Di(e,"number",vx)}function $e(e){return f_.test(e)}function La(){return!0}function es(e){return MR.test(e)}function WR(e){return Di(e,"",qR)}function Di(e,t,n){var r=f_.exec(e);return r?r[1]?r[1]===t:n(r[2]):!1}function KR(e){return FR.test(e)}function h_(){return!1}function HR(e){return e.startsWith("url(")}function vx(e){return Number.isInteger(Number(e))}function qR(e){return $R.test(e)}function YR(){var e=st("colors"),t=st("spacing"),n=st("blur"),r=st("brightness"),s=st("borderColor"),i=st("borderRadius"),o=st("borderSpacing"),a=st("borderWidth"),c=st("contrast"),u=st("grayscale"),f=st("hueRotate"),h=st("invert"),g=st("gap"),w=st("gradientColorStops"),k=st("gradientColorStopPositions"),v=st("inset"),j=st("margin"),_=st("opacity"),x=st("padding"),b=st("saturate"),E=st("scale"),R=st("sepia"),D=st("skew"),T=st("space"),F=st("translate"),Q=function(){return["auto","contain","none"]},K=function(){return["auto","hidden","clip","visible","scroll"]},ie=function(){return["auto",$e,t]},Z=function(){return[$e,t]},pe=function(){return["",Bn]},Y=function(){return["auto",yi,$e]},te=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},J=function(){return["solid","dashed","dotted","double","none"]},ge=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},G=function(){return["start","end","center","between","around","evenly","stretch"]},ee=function(){return["","0",$e]},ae=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},me=function(){return[yi,Kc]},Pe=function(){return[yi,$e]};return{cacheSize:500,theme:{colors:[La],spacing:[Bn],blur:["none","",es,$e],brightness:me(),borderColor:[e],borderRadius:["none","","full",es,$e],borderSpacing:Z(),borderWidth:pe(),contrast:me(),grayscale:ee(),hueRotate:Pe(),invert:ee(),gap:Z(),gradientColorStops:[e],gradientColorStopPositions:[zR,hm],inset:ie(),margin:ie(),opacity:me(),padding:Z(),saturate:me(),scale:me(),sepia:ee(),skew:Pe(),space:Z(),translate:Z()},classGroups:{aspect:[{aspect:["auto","square","video",$e]}],container:["container"],columns:[{columns:[es]}],"break-after":[{"break-after":ae()}],"break-before":[{"break-before":ae()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(te(),[$e])}],overflow:[{overflow:K()}],"overflow-x":[{"overflow-x":K()}],"overflow-y":[{"overflow-y":K()}],overscroll:[{overscroll:Q()}],"overscroll-x":[{"overscroll-x":Q()}],"overscroll-y":[{"overscroll-y":Q()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Da]}],basis:[{basis:ie()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",$e]}],grow:[{grow:ee()}],shrink:[{shrink:ee()}],order:[{order:["first","last","none",Da]}],"grid-cols":[{"grid-cols":[La]}],"col-start-end":[{col:["auto",{span:["full",Da]},$e]}],"col-start":[{"col-start":Y()}],"col-end":[{"col-end":Y()}],"grid-rows":[{"grid-rows":[La]}],"row-start-end":[{row:["auto",{span:[Da]},$e]}],"row-start":[{"row-start":Y()}],"row-end":[{"row-end":Y()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",$e]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",$e]}],gap:[{gap:[g]}],"gap-x":[{"gap-x":[g]}],"gap-y":[{"gap-y":[g]}],"justify-content":[{justify:["normal"].concat(G())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(G(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(G(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[j]}],mx:[{mx:[j]}],my:[{my:[j]}],ms:[{ms:[j]}],me:[{me:[j]}],mt:[{mt:[j]}],mr:[{mr:[j]}],mb:[{mb:[j]}],ml:[{ml:[j]}],"space-x":[{"space-x":[T]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[T]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",$e,t]}],"min-w":[{"min-w":["min","max","fit",$e,Bn]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[es]},es,$e]}],h:[{h:[$e,t,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",$e,Bn]}],"max-h":[{"max-h":[$e,t,"min","max","fit"]}],"font-size":[{text:["base",es,hm]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Kc]}],"font-family":[{font:[La]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",$e]}],"line-clamp":[{"line-clamp":["none",yi,Kc]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",$e,Bn]}],"list-image":[{"list-image":["none",$e]}],"list-style-type":[{list:["none","disc","decimal",$e]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[_]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[_]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(J(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",Bn]}],"underline-offset":[{"underline-offset":["auto",$e,Bn]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:Z()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",$e]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",$e]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[_]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(te(),[BR])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",VR]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},UR]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[k]}],"gradient-via-pos":[{via:[k]}],"gradient-to-pos":[{to:[k]}],"gradient-from":[{from:[w]}],"gradient-via":[{via:[w]}],"gradient-to":[{to:[w]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[_]}],"border-style":[{border:[].concat(J(),["hidden"])}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[_]}],"divide-style":[{divide:J()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:[""].concat(J())}],"outline-offset":[{"outline-offset":[$e,Bn]}],"outline-w":[{outline:[Bn]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:pe()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[_]}],"ring-offset-w":[{"ring-offset":[Bn]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",es,WR]}],"shadow-color":[{shadow:[La]}],opacity:[{opacity:[_]}],"mix-blend":[{"mix-blend":ge()}],"bg-blend":[{"bg-blend":ge()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",es,$e]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[h]}],saturate:[{saturate:[b]}],sepia:[{sepia:[R]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[_]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[R]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",$e]}],duration:[{duration:Pe()}],ease:[{ease:["linear","in","out","in-out",$e]}],delay:[{delay:Pe()}],animate:[{animate:["none","spin","ping","pulse","bounce",$e]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[E]}],"scale-x":[{"scale-x":[E]}],"scale-y":[{"scale-y":[E]}],rotate:[{rotate:[Da,$e]}],"translate-x":[{"translate-x":[F]}],"translate-y":[{"translate-y":[F]}],"skew-x":[{"skew-x":[D]}],"skew-y":[{"skew-y":[D]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",$e]}],accent:[{accent:["auto",e]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",$e]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":Z()}],"scroll-mx":[{"scroll-mx":Z()}],"scroll-my":[{"scroll-my":Z()}],"scroll-ms":[{"scroll-ms":Z()}],"scroll-me":[{"scroll-me":Z()}],"scroll-mt":[{"scroll-mt":Z()}],"scroll-mr":[{"scroll-mr":Z()}],"scroll-mb":[{"scroll-mb":Z()}],"scroll-ml":[{"scroll-ml":Z()}],"scroll-p":[{"scroll-p":Z()}],"scroll-px":[{"scroll-px":Z()}],"scroll-py":[{"scroll-py":Z()}],"scroll-ps":[{"scroll-ps":Z()}],"scroll-pe":[{"scroll-pe":Z()}],"scroll-pt":[{"scroll-pt":Z()}],"scroll-pr":[{"scroll-pr":Z()}],"scroll-pb":[{"scroll-pb":Z()}],"scroll-pl":[{"scroll-pl":Z()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",$e]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Bn,Kc]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var GR=DR(YR);function Re(...e){return GR(l_(e))}function xx(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Kd(...e){return t=>{let n=!1;const r=e.map(s=>{const i=xx(s,t);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():xx(e[s],null)}}}}function Ke(...e){return m.useCallback(Kd(...e),e)}function id(e){const t=QR(e),n=m.forwardRef((r,s)=>{const{children:i,...o}=r,a=m.Children.toArray(i),c=a.find(ZR);if(c){const u=c.props.children,f=a.map(h=>h===c?m.Children.count(u)>1?m.Children.only(null):m.isValidElement(u)?u.props.children:null:h);return l.jsx(t,{...o,ref:s,children:m.isValidElement(u)?m.cloneElement(u,void 0,f):null})}return l.jsx(t,{...o,ref:s,children:i})});return n.displayName=`${e}.Slot`,n}var XR=id("Slot");function QR(e){const t=m.forwardRef((n,r)=>{const{children:s,...i}=n,o=m.isValidElement(s)?tA(s):void 0,a=Ke(o,r);if(m.isValidElement(s)){const c=eA(i,s.props);return s.type!==m.Fragment&&(c.ref=a),m.cloneElement(s,c)}return m.Children.count(s)>1?m.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var JR=Symbol("radix.slottable");function ZR(e){return m.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===JR}function eA(e,t){const n={...t};for(const r in t){const s=e[r],i=t[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const c=i(...a);return s(...a),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...e,...n}}function tA(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}const wx=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,bx=l_,Hd=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return bx(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=t,o=Object.keys(s).map(u=>{const f=n==null?void 0:n[u],h=i==null?void 0:i[u];if(f===null)return null;const g=wx(f)||wx(h);return s[u][g]}),a=n&&Object.entries(n).reduce((u,f)=>{let[h,g]=f;return g===void 0||(u[h]=g),u},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,f)=>{let{class:h,className:g,...w}=f;return Object.entries(w).every(k=>{let[v,j]=k;return Array.isArray(j)?j.includes({...i,...a}[v]):{...i,...a}[v]===j})?[...u,h,g]:u},[]);return bx(e,o,c,n==null?void 0:n.class,n==null?void 0:n.className)},nA=Hd("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ue=Ne.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...s},i)=>{const o=r?XR:"button";return l.jsx(o,{className:Re(nA({variant:t,size:n,className:e})),ref:i,...s})});ue.displayName="Button";var rA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const sA=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),xe=(e,t)=>{const n=m.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,children:a,...c},u)=>m.createElement("svg",{ref:u,...rA,width:s,height:s,stroke:r,strokeWidth:o?Number(i)*24/Number(s):i,className:`lucide lucide-${sA(e)}`,...c},[...t.map(([f,h])=>m.createElement(f,h)),...(Array.isArray(a)?a:[a])||[]]));return n.displayName=`${e}`,n},qd=xe("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),iA=xe("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),zr=xe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),oA=xe("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),p_=xe("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]),m_=xe("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),aA=xe("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),uy=xe("CalendarDays",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]),Sx=xe("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),ut=xe("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]),g_=xe("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),lA=xe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),dy=xe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),cA=xe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),od=xe("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),fy=xe("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),uA=xe("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]),bi=xe("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),_x=xe("FileX",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"9.5",x2:"14.5",y1:"12.5",y2:"17.5",key:"izs6du"}],["line",{x1:"14.5",x2:"9.5",y1:"12.5",y2:"17.5",key:"1lehlj"}]]),y_=xe("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),hy=xe("Gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]),dA=xe("HeartHandshake",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}],["path",{d:"M12 5 9.04 7.96a2.17 2.17 0 0 0 0 3.08v0c.82.82 2.13.85 3 .07l2.07-1.9a2.82 2.82 0 0 1 3.79 0l2.96 2.66",key:"12sd6o"}],["path",{d:"m18 15-2-2",key:"60u0ii"}],["path",{d:"m15 18-2-2",key:"6p76be"}]]),pm=xe("HeartOff",[["line",{x1:"2",y1:"2",x2:"22",y2:"22",key:"1w4vcy"}],["path",{d:"M16.5 16.5 12 21l-7-7c-1.5-1.45-3-3.2-3-5.5a5.5 5.5 0 0 1 2.14-4.35",key:"3mpagl"}],["path",{d:"M8.76 3.1c1.15.22 2.13.78 3.24 1.9 1.5-1.5 2.74-2 4.5-2A5.5 5.5 0 0 1 22 8.5c0 2.12-1.3 3.78-2.67 5.17",key:"1gh3v3"}]]),mm=xe("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),fA=xe("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),hA=xe("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]),gm=xe("KeyRound",[["path",{d:"M2 18v3c0 .6.4 1 1 1h4v-3h3v-3h2l1.4-1.4a6.5 6.5 0 1 0-4-4Z",key:"167ctg"}],["circle",{cx:"16.5",cy:"7.5",r:".5",key:"1kog09"}]]),pA=xe("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]),v_=xe("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]),As=xe("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),ym=xe("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]),mA=xe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),py=xe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),ad=xe("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),gA=xe("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),Ho=xe("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]),my=xe("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),yA=xe("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]),vA=xe("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),x_=xe("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),Yd=xe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),Hl=xe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),w_=xe("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),ld=xe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),b_=xe("ShieldAlert",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]),S_=xe("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),__=xe("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),xA=xe("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]),wA=xe("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),bA=xe("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),j_=xe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),SA=xe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),_A=xe("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]),k_=xe("UserCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]),jA=xe("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]),vm=xe("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),kA=xe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),cd=xe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),CA=xe("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),qo=xe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),C_=m.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),Gd=m.createContext({}),Xd=m.createContext(null),Qd=typeof document<"u",gy=Qd?m.useLayoutEffect:m.useEffect,E_=m.createContext({strict:!1}),yy=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),EA="framerAppearId",N_="data-"+yy(EA);function NA(e,t,n,r){const{visualElement:s}=m.useContext(Gd),i=m.useContext(E_),o=m.useContext(Xd),a=m.useContext(C_).reducedMotion,c=m.useRef();r=r||i.renderer,!c.current&&r&&(c.current=r(e,{visualState:t,parent:s,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const u=c.current;m.useInsertionEffect(()=>{u&&u.update(n,o)});const f=m.useRef(!!(n[N_]&&!window.HandoffComplete));return gy(()=>{u&&(u.render(),f.current&&u.animationState&&u.animationState.animateChanges())}),m.useEffect(()=>{u&&(u.updateFeatures(),!f.current&&u.animationState&&u.animationState.animateChanges(),f.current&&(f.current=!1,window.HandoffComplete=!0))}),u}function wo(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function PA(e,t,n){return m.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):wo(n)&&(n.current=r))},[t])}function Ol(e){return typeof e=="string"||Array.isArray(e)}function Jd(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const vy=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],xy=["initial",...vy];function Zd(e){return Jd(e.animate)||xy.some(t=>Ol(e[t]))}function P_(e){return!!(Zd(e)||e.variants)}function TA(e,t){if(Zd(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Ol(n)?n:void 0,animate:Ol(r)?r:void 0}}return e.inherit!==!1?t:{}}function RA(e){const{initial:t,animate:n}=TA(e,m.useContext(Gd));return m.useMemo(()=>({initial:t,animate:n}),[jx(t),jx(n)])}function jx(e){return Array.isArray(e)?e.join(" "):e}const kx={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Dl={};for(const e in kx)Dl[e]={isEnabled:t=>kx[e].some(n=>!!t[n])};function AA(e){for(const t in e)Dl[t]={...Dl[t],...e[t]}}const wy=m.createContext({}),T_=m.createContext({}),OA=Symbol.for("motionComponentSymbol");function DA({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:s}){e&&AA(e);function i(a,c){let u;const f={...m.useContext(C_),...a,layoutId:LA(a)},{isStatic:h}=f,g=RA(a),w=r(a,h);if(!h&&Qd){g.visualElement=NA(s,w,f,t);const k=m.useContext(T_),v=m.useContext(E_).strict;g.visualElement&&(u=g.visualElement.loadFeatures(f,v,e,k))}return m.createElement(Gd.Provider,{value:g},u&&g.visualElement?m.createElement(u,{visualElement:g.visualElement,...f}):null,n(s,a,PA(w,g.visualElement,c),w,h,g.visualElement))}const o=m.forwardRef(i);return o[OA]=s,o}function LA({layoutId:e}){const t=m.useContext(wy).id;return t&&e!==void 0?t+"-"+e:e}function IA(e){function t(r,s={}){return DA(e(r,s))}if(typeof Proxy>"u")return t;const n=new Map;return new Proxy(t,{get:(r,s)=>(n.has(s)||n.set(s,t(s)),n.get(s))})}const MA=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function by(e){return typeof e!="string"||e.includes("-")?!1:!!(MA.indexOf(e)>-1||/[A-Z]/.test(e))}const ud={};function FA(e){Object.assign(ud,e)}const ql=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Li=new Set(ql);function R_(e,{layout:t,layoutId:n}){return Li.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!ud[e]||e==="opacity")}const un=e=>!!(e&&e.getVelocity),$A={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},VA=ql.length;function BA(e,{enableHardwareAcceleration:t=!0,allowTransformNone:n=!0},r,s){let i="";for(let o=0;o<VA;o++){const a=ql[o];if(e[a]!==void 0){const c=$A[a]||a;i+=`${c}(${e[a]}) `}}return t&&!e.z&&(i+="translateZ(0)"),i=i.trim(),s?i=s(e,r?"":i):n&&r&&(i="none"),i}const A_=e=>t=>typeof t=="string"&&t.startsWith(e),O_=A_("--"),xm=A_("var(--"),UA=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,zA=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Os=(e,t,n)=>Math.min(Math.max(n,e),t),Ii={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},il={...Ii,transform:e=>Os(0,1,e)},Hc={...Ii,default:1},ol=e=>Math.round(e*1e5)/1e5,ef=/(-)?([\d]*\.?[\d])+/g,D_=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,WA=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Yl(e){return typeof e=="string"}const Gl=e=>({test:t=>Yl(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),ns=Gl("deg"),pr=Gl("%"),ke=Gl("px"),KA=Gl("vh"),HA=Gl("vw"),Cx={...pr,parse:e=>pr.parse(e)/100,transform:e=>pr.transform(e*100)},Ex={...Ii,transform:Math.round},L_={borderWidth:ke,borderTopWidth:ke,borderRightWidth:ke,borderBottomWidth:ke,borderLeftWidth:ke,borderRadius:ke,radius:ke,borderTopLeftRadius:ke,borderTopRightRadius:ke,borderBottomRightRadius:ke,borderBottomLeftRadius:ke,width:ke,maxWidth:ke,height:ke,maxHeight:ke,size:ke,top:ke,right:ke,bottom:ke,left:ke,padding:ke,paddingTop:ke,paddingRight:ke,paddingBottom:ke,paddingLeft:ke,margin:ke,marginTop:ke,marginRight:ke,marginBottom:ke,marginLeft:ke,rotate:ns,rotateX:ns,rotateY:ns,rotateZ:ns,scale:Hc,scaleX:Hc,scaleY:Hc,scaleZ:Hc,skew:ns,skewX:ns,skewY:ns,distance:ke,translateX:ke,translateY:ke,translateZ:ke,x:ke,y:ke,z:ke,perspective:ke,transformPerspective:ke,opacity:il,originX:Cx,originY:Cx,originZ:ke,zIndex:Ex,fillOpacity:il,strokeOpacity:il,numOctaves:Ex};function Sy(e,t,n,r){const{style:s,vars:i,transform:o,transformOrigin:a}=e;let c=!1,u=!1,f=!0;for(const h in t){const g=t[h];if(O_(h)){i[h]=g;continue}const w=L_[h],k=zA(g,w);if(Li.has(h)){if(c=!0,o[h]=k,!f)continue;g!==(w.default||0)&&(f=!1)}else h.startsWith("origin")?(u=!0,a[h]=k):s[h]=k}if(t.transform||(c||r?s.transform=BA(e.transform,n,f,r):s.transform&&(s.transform="none")),u){const{originX:h="50%",originY:g="50%",originZ:w=0}=a;s.transformOrigin=`${h} ${g} ${w}`}}const _y=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function I_(e,t,n){for(const r in t)!un(t[r])&&!R_(r,n)&&(e[r]=t[r])}function qA({transformTemplate:e},t,n){return m.useMemo(()=>{const r=_y();return Sy(r,t,{enableHardwareAcceleration:!n},e),Object.assign({},r.vars,r.style)},[t])}function YA(e,t,n){const r=e.style||{},s={};return I_(s,r,e),Object.assign(s,qA(e,t,n)),e.transformValues?e.transformValues(s):s}function GA(e,t,n){const r={},s=YA(e,t,n);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=s,r}const XA=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function dd(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||XA.has(e)}let M_=e=>!dd(e);function QA(e){e&&(M_=t=>t.startsWith("on")?!dd(t):e(t))}try{QA(require("@emotion/is-prop-valid").default)}catch{}function JA(e,t,n){const r={};for(const s in e)s==="values"&&typeof e.values=="object"||(M_(s)||n===!0&&dd(s)||!t&&!dd(s)||e.draggable&&s.startsWith("onDrag"))&&(r[s]=e[s]);return r}function Nx(e,t,n){return typeof e=="string"?e:ke.transform(t+n*e)}function ZA(e,t,n){const r=Nx(t,e.x,e.width),s=Nx(n,e.y,e.height);return`${r} ${s}`}const eO={offset:"stroke-dashoffset",array:"stroke-dasharray"},tO={offset:"strokeDashoffset",array:"strokeDasharray"};function nO(e,t,n=1,r=0,s=!0){e.pathLength=1;const i=s?eO:tO;e[i.offset]=ke.transform(-r);const o=ke.transform(t),a=ke.transform(n);e[i.array]=`${o} ${a}`}function jy(e,{attrX:t,attrY:n,attrScale:r,originX:s,originY:i,pathLength:o,pathSpacing:a=1,pathOffset:c=0,...u},f,h,g){if(Sy(e,u,f,g),h){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:w,style:k,dimensions:v}=e;w.transform&&(v&&(k.transform=w.transform),delete w.transform),v&&(s!==void 0||i!==void 0||k.transform)&&(k.transformOrigin=ZA(v,s!==void 0?s:.5,i!==void 0?i:.5)),t!==void 0&&(w.x=t),n!==void 0&&(w.y=n),r!==void 0&&(w.scale=r),o!==void 0&&nO(w,o,a,c,!1)}const F_=()=>({..._y(),attrs:{}}),ky=e=>typeof e=="string"&&e.toLowerCase()==="svg";function rO(e,t,n,r){const s=m.useMemo(()=>{const i=F_();return jy(i,t,{enableHardwareAcceleration:!1},ky(r),e.transformTemplate),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};I_(i,e.style,e),s.style={...i,...s.style}}return s}function sO(e=!1){return(n,r,s,{latestValues:i},o)=>{const c=(by(n)?rO:GA)(r,i,o,n),f={...JA(r,typeof n=="string",e),...c,ref:s},{children:h}=r,g=m.useMemo(()=>un(h)?h.get():h,[h]);return m.createElement(n,{...f,children:g})}}function $_(e,{style:t,vars:n},r,s){Object.assign(e.style,t,s&&s.getProjectionStyles(r));for(const i in n)e.style.setProperty(i,n[i])}const V_=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function B_(e,t,n,r){$_(e,t,void 0,r);for(const s in t.attrs)e.setAttribute(V_.has(s)?s:yy(s),t.attrs[s])}function Cy(e,t){const{style:n}=e,r={};for(const s in n)(un(n[s])||t.style&&un(t.style[s])||R_(s,e))&&(r[s]=n[s]);return r}function U_(e,t){const n=Cy(e,t);for(const r in e)if(un(e[r])||un(t[r])){const s=ql.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[s]=e[r]}return n}function Ey(e,t,n,r={},s={}){return typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,s)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,s)),t}function z_(e){const t=m.useRef(null);return t.current===null&&(t.current=e()),t.current}const fd=e=>Array.isArray(e),iO=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),oO=e=>fd(e)?e[e.length-1]||0:e;function Su(e){const t=un(e)?e.get():e;return iO(t)?t.toValue():t}function aO({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,s,i){const o={latestValues:lO(r,s,i,e),renderState:t()};return n&&(o.mount=a=>n(r,a,o)),o}const W_=e=>(t,n)=>{const r=m.useContext(Gd),s=m.useContext(Xd),i=()=>aO(e,t,r,s);return n?i():z_(i)};function lO(e,t,n,r){const s={},i=r(e,{});for(const g in i)s[g]=Su(i[g]);let{initial:o,animate:a}=e;const c=Zd(e),u=P_(e);t&&u&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),a===void 0&&(a=t.animate));let f=n?n.initial===!1:!1;f=f||o===!1;const h=f?a:o;return h&&typeof h!="boolean"&&!Jd(h)&&(Array.isArray(h)?h:[h]).forEach(w=>{const k=Ey(e,w);if(!k)return;const{transitionEnd:v,transition:j,..._}=k;for(const x in _){let b=_[x];if(Array.isArray(b)){const E=f?b.length-1:0;b=b[E]}b!==null&&(s[x]=b)}for(const x in v)s[x]=v[x]}),s}const yt=e=>e;class Px{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const n=this.order.indexOf(t);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function cO(e){let t=new Px,n=new Px,r=0,s=!1,i=!1;const o=new WeakSet,a={schedule:(c,u=!1,f=!1)=>{const h=f&&s,g=h?t:n;return u&&o.add(c),g.add(c)&&h&&s&&(r=t.order.length),c},cancel:c=>{n.remove(c),o.delete(c)},process:c=>{if(s){i=!0;return}if(s=!0,[t,n]=[n,t],n.clear(),r=t.order.length,r)for(let u=0;u<r;u++){const f=t.order[u];f(c),o.has(f)&&(a.schedule(f),e())}s=!1,i&&(i=!1,a.process(c))}};return a}const qc=["prepare","read","update","preRender","render","postRender"],uO=40;function dO(e,t){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=qc.reduce((h,g)=>(h[g]=cO(()=>n=!0),h),{}),o=h=>i[h].process(s),a=()=>{const h=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(h-s.timestamp,uO),1),s.timestamp=h,s.isProcessing=!0,qc.forEach(o),s.isProcessing=!1,n&&t&&(r=!1,e(a))},c=()=>{n=!0,r=!0,s.isProcessing||e(a)};return{schedule:qc.reduce((h,g)=>{const w=i[g];return h[g]=(k,v=!1,j=!1)=>(n||c(),w.schedule(k,v,j)),h},{}),cancel:h=>qc.forEach(g=>i[g].cancel(h)),state:s,steps:i}}const{schedule:tt,cancel:Mr,state:qt,steps:Rh}=dO(typeof requestAnimationFrame<"u"?requestAnimationFrame:yt,!0),fO={useVisualState:W_({scrapeMotionValuesFromProps:U_,createRenderState:F_,onMount:(e,t,{renderState:n,latestValues:r})=>{tt.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),tt.render(()=>{jy(n,r,{enableHardwareAcceleration:!1},ky(t.tagName),e.transformTemplate),B_(t,n)})}})},hO={useVisualState:W_({scrapeMotionValuesFromProps:Cy,createRenderState:_y})};function pO(e,{forwardMotionProps:t=!1},n,r){return{...by(e)?fO:hO,preloadedFeatures:n,useRender:sO(t),createVisualElement:r,Component:e}}function Nr(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const K_=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function tf(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const mO=e=>t=>K_(t)&&e(t,tf(t));function Tr(e,t,n,r){return Nr(e,t,mO(n),r)}const gO=(e,t)=>n=>t(e(n)),js=(...e)=>e.reduce(gO);function H_(e){let t=null;return()=>{const n=()=>{t=null};return t===null?(t=e,n):!1}}const Tx=H_("dragHorizontal"),Rx=H_("dragVertical");function q_(e){let t=!1;if(e==="y")t=Rx();else if(e==="x")t=Tx();else{const n=Tx(),r=Rx();n&&r?t=()=>{n(),r()}:(n&&n(),r&&r())}return t}function Y_(){const e=q_(!0);return e?(e(),!1):!0}class Us{constructor(t){this.isMounted=!1,this.node=t}update(){}}function Ax(e,t){const n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End"),s=(i,o)=>{if(i.pointerType==="touch"||Y_())return;const a=e.getProps();e.animationState&&a.whileHover&&e.animationState.setActive("whileHover",t),a[r]&&tt.update(()=>a[r](i,o))};return Tr(e.current,n,s,{passive:!e.getProps()[r]})}class yO extends Us{mount(){this.unmount=js(Ax(this.node,!0),Ax(this.node,!1))}unmount(){}}class vO extends Us{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=js(Nr(this.node.current,"focus",()=>this.onFocus()),Nr(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const G_=(e,t)=>t?e===t?!0:G_(e,t.parentElement):!1;function Ah(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,tf(n))}class xO extends Us{constructor(){super(...arguments),this.removeStartListeners=yt,this.removeEndListeners=yt,this.removeAccessibleListeners=yt,this.startPointerPress=(t,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),i=Tr(window,"pointerup",(a,c)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:f,globalTapTarget:h}=this.node.getProps();tt.update(()=>{!h&&!G_(this.node.current,a.target)?f&&f(a,c):u&&u(a,c)})},{passive:!(r.onTap||r.onPointerUp)}),o=Tr(window,"pointercancel",(a,c)=>this.cancelPress(a,c),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=js(i,o),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=i=>{if(i.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||Ah("up",(c,u)=>{const{onTap:f}=this.node.getProps();f&&tt.update(()=>f(c,u))})};this.removeEndListeners(),this.removeEndListeners=Nr(this.node.current,"keyup",o),Ah("down",(a,c)=>{this.startPress(a,c)})},n=Nr(this.node.current,"keydown",t),r=()=>{this.isPressing&&Ah("cancel",(i,o)=>this.cancelPress(i,o))},s=Nr(this.node.current,"blur",r);this.removeAccessibleListeners=js(n,s)}}startPress(t,n){this.isPressing=!0;const{onTapStart:r,whileTap:s}=this.node.getProps();s&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&tt.update(()=>r(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!Y_()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&tt.update(()=>r(t,n))}mount(){const t=this.node.getProps(),n=Tr(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=Nr(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=js(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const wm=new WeakMap,Oh=new WeakMap,wO=e=>{const t=wm.get(e.target);t&&t(e)},bO=e=>{e.forEach(wO)};function SO({root:e,...t}){const n=e||document;Oh.has(n)||Oh.set(n,{});const r=Oh.get(n),s=JSON.stringify(t);return r[s]||(r[s]=new IntersectionObserver(bO,{root:e,...t})),r[s]}function _O(e,t,n){const r=SO(t);return wm.set(e,n),r.observe(e),()=>{wm.delete(e),r.unobserve(e)}}const jO={some:0,all:1};class kO extends Us{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:jO[s]},a=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:f,onViewportLeave:h}=this.node.getProps(),g=u?f:h;g&&g(c)};return _O(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(CO(t,n))&&this.startObserver()}unmount(){}}function CO({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const EO={inView:{Feature:kO},tap:{Feature:xO},focus:{Feature:vO},hover:{Feature:yO}};function X_(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function NO(e){const t={};return e.values.forEach((n,r)=>t[r]=n.get()),t}function PO(e){const t={};return e.values.forEach((n,r)=>t[r]=n.getVelocity()),t}function nf(e,t,n){const r=e.getProps();return Ey(r,t,n!==void 0?n:r.custom,NO(e),PO(e))}let TO=yt,Ny=yt;const ks=e=>e*1e3,Rr=e=>e/1e3,RO={current:!1},Q_=e=>Array.isArray(e)&&typeof e[0]=="number";function J_(e){return!!(!e||typeof e=="string"&&Z_[e]||Q_(e)||Array.isArray(e)&&e.every(J_))}const Ha=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,Z_={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ha([0,.65,.55,1]),circOut:Ha([.55,0,1,.45]),backIn:Ha([.31,.01,.66,-.59]),backOut:Ha([.33,1.53,.69,.99])};function ej(e){if(e)return Q_(e)?Ha(e):Array.isArray(e)?e.map(ej):Z_[e]}function AO(e,t,n,{delay:r=0,duration:s,repeat:i=0,repeatType:o="loop",ease:a,times:c}={}){const u={[t]:n};c&&(u.offset=c);const f=ej(a);return Array.isArray(f)&&(u.easing=f),e.animate(u,{delay:r,duration:s,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}function OO(e,{repeat:t,repeatType:n="loop"}){const r=t&&n!=="loop"&&t%2===1?0:e.length-1;return e[r]}const tj=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,DO=1e-7,LO=12;function IO(e,t,n,r,s){let i,o,a=0;do o=t+(n-t)/2,i=tj(o,r,s)-e,i>0?n=o:t=o;while(Math.abs(i)>DO&&++a<LO);return o}function Xl(e,t,n,r){if(e===t&&n===r)return yt;const s=i=>IO(i,0,1,e,n);return i=>i===0||i===1?i:tj(s(i),t,r)}const MO=Xl(.42,0,1,1),FO=Xl(0,0,.58,1),nj=Xl(.42,0,.58,1),$O=e=>Array.isArray(e)&&typeof e[0]!="number",rj=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,sj=e=>t=>1-e(1-t),Py=e=>1-Math.sin(Math.acos(e)),ij=sj(Py),VO=rj(Py),oj=Xl(.33,1.53,.69,.99),Ty=sj(oj),BO=rj(Ty),UO=e=>(e*=2)<1?.5*Ty(e):.5*(2-Math.pow(2,-10*(e-1))),zO={linear:yt,easeIn:MO,easeInOut:nj,easeOut:FO,circIn:Py,circInOut:VO,circOut:ij,backIn:Ty,backInOut:BO,backOut:oj,anticipate:UO},Ox=e=>{if(Array.isArray(e)){Ny(e.length===4);const[t,n,r,s]=e;return Xl(t,n,r,s)}else if(typeof e=="string")return zO[e];return e},Ry=(e,t)=>n=>!!(Yl(n)&&WA.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),aj=(e,t,n)=>r=>{if(!Yl(r))return r;const[s,i,o,a]=r.match(ef);return{[e]:parseFloat(s),[t]:parseFloat(i),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},WO=e=>Os(0,255,e),Dh={...Ii,transform:e=>Math.round(WO(e))},vi={test:Ry("rgb","red"),parse:aj("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+Dh.transform(e)+", "+Dh.transform(t)+", "+Dh.transform(n)+", "+ol(il.transform(r))+")"};function KO(e){let t="",n="",r="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,r+=r,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const bm={test:Ry("#"),parse:KO,transform:vi.transform},bo={test:Ry("hsl","hue"),parse:aj("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+pr.transform(ol(t))+", "+pr.transform(ol(n))+", "+ol(il.transform(r))+")"},Jt={test:e=>vi.test(e)||bm.test(e)||bo.test(e),parse:e=>vi.test(e)?vi.parse(e):bo.test(e)?bo.parse(e):bm.parse(e),transform:e=>Yl(e)?e:e.hasOwnProperty("red")?vi.transform(e):bo.transform(e)},ft=(e,t,n)=>-n*e+n*t+e;function Lh(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function HO({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let s=0,i=0,o=0;if(!t)s=i=o=n;else{const a=n<.5?n*(1+t):n+t-n*t,c=2*n-a;s=Lh(c,a,e+1/3),i=Lh(c,a,e),o=Lh(c,a,e-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}const Ih=(e,t,n)=>{const r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},qO=[bm,vi,bo],YO=e=>qO.find(t=>t.test(e));function Dx(e){const t=YO(e);let n=t.parse(e);return t===bo&&(n=HO(n)),n}const lj=(e,t)=>{const n=Dx(e),r=Dx(t),s={...n};return i=>(s.red=Ih(n.red,r.red,i),s.green=Ih(n.green,r.green,i),s.blue=Ih(n.blue,r.blue,i),s.alpha=ft(n.alpha,r.alpha,i),vi.transform(s))};function GO(e){var t,n;return isNaN(e)&&Yl(e)&&(((t=e.match(ef))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(D_))===null||n===void 0?void 0:n.length)||0)>0}const cj={regex:UA,countKey:"Vars",token:"${v}",parse:yt},uj={regex:D_,countKey:"Colors",token:"${c}",parse:Jt.parse},dj={regex:ef,countKey:"Numbers",token:"${n}",parse:Ii.parse};function Mh(e,{regex:t,countKey:n,token:r,parse:s}){const i=e.tokenised.match(t);i&&(e["num"+n]=i.length,e.tokenised=e.tokenised.replace(t,r),e.values.push(...i.map(s)))}function hd(e){const t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&Mh(n,cj),Mh(n,uj),Mh(n,dj),n}function fj(e){return hd(e).values}function hj(e){const{values:t,numColors:n,numVars:r,tokenised:s}=hd(e),i=t.length;return o=>{let a=s;for(let c=0;c<i;c++)c<r?a=a.replace(cj.token,o[c]):c<r+n?a=a.replace(uj.token,Jt.transform(o[c])):a=a.replace(dj.token,ol(o[c]));return a}}const XO=e=>typeof e=="number"?0:e;function QO(e){const t=fj(e);return hj(e)(t.map(XO))}const Ds={test:GO,parse:fj,createTransformer:hj,getAnimatableNone:QO},pj=(e,t)=>n=>`${n>0?t:e}`;function mj(e,t){return typeof e=="number"?n=>ft(e,t,n):Jt.test(e)?lj(e,t):e.startsWith("var(")?pj(e,t):yj(e,t)}const gj=(e,t)=>{const n=[...e],r=n.length,s=e.map((i,o)=>mj(i,t[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}},JO=(e,t)=>{const n={...e,...t},r={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(r[s]=mj(e[s],t[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}},yj=(e,t)=>{const n=Ds.createTransformer(t),r=hd(e),s=hd(t);return r.numVars===s.numVars&&r.numColors===s.numColors&&r.numNumbers>=s.numNumbers?js(gj(r.values,s.values),n):pj(e,t)},Ll=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},Lx=(e,t)=>n=>ft(e,t,n);function ZO(e){return typeof e=="number"?Lx:typeof e=="string"?Jt.test(e)?lj:yj:Array.isArray(e)?gj:typeof e=="object"?JO:Lx}function eD(e,t,n){const r=[],s=n||ZO(e[0]),i=e.length-1;for(let o=0;o<i;o++){let a=s(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||yt:t;a=js(c,a)}r.push(a)}return r}function vj(e,t,{clamp:n=!0,ease:r,mixer:s}={}){const i=e.length;if(Ny(i===t.length),i===1)return()=>t[0];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=eD(t,r,s),a=o.length,c=u=>{let f=0;if(a>1)for(;f<e.length-2&&!(u<e[f+1]);f++);const h=Ll(e[f],e[f+1],u);return o[f](h)};return n?u=>c(Os(e[0],e[i-1],u)):c}function tD(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const s=Ll(0,t,r);e.push(ft(n,1,s))}}function nD(e){const t=[0];return tD(t,e.length-1),t}function rD(e,t){return e.map(n=>n*t)}function sD(e,t){return e.map(()=>t||nj).splice(0,e.length-1)}function pd({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const s=$O(r)?r.map(Ox):Ox(r),i={done:!1,value:t[0]},o=rD(n&&n.length===t.length?n:nD(t),e),a=vj(o,t,{ease:Array.isArray(s)?s:sD(t,s)});return{calculatedDuration:e,next:c=>(i.value=a(c),i.done=c>=e,i)}}function xj(e,t){return t?e*(1e3/t):0}const iD=5;function wj(e,t,n){const r=Math.max(t-iD,0);return xj(n-e(r),t-r)}const Fh=.001,oD=.01,Ix=10,aD=.05,lD=1;function cD({duration:e=800,bounce:t=.25,velocity:n=0,mass:r=1}){let s,i;TO(e<=ks(Ix));let o=1-t;o=Os(aD,lD,o),e=Os(oD,Ix,Rr(e)),o<1?(s=u=>{const f=u*o,h=f*e,g=f-n,w=Sm(u,o),k=Math.exp(-h);return Fh-g/w*k},i=u=>{const h=u*o*e,g=h*n+n,w=Math.pow(o,2)*Math.pow(u,2)*e,k=Math.exp(-h),v=Sm(Math.pow(u,2),o);return(-s(u)+Fh>0?-1:1)*((g-w)*k)/v}):(s=u=>{const f=Math.exp(-u*e),h=(u-n)*e+1;return-Fh+f*h},i=u=>{const f=Math.exp(-u*e),h=(n-u)*(e*e);return f*h});const a=5/e,c=dD(s,i,a);if(e=ks(e),isNaN(c))return{stiffness:100,damping:10,duration:e};{const u=Math.pow(c,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:e}}}const uD=12;function dD(e,t,n){let r=n;for(let s=1;s<uD;s++)r=r-e(r)/t(r);return r}function Sm(e,t){return e*Math.sqrt(1-t*t)}const fD=["duration","bounce"],hD=["stiffness","damping","mass"];function Mx(e,t){return t.some(n=>e[n]!==void 0)}function pD(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!Mx(e,hD)&&Mx(e,fD)){const n=cD(e);t={...t,...n,mass:1},t.isResolvedFromDuration=!0}return t}function bj({keyframes:e,restDelta:t,restSpeed:n,...r}){const s=e[0],i=e[e.length-1],o={done:!1,value:s},{stiffness:a,damping:c,mass:u,duration:f,velocity:h,isResolvedFromDuration:g}=pD({...r,velocity:-Rr(r.velocity||0)}),w=h||0,k=c/(2*Math.sqrt(a*u)),v=i-s,j=Rr(Math.sqrt(a/u)),_=Math.abs(v)<5;n||(n=_?.01:2),t||(t=_?.005:.5);let x;if(k<1){const b=Sm(j,k);x=E=>{const R=Math.exp(-k*j*E);return i-R*((w+k*j*v)/b*Math.sin(b*E)+v*Math.cos(b*E))}}else if(k===1)x=b=>i-Math.exp(-j*b)*(v+(w+j*v)*b);else{const b=j*Math.sqrt(k*k-1);x=E=>{const R=Math.exp(-k*j*E),D=Math.min(b*E,300);return i-R*((w+k*j*v)*Math.sinh(D)+b*v*Math.cosh(D))/b}}return{calculatedDuration:g&&f||null,next:b=>{const E=x(b);if(g)o.done=b>=f;else{let R=w;b!==0&&(k<1?R=wj(x,b,E):R=0);const D=Math.abs(R)<=n,T=Math.abs(i-E)<=t;o.done=D&&T}return o.value=o.done?i:E,o}}}function Fx({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:c,restDelta:u=.5,restSpeed:f}){const h=e[0],g={done:!1,value:h},w=F=>a!==void 0&&F<a||c!==void 0&&F>c,k=F=>a===void 0?c:c===void 0||Math.abs(a-F)<Math.abs(c-F)?a:c;let v=n*t;const j=h+v,_=o===void 0?j:o(j);_!==j&&(v=_-h);const x=F=>-v*Math.exp(-F/r),b=F=>_+x(F),E=F=>{const Q=x(F),K=b(F);g.done=Math.abs(Q)<=u,g.value=g.done?_:K};let R,D;const T=F=>{w(g.value)&&(R=F,D=bj({keyframes:[g.value,k(g.value)],velocity:wj(b,F,g.value),damping:s,stiffness:i,restDelta:u,restSpeed:f}))};return T(0),{calculatedDuration:null,next:F=>{let Q=!1;return!D&&R===void 0&&(Q=!0,E(F),T(F)),R!==void 0&&F>R?D.next(F-R):(!Q&&E(F),g)}}}const mD=e=>{const t=({timestamp:n})=>e(n);return{start:()=>tt.update(t,!0),stop:()=>Mr(t),now:()=>qt.isProcessing?qt.timestamp:performance.now()}},$x=2e4;function Vx(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<$x;)t+=n,r=e.next(t);return t>=$x?1/0:t}const gD={decay:Fx,inertia:Fx,tween:pd,keyframes:pd,spring:bj};function md({autoplay:e=!0,delay:t=0,driver:n=mD,keyframes:r,type:s="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:a="loop",onPlay:c,onStop:u,onComplete:f,onUpdate:h,...g}){let w=1,k=!1,v,j;const _=()=>{j=new Promise(me=>{v=me})};_();let x;const b=gD[s]||pd;let E;b!==pd&&typeof r[0]!="number"&&(E=vj([0,100],r,{clamp:!1}),r=[0,100]);const R=b({...g,keyframes:r});let D;a==="mirror"&&(D=b({...g,keyframes:[...r].reverse(),velocity:-(g.velocity||0)}));let T="idle",F=null,Q=null,K=null;R.calculatedDuration===null&&i&&(R.calculatedDuration=Vx(R));const{calculatedDuration:ie}=R;let Z=1/0,pe=1/0;ie!==null&&(Z=ie+o,pe=Z*(i+1)-o);let Y=0;const te=me=>{if(Q===null)return;w>0&&(Q=Math.min(Q,me)),w<0&&(Q=Math.min(me-pe/w,Q)),F!==null?Y=F:Y=Math.round(me-Q)*w;const Pe=Y-t*(w>=0?1:-1),Ae=w>=0?Pe<0:Pe>pe;Y=Math.max(Pe,0),T==="finished"&&F===null&&(Y=pe);let nt=Y,Tt=R;if(i){const fe=Math.min(Y,pe)/Z;let ze=Math.floor(fe),Te=fe%1;!Te&&fe>=1&&(Te=1),Te===1&&ze--,ze=Math.min(ze,i+1),!!(ze%2)&&(a==="reverse"?(Te=1-Te,o&&(Te-=o/Z)):a==="mirror"&&(Tt=D)),nt=Os(0,1,Te)*Z}const Je=Ae?{done:!1,value:r[0]}:Tt.next(nt);E&&(Je.value=E(Je.value));let{done:Se}=Je;!Ae&&ie!==null&&(Se=w>=0?Y>=pe:Y<=0);const Ge=F===null&&(T==="finished"||T==="running"&&Se);return h&&h(Je.value),Ge&&G(),Je},J=()=>{x&&x.stop(),x=void 0},ge=()=>{T="idle",J(),v(),_(),Q=K=null},G=()=>{T="finished",f&&f(),J(),v()},ee=()=>{if(k)return;x||(x=n(te));const me=x.now();c&&c(),F!==null?Q=me-F:(!Q||T==="finished")&&(Q=me),T==="finished"&&_(),K=Q,F=null,T="running",x.start()};e&&ee();const ae={then(me,Pe){return j.then(me,Pe)},get time(){return Rr(Y)},set time(me){me=ks(me),Y=me,F!==null||!x||w===0?F=me:Q=x.now()-me/w},get duration(){const me=R.calculatedDuration===null?Vx(R):R.calculatedDuration;return Rr(me)},get speed(){return w},set speed(me){me===w||!x||(w=me,ae.time=Rr(Y))},get state(){return T},play:ee,pause:()=>{T="paused",F=Y},stop:()=>{k=!0,T!=="idle"&&(T="idle",u&&u(),ge())},cancel:()=>{K!==null&&te(K),ge()},complete:()=>{T="finished"},sample:me=>(Q=0,te(me))};return ae}function yD(e){let t;return()=>(t===void 0&&(t=e()),t)}const vD=yD(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),xD=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Yc=10,wD=2e4,bD=(e,t)=>t.type==="spring"||e==="backgroundColor"||!J_(t.ease);function SD(e,t,{onUpdate:n,onComplete:r,...s}){if(!(vD()&&xD.has(t)&&!s.repeatDelay&&s.repeatType!=="mirror"&&s.damping!==0&&s.type!=="inertia"))return!1;let o=!1,a,c,u=!1;const f=()=>{c=new Promise(b=>{a=b})};f();let{keyframes:h,duration:g=300,ease:w,times:k}=s;if(bD(t,s)){const b=md({...s,repeat:0,delay:0});let E={done:!1,value:h[0]};const R=[];let D=0;for(;!E.done&&D<wD;)E=b.sample(D),R.push(E.value),D+=Yc;k=void 0,h=R,g=D-Yc,w="linear"}const v=AO(e.owner.current,t,h,{...s,duration:g,ease:w,times:k}),j=()=>{u=!1,v.cancel()},_=()=>{u=!0,tt.update(j),a(),f()};return v.onfinish=()=>{u||(e.set(OO(h,s)),r&&r(),_())},{then(b,E){return c.then(b,E)},attachTimeline(b){return v.timeline=b,v.onfinish=null,yt},get time(){return Rr(v.currentTime||0)},set time(b){v.currentTime=ks(b)},get speed(){return v.playbackRate},set speed(b){v.playbackRate=b},get duration(){return Rr(g)},play:()=>{o||(v.play(),Mr(j))},pause:()=>v.pause(),stop:()=>{if(o=!0,v.playState==="idle")return;const{currentTime:b}=v;if(b){const E=md({...s,autoplay:!1});e.setWithVelocity(E.sample(b-Yc).value,E.sample(b).value,Yc)}_()},complete:()=>{u||v.finish()},cancel:_}}function _D({keyframes:e,delay:t,onUpdate:n,onComplete:r}){const s=()=>(n&&n(e[e.length-1]),r&&r(),{time:0,speed:1,duration:0,play:yt,pause:yt,stop:yt,then:i=>(i(),Promise.resolve()),cancel:yt,complete:yt});return t?md({keyframes:[0,1],duration:0,delay:t,onComplete:s}):s()}const jD={type:"spring",stiffness:500,damping:25,restSpeed:10},kD=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),CD={type:"keyframes",duration:.8},ED={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},ND=(e,{keyframes:t})=>t.length>2?CD:Li.has(e)?e.startsWith("scale")?kD(t[1]):jD:ED,_m=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Ds.test(t)||t==="0")&&!t.startsWith("url(")),PD=new Set(["brightness","contrast","saturate","opacity"]);function TD(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(ef)||[];if(!r)return e;const s=n.replace(r,"");let i=PD.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+s+")"}const RD=/([a-z-]*)\(.*?\)/g,jm={...Ds,getAnimatableNone:e=>{const t=e.match(RD);return t?t.map(TD).join(" "):e}},AD={...L_,color:Jt,backgroundColor:Jt,outlineColor:Jt,fill:Jt,stroke:Jt,borderColor:Jt,borderTopColor:Jt,borderRightColor:Jt,borderBottomColor:Jt,borderLeftColor:Jt,filter:jm,WebkitFilter:jm},Ay=e=>AD[e];function Sj(e,t){let n=Ay(e);return n!==jm&&(n=Ds),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const _j=e=>/^0[^.\s]+$/.test(e);function OD(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||_j(e)}function DD(e,t,n,r){const s=_m(t,n);let i;Array.isArray(n)?i=[...n]:i=[null,n];const o=r.from!==void 0?r.from:e.get();let a;const c=[];for(let u=0;u<i.length;u++)i[u]===null&&(i[u]=u===0?o:i[u-1]),OD(i[u])&&c.push(u),typeof i[u]=="string"&&i[u]!=="none"&&i[u]!=="0"&&(a=i[u]);if(s&&c.length&&a)for(let u=0;u<c.length;u++){const f=c[u];i[f]=Sj(t,a)}return i}function LD({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:a,from:c,elapsed:u,...f}){return!!Object.keys(f).length}function Oy(e,t){return e[t]||e.default||e}const ID={skipAnimations:!1},Dy=(e,t,n,r={})=>s=>{const i=Oy(r,e)||{},o=i.delay||r.delay||0;let{elapsed:a=0}=r;a=a-ks(o);const c=DD(t,e,n,i),u=c[0],f=c[c.length-1],h=_m(e,u),g=_m(e,f);let w={keyframes:c,velocity:t.getVelocity(),ease:"easeOut",...i,delay:-a,onUpdate:k=>{t.set(k),i.onUpdate&&i.onUpdate(k)},onComplete:()=>{s(),i.onComplete&&i.onComplete()}};if(LD(i)||(w={...w,...ND(e,w)}),w.duration&&(w.duration=ks(w.duration)),w.repeatDelay&&(w.repeatDelay=ks(w.repeatDelay)),!h||!g||RO.current||i.type===!1||ID.skipAnimations)return _D(w);if(!r.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const k=SD(t,e,w);if(k)return k}return md(w)};function gd(e){return!!(un(e)&&e.add)}const jj=e=>/^\-?\d*\.?\d+$/.test(e);function Ly(e,t){e.indexOf(t)===-1&&e.push(t)}function Iy(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class My{constructor(){this.subscriptions=[]}add(t){return Ly(this.subscriptions,t),()=>Iy(this.subscriptions,t)}notify(t,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const MD=e=>!isNaN(parseFloat(e));class FD{constructor(t,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,s=!0)=>{this.prev=this.current,this.current=r;const{delta:i,timestamp:o}=qt;this.lastUpdated!==o&&(this.timeDelta=i,this.lastUpdated=o,tt.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>tt.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=MD(this.current),this.owner=n.owner}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new My);const r=this.events[t].add(n);return t==="change"?()=>{r(),tt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=t,this.timeDelta=r}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?xj(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Yo(e,t){return new FD(e,t)}const kj=e=>t=>t.test(e),$D={test:e=>e==="auto",parse:e=>e},Cj=[Ii,ke,pr,ns,HA,KA,$D],Ia=e=>Cj.find(kj(e)),VD=[...Cj,Jt,Ds],BD=e=>VD.find(kj(e));function UD(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Yo(n))}function zD(e,t){const n=nf(e,t);let{transitionEnd:r={},transition:s={},...i}=n?e.makeTargetAnimatable(n,!1):{};i={...i,...r};for(const o in i){const a=oO(i[o]);UD(e,o,a)}}function WD(e,t,n){var r,s;const i=Object.keys(t).filter(a=>!e.hasValue(a)),o=i.length;if(o)for(let a=0;a<o;a++){const c=i[a],u=t[c];let f=null;Array.isArray(u)&&(f=u[0]),f===null&&(f=(s=(r=n[c])!==null&&r!==void 0?r:e.readValue(c))!==null&&s!==void 0?s:t[c]),f!=null&&(typeof f=="string"&&(jj(f)||_j(f))?f=parseFloat(f):!BD(f)&&Ds.test(u)&&(f=Sj(c,u)),e.addValue(c,Yo(f,{owner:e})),n[c]===void 0&&(n[c]=f),f!==null&&e.setBaseTarget(c,f))}}function KD(e,t){return t?(t[e]||t.default||t).from:void 0}function HD(e,t,n){const r={};for(const s in e){const i=KD(s,t);if(i!==void 0)r[s]=i;else{const o=n.getValue(s);o&&(r[s]=o.get())}}return r}function qD({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function YD(e,t){const n=e.get();if(Array.isArray(t)){for(let r=0;r<t.length;r++)if(t[r]!==n)return!0}else return n!==t}function Ej(e,t,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:o,...a}=e.makeTargetAnimatable(t);const c=e.getValue("willChange");r&&(i=r);const u=[],f=s&&e.animationState&&e.animationState.getState()[s];for(const h in a){const g=e.getValue(h),w=a[h];if(!g||w===void 0||f&&qD(f,h))continue;const k={delay:n,elapsed:0,...Oy(i||{},h)};if(window.HandoffAppearAnimations){const _=e.getProps()[N_];if(_){const x=window.HandoffAppearAnimations(_,h,g,tt);x!==null&&(k.elapsed=x,k.isHandoff=!0)}}let v=!k.isHandoff&&!YD(g,w);if(k.type==="spring"&&(g.getVelocity()||k.velocity)&&(v=!1),g.animation&&(v=!1),v)continue;g.start(Dy(h,g,w,e.shouldReduceMotion&&Li.has(h)?{type:!1}:k));const j=g.animation;gd(c)&&(c.add(h),j.then(()=>c.remove(h))),u.push(j)}return o&&Promise.all(u).then(()=>{o&&zD(e,o)}),u}function km(e,t,n={}){const r=nf(e,t,n.custom);let{transition:s=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(Ej(e,r,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:f,staggerDirection:h}=s;return GD(e,t,u+c,f,h,n)}:()=>Promise.resolve(),{when:a}=s;if(a){const[c,u]=a==="beforeChildren"?[i,o]:[o,i];return c().then(()=>u())}else return Promise.all([i(),o(n.delay)])}function GD(e,t,n=0,r=0,s=1,i){const o=[],a=(e.variantChildren.size-1)*r,c=s===1?(u=0)=>u*r:(u=0)=>a-u*r;return Array.from(e.variantChildren).sort(XD).forEach((u,f)=>{u.notify("AnimationStart",t),o.push(km(u,t,{...i,delay:n+c(f)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(o)}function XD(e,t){return e.sortNodePosition(t)}function QD(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const s=t.map(i=>km(e,i,n));r=Promise.all(s)}else if(typeof t=="string")r=km(e,t,n);else{const s=typeof t=="function"?nf(e,t,n.custom):t;r=Promise.all(Ej(e,s,n))}return r.then(()=>e.notify("AnimationComplete",t))}const JD=[...vy].reverse(),ZD=vy.length;function eL(e){return t=>Promise.all(t.map(({animation:n,options:r})=>QD(e,n,r)))}function tL(e){let t=eL(e);const n=rL();let r=!0;const s=(c,u)=>{const f=nf(e,u);if(f){const{transition:h,transitionEnd:g,...w}=f;c={...c,...w,...g}}return c};function i(c){t=c(e)}function o(c,u){const f=e.getProps(),h=e.getVariantContext(!0)||{},g=[],w=new Set;let k={},v=1/0;for(let _=0;_<ZD;_++){const x=JD[_],b=n[x],E=f[x]!==void 0?f[x]:h[x],R=Ol(E),D=x===u?b.isActive:null;D===!1&&(v=_);let T=E===h[x]&&E!==f[x]&&R;if(T&&r&&e.manuallyAnimateOnMount&&(T=!1),b.protectedKeys={...k},!b.isActive&&D===null||!E&&!b.prevProp||Jd(E)||typeof E=="boolean")continue;let Q=nL(b.prevProp,E)||x===u&&b.isActive&&!T&&R||_>v&&R,K=!1;const ie=Array.isArray(E)?E:[E];let Z=ie.reduce(s,{});D===!1&&(Z={});const{prevResolvedValues:pe={}}=b,Y={...pe,...Z},te=J=>{Q=!0,w.has(J)&&(K=!0,w.delete(J)),b.needsAnimating[J]=!0};for(const J in Y){const ge=Z[J],G=pe[J];if(k.hasOwnProperty(J))continue;let ee=!1;fd(ge)&&fd(G)?ee=!X_(ge,G):ee=ge!==G,ee?ge!==void 0?te(J):w.add(J):ge!==void 0&&w.has(J)?te(J):b.protectedKeys[J]=!0}b.prevProp=E,b.prevResolvedValues=Z,b.isActive&&(k={...k,...Z}),r&&e.blockInitialAnimation&&(Q=!1),Q&&(!T||K)&&g.push(...ie.map(J=>({animation:J,options:{type:x,...c}})))}if(w.size){const _={};w.forEach(x=>{const b=e.getBaseTarget(x);b!==void 0&&(_[x]=b)}),g.push({animation:_})}let j=!!g.length;return r&&(f.initial===!1||f.initial===f.animate)&&!e.manuallyAnimateOnMount&&(j=!1),r=!1,j?t(g):Promise.resolve()}function a(c,u,f){var h;if(n[c].isActive===u)return Promise.resolve();(h=e.variantChildren)===null||h===void 0||h.forEach(w=>{var k;return(k=w.animationState)===null||k===void 0?void 0:k.setActive(c,u)}),n[c].isActive=u;const g=o(f,c);for(const w in n)n[w].protectedKeys={};return g}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>n}}function nL(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!X_(t,e):!1}function ri(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function rL(){return{animate:ri(!0),whileInView:ri(),whileHover:ri(),whileTap:ri(),whileDrag:ri(),whileFocus:ri(),exit:ri()}}class sL extends Us{constructor(t){super(t),t.animationState||(t.animationState=tL(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),Jd(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let iL=0;class oL extends Us{constructor(){super(...arguments),this.id=iL++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const i=this.node.animationState.setActive("exit",!t,{custom:r??this.node.getProps().custom});n&&!t&&i.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const aL={animation:{Feature:sL},exit:{Feature:oL}},Bx=(e,t)=>Math.abs(e-t);function lL(e,t){const n=Bx(e.x,t.x),r=Bx(e.y,t.y);return Math.sqrt(n**2+r**2)}class Nj{constructor(t,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=Vh(this.lastMoveEventInfo,this.history),g=this.startEvent!==null,w=lL(h.offset,{x:0,y:0})>=3;if(!g&&!w)return;const{point:k}=h,{timestamp:v}=qt;this.history.push({...k,timestamp:v});const{onStart:j,onMove:_}=this.handlers;g||(j&&j(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),_&&_(this.lastMoveEvent,h)},this.handlePointerMove=(h,g)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=$h(g,this.transformPagePoint),tt.update(this.updatePoint,!0)},this.handlePointerUp=(h,g)=>{this.end();const{onEnd:w,onSessionEnd:k,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const j=Vh(h.type==="pointercancel"?this.lastMoveEventInfo:$h(g,this.transformPagePoint),this.history);this.startEvent&&w&&w(h,j),k&&k(h,j)},!K_(t))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const o=tf(t),a=$h(o,this.transformPagePoint),{point:c}=a,{timestamp:u}=qt;this.history=[{...c,timestamp:u}];const{onSessionStart:f}=n;f&&f(t,Vh(a,this.history)),this.removeListeners=js(Tr(this.contextWindow,"pointermove",this.handlePointerMove),Tr(this.contextWindow,"pointerup",this.handlePointerUp),Tr(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Mr(this.updatePoint)}}function $h(e,t){return t?{point:t(e.point)}:e}function Ux(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Vh({point:e},t){return{point:e,delta:Ux(e,Pj(t)),offset:Ux(e,cL(t)),velocity:uL(t,.1)}}function cL(e){return e[0]}function Pj(e){return e[e.length-1]}function uL(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const s=Pj(e);for(;n>=0&&(r=e[n],!(s.timestamp-r.timestamp>ks(t)));)n--;if(!r)return{x:0,y:0};const i=Rr(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function _n(e){return e.max-e.min}function Cm(e,t=0,n=.01){return Math.abs(e-t)<=n}function zx(e,t,n,r=.5){e.origin=r,e.originPoint=ft(t.min,t.max,e.origin),e.scale=_n(n)/_n(t),(Cm(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=ft(n.min,n.max,e.origin)-e.originPoint,(Cm(e.translate)||isNaN(e.translate))&&(e.translate=0)}function al(e,t,n,r){zx(e.x,t.x,n.x,r?r.originX:void 0),zx(e.y,t.y,n.y,r?r.originY:void 0)}function Wx(e,t,n){e.min=n.min+t.min,e.max=e.min+_n(t)}function dL(e,t,n){Wx(e.x,t.x,n.x),Wx(e.y,t.y,n.y)}function Kx(e,t,n){e.min=t.min-n.min,e.max=e.min+_n(t)}function ll(e,t,n){Kx(e.x,t.x,n.x),Kx(e.y,t.y,n.y)}function fL(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?ft(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?ft(n,e,r.max):Math.min(e,n)),e}function Hx(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function hL(e,{top:t,left:n,bottom:r,right:s}){return{x:Hx(e.x,n,s),y:Hx(e.y,t,r)}}function qx(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function pL(e,t){return{x:qx(e.x,t.x),y:qx(e.y,t.y)}}function mL(e,t){let n=.5;const r=_n(e),s=_n(t);return s>r?n=Ll(t.min,t.max-r,e.min):r>s&&(n=Ll(e.min,e.max-s,t.min)),Os(0,1,n)}function gL(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Em=.35;function yL(e=Em){return e===!1?e=0:e===!0&&(e=Em),{x:Yx(e,"left","right"),y:Yx(e,"top","bottom")}}function Yx(e,t,n){return{min:Gx(e,t),max:Gx(e,n)}}function Gx(e,t){return typeof e=="number"?e:e[t]||0}const Xx=()=>({translate:0,scale:1,origin:0,originPoint:0}),So=()=>({x:Xx(),y:Xx()}),Qx=()=>({min:0,max:0}),_t=()=>({x:Qx(),y:Qx()});function Tn(e){return[e("x"),e("y")]}function Tj({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function vL({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function xL(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Bh(e){return e===void 0||e===1}function Nm({scale:e,scaleX:t,scaleY:n}){return!Bh(e)||!Bh(t)||!Bh(n)}function li(e){return Nm(e)||Rj(e)||e.z||e.rotate||e.rotateX||e.rotateY}function Rj(e){return Jx(e.x)||Jx(e.y)}function Jx(e){return e&&e!=="0%"}function yd(e,t,n){const r=e-n,s=t*r;return n+s}function Zx(e,t,n,r,s){return s!==void 0&&(e=yd(e,s,r)),yd(e,n,r)+t}function Pm(e,t=0,n=1,r,s){e.min=Zx(e.min,t,n,r,s),e.max=Zx(e.max,t,n,r,s)}function Aj(e,{x:t,y:n}){Pm(e.x,t.translate,t.scale,t.originPoint),Pm(e.y,n.translate,n.scale,n.originPoint)}function wL(e,t,n,r=!1){const s=n.length;if(!s)return;t.x=t.y=1;let i,o;for(let a=0;a<s;a++){i=n[a],o=i.projectionDelta;const c=i.instance;c&&c.style&&c.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&_o(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,Aj(e,o)),r&&li(i.latestValues)&&_o(e,i.latestValues))}t.x=ew(t.x),t.y=ew(t.y)}function ew(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function as(e,t){e.min=e.min+t,e.max=e.max+t}function tw(e,t,[n,r,s]){const i=t[s]!==void 0?t[s]:.5,o=ft(e.min,e.max,i);Pm(e,t[n],t[r],o,t.scale)}const bL=["x","scaleX","originX"],SL=["y","scaleY","originY"];function _o(e,t){tw(e.x,t,bL),tw(e.y,t,SL)}function Oj(e,t){return Tj(xL(e.getBoundingClientRect(),t))}function _L(e,t,n){const r=Oj(e,n),{scroll:s}=t;return s&&(as(r.x,s.offset.x),as(r.y,s.offset.y)),r}const Dj=({current:e})=>e?e.ownerDocument.defaultView:null,jL=new WeakMap;class kL{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=_t(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=f=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(tf(f,"page").point)},i=(f,h)=>{const{drag:g,dragPropagation:w,onDragStart:k}=this.getProps();if(g&&!w&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=q_(g),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Tn(j=>{let _=this.getAxisMotionValue(j).get()||0;if(pr.test(_)){const{projection:x}=this.visualElement;if(x&&x.layout){const b=x.layout.layoutBox[j];b&&(_=_n(b)*(parseFloat(_)/100))}}this.originPoint[j]=_}),k&&tt.update(()=>k(f,h),!1,!0);const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},o=(f,h)=>{const{dragPropagation:g,dragDirectionLock:w,onDirectionLock:k,onDrag:v}=this.getProps();if(!g&&!this.openGlobalLock)return;const{offset:j}=h;if(w&&this.currentDirection===null){this.currentDirection=CL(j),this.currentDirection!==null&&k&&k(this.currentDirection);return}this.updateAxis("x",h.point,j),this.updateAxis("y",h.point,j),this.visualElement.render(),v&&v(f,h)},a=(f,h)=>this.stop(f,h),c=()=>Tn(f=>{var h;return this.getAnimationState(f)==="paused"&&((h=this.getAxisMotionValue(f).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new Nj(t,{onSessionStart:s,onStart:i,onMove:o,onSessionEnd:a,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:Dj(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&tt.update(()=>i(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:s}=this.getProps();if(!r||!Gc(t,s,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=fL(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,i=this.constraints;n&&wo(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=hL(s.layoutBox,n):this.constraints=!1,this.elastic=yL(r),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Tn(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=gL(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!wo(t))return!1;const r=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=_L(r,s.root,this.visualElement.getTransformPagePoint());let o=pL(s.layout.layoutBox,i);if(n){const a=n(vL(o));this.hasMutatedConstraints=!!a,a&&(o=Tj(a))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),c=this.constraints||{},u=Tn(f=>{if(!Gc(f,n,this.currentDirection))return;let h=c&&c[f]||{};o&&(h={min:0,max:0});const g=s?200:1e6,w=s?40:1e7,k={type:"inertia",velocity:r?t[f]:0,bounceStiffness:g,bounceDamping:w,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(f,k)});return Promise.all(u).then(a)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return r.start(Dy(t,r,0,n))}stopAnimation(){Tn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Tn(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n="_drag"+t.toUpperCase(),r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Tn(n=>{const{drag:r}=this.getProps();if(!Gc(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[n];i.set(t[n]-ft(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!wo(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Tn(o=>{const a=this.getAxisMotionValue(o);if(a){const c=a.get();s[o]=mL({min:c,max:c},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Tn(o=>{if(!Gc(o,t,null))return;const a=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];a.set(ft(c,u,s[o]))})}addListeners(){if(!this.visualElement.current)return;jL.set(this.visualElement,this);const t=this.visualElement.current,n=Tr(t,"pointerdown",c=>{const{drag:u,dragListener:f=!0}=this.getProps();u&&f&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();wo(c)&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),r();const o=Nr(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(Tn(f=>{const h=this.getAxisMotionValue(f);h&&(this.originPoint[f]+=c[f].translate,h.set(h.get()+c[f].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=Em,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function Gc(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function CL(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class EL extends Us{constructor(t){super(t),this.removeGroupControls=yt,this.removeListeners=yt,this.controls=new kL(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||yt}unmount(){this.removeGroupControls(),this.removeListeners()}}const nw=e=>(t,n)=>{e&&tt.update(()=>e(t,n))};class NL extends Us{constructor(){super(...arguments),this.removePointerDownListener=yt}onPointerDown(t){this.session=new Nj(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Dj(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:nw(t),onStart:nw(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&tt.update(()=>s(i,o))}}}mount(){this.removePointerDownListener=Tr(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function PL(){const e=m.useContext(Xd);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,s=m.useId();return m.useEffect(()=>r(s),[]),!t&&n?[!1,()=>n&&n(s)]:[!0]}const _u={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function rw(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Ma={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(ke.test(e))e=parseFloat(e);else return e;const n=rw(e,t.target.x),r=rw(e,t.target.y);return`${n}% ${r}%`}},TL={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,s=Ds.parse(e);if(s.length>5)return r;const i=Ds.createTransformer(e),o=typeof s[0]!="number"?1:0,a=n.x.scale*t.x,c=n.y.scale*t.y;s[0+o]/=a,s[1+o]/=c;const u=ft(a,c,.5);return typeof s[2+o]=="number"&&(s[2+o]/=u),typeof s[3+o]=="number"&&(s[3+o]/=u),i(s)}};class RL extends Ne.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=t;FA(AL),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),_u.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,o=r.projection;return o&&(o.isPresent=i,s||t.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||tt.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Lj(e){const[t,n]=PL(),r=m.useContext(wy);return Ne.createElement(RL,{...e,layoutGroup:r,switchLayoutGroup:m.useContext(T_),isPresent:t,safeToRemove:n})}const AL={borderRadius:{...Ma,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ma,borderTopRightRadius:Ma,borderBottomLeftRadius:Ma,borderBottomRightRadius:Ma,boxShadow:TL},Ij=["TopLeft","TopRight","BottomLeft","BottomRight"],OL=Ij.length,sw=e=>typeof e=="string"?parseFloat(e):e,iw=e=>typeof e=="number"||ke.test(e);function DL(e,t,n,r,s,i){s?(e.opacity=ft(0,n.opacity!==void 0?n.opacity:1,LL(r)),e.opacityExit=ft(t.opacity!==void 0?t.opacity:1,0,IL(r))):i&&(e.opacity=ft(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<OL;o++){const a=`border${Ij[o]}Radius`;let c=ow(t,a),u=ow(n,a);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||iw(c)===iw(u)?(e[a]=Math.max(ft(sw(c),sw(u),r),0),(pr.test(u)||pr.test(c))&&(e[a]+="%")):e[a]=u}(t.rotate||n.rotate)&&(e.rotate=ft(t.rotate||0,n.rotate||0,r))}function ow(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const LL=Mj(0,.5,ij),IL=Mj(.5,.95,yt);function Mj(e,t,n){return r=>r<e?0:r>t?1:n(Ll(e,t,r))}function aw(e,t){e.min=t.min,e.max=t.max}function Nn(e,t){aw(e.x,t.x),aw(e.y,t.y)}function lw(e,t,n,r,s){return e-=t,e=yd(e,1/n,r),s!==void 0&&(e=yd(e,1/s,r)),e}function ML(e,t=0,n=1,r=.5,s,i=e,o=e){if(pr.test(t)&&(t=parseFloat(t),t=ft(o.min,o.max,t/100)-o.min),typeof t!="number")return;let a=ft(i.min,i.max,r);e===i&&(a-=t),e.min=lw(e.min,t,n,a,s),e.max=lw(e.max,t,n,a,s)}function cw(e,t,[n,r,s],i,o){ML(e,t[n],t[r],t[s],t.scale,i,o)}const FL=["x","scaleX","originX"],$L=["y","scaleY","originY"];function uw(e,t,n,r){cw(e.x,t,FL,n?n.x:void 0,r?r.x:void 0),cw(e.y,t,$L,n?n.y:void 0,r?r.y:void 0)}function dw(e){return e.translate===0&&e.scale===1}function Fj(e){return dw(e.x)&&dw(e.y)}function VL(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function $j(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function fw(e){return _n(e.x)/_n(e.y)}class BL{constructor(){this.members=[]}add(t){Ly(this.members,t),t.scheduleRender()}remove(t){if(Iy(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(s=>t===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function hw(e,t,n){let r="";const s=e.x.translate/t.x,i=e.y.translate/t.y;if((s||i)&&(r=`translate3d(${s}px, ${i}px, 0) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{rotate:c,rotateX:u,rotateY:f}=n;c&&(r+=`rotate(${c}deg) `),u&&(r+=`rotateX(${u}deg) `),f&&(r+=`rotateY(${f}deg) `)}const o=e.x.scale*t.x,a=e.y.scale*t.y;return(o!==1||a!==1)&&(r+=`scale(${o}, ${a})`),r||"none"}const UL=(e,t)=>e.depth-t.depth;class zL{constructor(){this.children=[],this.isDirty=!1}add(t){Ly(this.children,t),this.isDirty=!0}remove(t){Iy(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(UL),this.isDirty=!1,this.children.forEach(t)}}function WL(e,t){const n=performance.now(),r=({timestamp:s})=>{const i=s-n;i>=t&&(Mr(r),e(i-t))};return tt.read(r,!0),()=>Mr(r)}function KL(e){window.MotionDebug&&window.MotionDebug.record(e)}function HL(e){return e instanceof SVGElement&&e.tagName!=="svg"}function qL(e,t,n){const r=un(e)?e:Yo(e);return r.start(Dy("",r,t,n)),r.animation}const pw=["","X","Y","Z"],YL={visibility:"hidden"},mw=1e3;let GL=0;const ci={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function Vj({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},a=t==null?void 0:t()){this.id=GL++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,ci.totalNodes=ci.resolvedTargetDeltas=ci.recalculatedProjection=0,this.nodes.forEach(JL),this.nodes.forEach(rI),this.nodes.forEach(sI),this.nodes.forEach(ZL),KL(ci)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new zL)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new My),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const c=this.eventHandlers.get(o);c&&c.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=HL(o),this.instance=o;const{layoutId:c,layout:u,visualElement:f}=this.options;if(f&&!f.current&&f.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(u||c)&&(this.isLayoutDirty=!0),e){let h;const g=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=WL(g,250),_u.hasAnimatedSinceResize&&(_u.hasAnimatedSinceResize=!1,this.nodes.forEach(yw))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&f&&(c||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:g,hasRelativeTargetChanged:w,layout:k})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||f.getDefaultTransition()||cI,{onLayoutAnimationStart:j,onLayoutAnimationComplete:_}=f.getProps(),x=!this.targetLayout||!$j(this.targetLayout,k)||w,b=!g&&w;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||b||g&&(x||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,b);const E={...Oy(v,"layout"),onPlay:j,onComplete:_};(f.shouldReduceMotion||this.options.layoutRoot)&&(E.delay=0,E.type=!1),this.startAnimation(E)}else g||yw(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=k})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Mr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(iI),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const h=this.path[f];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:c}=this.options;if(a===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(gw);return}this.isUpdating||this.nodes.forEach(tI),this.isUpdating=!1,this.nodes.forEach(nI),this.nodes.forEach(XL),this.nodes.forEach(QL),this.clearAllSnapshots();const a=performance.now();qt.delta=Os(0,1e3/60,a-qt.timestamp),qt.timestamp=a,qt.isProcessing=!0,Rh.update.process(qt),Rh.preRender.process(qt),Rh.render.process(qt),qt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(eI),this.sharedNodes.forEach(oI)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,tt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){tt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=_t(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!Fj(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,f=u!==this.prevTransformTemplateValue;o&&(a||li(this.latestValues)||f)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let c=this.removeElementScroll(a);return o&&(c=this.removeTransform(c)),uI(c),{animationId:this.root.animationId,measuredBox:a,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return _t();const a=o.measureViewportBox(),{scroll:c}=this.root;return c&&(as(a.x,c.offset.x),as(a.y,c.offset.y)),a}removeElementScroll(o){const a=_t();Nn(a,o);for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:f,options:h}=u;if(u!==this.root&&f&&h.layoutScroll){if(f.isRoot){Nn(a,o);const{scroll:g}=this.root;g&&(as(a.x,-g.offset.x),as(a.y,-g.offset.y))}as(a.x,f.offset.x),as(a.y,f.offset.y)}}return a}applyTransform(o,a=!1){const c=_t();Nn(c,o);for(let u=0;u<this.path.length;u++){const f=this.path[u];!a&&f.options.layoutScroll&&f.scroll&&f!==f.root&&_o(c,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),li(f.latestValues)&&_o(c,f.latestValues)}return li(this.latestValues)&&_o(c,this.latestValues),c}removeTransform(o){const a=_t();Nn(a,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!li(u.latestValues))continue;Nm(u.latestValues)&&u.updateSnapshot();const f=_t(),h=u.measurePageBox();Nn(f,h),uw(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,f)}return li(this.latestValues)&&uw(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==qt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:h,layoutId:g}=this.options;if(!(!this.layout||!(h||g))){if(this.resolvedRelativeTargetAt=qt.timestamp,!this.targetDelta&&!this.relativeTarget){const w=this.getClosestProjectingParent();w&&w.layout&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=_t(),this.relativeTargetOrigin=_t(),ll(this.relativeTargetOrigin,this.layout.layoutBox,w.layout.layoutBox),Nn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=_t(),this.targetWithTransforms=_t()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),dL(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Nn(this.target,this.layout.layoutBox),Aj(this.target,this.targetDelta)):Nn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const w=this.getClosestProjectingParent();w&&!!w.resumingFrom==!!this.resumingFrom&&!w.options.layoutScroll&&w.target&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=_t(),this.relativeTargetOrigin=_t(),ll(this.relativeTargetOrigin,this.target,w.target),Nn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}ci.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Nm(this.parent.latestValues)||Rj(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),c=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===qt.timestamp&&(u=!1),u)return;const{layout:f,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||h))return;Nn(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,w=this.treeScale.y;wL(this.layoutCorrected,this.treeScale,this.path,c),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:k}=a;if(!k){this.projectionTransform&&(this.projectionDelta=So(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=So(),this.projectionDeltaWithTransform=So());const v=this.projectionTransform;al(this.projectionDelta,this.layoutCorrected,k,this.latestValues),this.projectionTransform=hw(this.projectionDelta,this.treeScale),(this.projectionTransform!==v||this.treeScale.x!==g||this.treeScale.y!==w)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",k)),ci.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){const c=this.snapshot,u=c?c.latestValues:{},f={...this.latestValues},h=So();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const g=_t(),w=c?c.source:void 0,k=this.layout?this.layout.source:void 0,v=w!==k,j=this.getStack(),_=!j||j.members.length<=1,x=!!(v&&!_&&this.options.crossfade===!0&&!this.path.some(lI));this.animationProgress=0;let b;this.mixTargetDelta=E=>{const R=E/1e3;vw(h.x,o.x,R),vw(h.y,o.y,R),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ll(g,this.layout.layoutBox,this.relativeParent.layout.layoutBox),aI(this.relativeTarget,this.relativeTargetOrigin,g,R),b&&VL(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=_t()),Nn(b,this.relativeTarget)),v&&(this.animationValues=f,DL(f,u,this.latestValues,R,x,_)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=R},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Mr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=tt.update(()=>{_u.hasAnimatedSinceResize=!0,this.currentAnimation=qL(0,mw,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(mw),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:c,layout:u,latestValues:f}=o;if(!(!a||!c||!u)){if(this!==o&&this.layout&&u&&Bj(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||_t();const h=_n(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+h;const g=_n(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+g}Nn(a,c),_o(a,f),al(this.projectionDeltaWithTransform,this.layoutCorrected,a,f)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new BL),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:c}=o;if((c.rotate||c.rotateX||c.rotateY||c.rotateZ)&&(a=!0),!a)return;const u={};for(let f=0;f<pw.length;f++){const h="rotate"+pw[f];c[h]&&(u[h]=c[h],o.setStaticValue(h,0))}o.render();for(const f in u)o.setStaticValue(f,u[f]);o.scheduleRender()}getProjectionStyles(o){var a,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return YL;const u={visibility:""},f=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Su(o==null?void 0:o.pointerEvents)||"",u.transform=f?f(this.latestValues,""):"none",u;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const v={};return this.options.layoutId&&(v.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,v.pointerEvents=Su(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!li(this.latestValues)&&(v.transform=f?f({},""):"none",this.hasProjected=!1),v}const g=h.animationValues||h.latestValues;this.applyTransformsToTarget(),u.transform=hw(this.projectionDeltaWithTransform,this.treeScale,g),f&&(u.transform=f(g,u.transform));const{x:w,y:k}=this.projectionDelta;u.transformOrigin=`${w.origin*100}% ${k.origin*100}% 0`,h.animationValues?u.opacity=h===this?(c=(a=g.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:u.opacity=h===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const v in ud){if(g[v]===void 0)continue;const{correct:j,applyTo:_}=ud[v],x=u.transform==="none"?g[v]:j(g[v],h);if(_){const b=_.length;for(let E=0;E<b;E++)u[_[E]]=x}else u[v]=x}return this.options.layoutId&&(u.pointerEvents=h===this?Su(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(gw),this.root.sharedNodes.clear()}}}function XL(e){e.updateLayout()}function QL(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=e.layout,{animationType:i}=e.options,o=n.source!==e.layout.source;i==="size"?Tn(h=>{const g=o?n.measuredBox[h]:n.layoutBox[h],w=_n(g);g.min=r[h].min,g.max=g.min+w}):Bj(i,n.layoutBox,r)&&Tn(h=>{const g=o?n.measuredBox[h]:n.layoutBox[h],w=_n(r[h]);g.max=g.min+w,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+w)});const a=So();al(a,r,n.layoutBox);const c=So();o?al(c,e.applyTransform(s,!0),n.measuredBox):al(c,r,n.layoutBox);const u=!Fj(a);let f=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:g,layout:w}=h;if(g&&w){const k=_t();ll(k,n.layoutBox,g.layoutBox);const v=_t();ll(v,r,w.layoutBox),$j(k,v)||(f=!0),h.options.layoutRoot&&(e.relativeTarget=v,e.relativeTargetOrigin=k,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:c,layoutDelta:a,hasLayoutChanged:u,hasRelativeTargetChanged:f})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function JL(e){ci.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function ZL(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function eI(e){e.clearSnapshot()}function gw(e){e.clearMeasurements()}function tI(e){e.isLayoutDirty=!1}function nI(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function yw(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function rI(e){e.resolveTargetDelta()}function sI(e){e.calcProjection()}function iI(e){e.resetRotation()}function oI(e){e.removeLeadSnapshot()}function vw(e,t,n){e.translate=ft(t.translate,0,n),e.scale=ft(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function xw(e,t,n,r){e.min=ft(t.min,n.min,r),e.max=ft(t.max,n.max,r)}function aI(e,t,n,r){xw(e.x,t.x,n.x,r),xw(e.y,t.y,n.y,r)}function lI(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const cI={duration:.45,ease:[.4,0,.1,1]},ww=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),bw=ww("applewebkit/")&&!ww("chrome/")?Math.round:yt;function Sw(e){e.min=bw(e.min),e.max=bw(e.max)}function uI(e){Sw(e.x),Sw(e.y)}function Bj(e,t,n){return e==="position"||e==="preserve-aspect"&&!Cm(fw(t),fw(n),.2)}const dI=Vj({attachResizeListener:(e,t)=>Nr(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Uh={current:void 0},Uj=Vj({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Uh.current){const e=new dI({});e.mount(window),e.setOptions({layoutScroll:!0}),Uh.current=e}return Uh.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),fI={pan:{Feature:NL},drag:{Feature:EL,ProjectionNode:Uj,MeasureLayout:Lj}},hI=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function pI(e){const t=hI.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]}function Tm(e,t,n=1){const[r,s]=pI(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const o=i.trim();return jj(o)?parseFloat(o):o}else return xm(s)?Tm(s,t,n+1):s}function mI(e,{...t},n){const r=e.current;if(!(r instanceof Element))return{target:t,transitionEnd:n};n&&(n={...n}),e.values.forEach(s=>{const i=s.get();if(!xm(i))return;const o=Tm(i,r);o&&s.set(o)});for(const s in t){const i=t[s];if(!xm(i))continue;const o=Tm(i,r);o&&(t[s]=o,n||(n={}),n[s]===void 0&&(n[s]=i))}return{target:t,transitionEnd:n}}const gI=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),zj=e=>gI.has(e),yI=e=>Object.keys(e).some(zj),_w=e=>e===Ii||e===ke,jw=(e,t)=>parseFloat(e.split(", ")[t]),kw=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/);if(s)return jw(s[1],t);{const i=r.match(/^matrix\((.+)\)$/);return i?jw(i[1],e):0}},vI=new Set(["x","y","z"]),xI=ql.filter(e=>!vI.has(e));function wI(e){const t=[];return xI.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t.length&&e.render(),t}const Go={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:kw(4,13),y:kw(5,14)};Go.translateX=Go.x;Go.translateY=Go.y;const bI=(e,t,n)=>{const r=t.measureViewportBox(),s=t.current,i=getComputedStyle(s),{display:o}=i,a={};o==="none"&&t.setStaticValue("display",e.display||"block"),n.forEach(u=>{a[u]=Go[u](r,i)}),t.render();const c=t.measureViewportBox();return n.forEach(u=>{const f=t.getValue(u);f&&f.jump(a[u]),e[u]=Go[u](c,i)}),e},SI=(e,t,n={},r={})=>{t={...t},r={...r};const s=Object.keys(t).filter(zj);let i=[],o=!1;const a=[];if(s.forEach(c=>{const u=e.getValue(c);if(!e.hasValue(c))return;let f=n[c],h=Ia(f);const g=t[c];let w;if(fd(g)){const k=g.length,v=g[0]===null?1:0;f=g[v],h=Ia(f);for(let j=v;j<k&&g[j]!==null;j++)w?Ny(Ia(g[j])===w):w=Ia(g[j])}else w=Ia(g);if(h!==w)if(_w(h)&&_w(w)){const k=u.get();typeof k=="string"&&u.set(parseFloat(k)),typeof g=="string"?t[c]=parseFloat(g):Array.isArray(g)&&w===ke&&(t[c]=g.map(parseFloat))}else h!=null&&h.transform&&(w!=null&&w.transform)&&(f===0||g===0)?f===0?u.set(w.transform(f)):t[c]=h.transform(g):(o||(i=wI(e),o=!0),a.push(c),r[c]=r[c]!==void 0?r[c]:t[c],u.jump(g))}),a.length){const c=a.indexOf("height")>=0?window.pageYOffset:null,u=bI(t,e,a);return i.length&&i.forEach(([f,h])=>{e.getValue(f).set(h)}),e.render(),Qd&&c!==null&&window.scrollTo({top:c}),{target:u,transitionEnd:r}}else return{target:t,transitionEnd:r}};function _I(e,t,n,r){return yI(t)?SI(e,t,n,r):{target:t,transitionEnd:r}}const jI=(e,t,n,r)=>{const s=mI(e,t,r);return t=s.target,r=s.transitionEnd,_I(e,t,n,r)},Rm={current:null},Wj={current:!1};function kI(){if(Wj.current=!0,!!Qd)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Rm.current=e.matches;e.addListener(t),t()}else Rm.current=!1}function CI(e,t,n){const{willChange:r}=t;for(const s in t){const i=t[s],o=n[s];if(un(i))e.addValue(s,i),gd(r)&&r.add(s);else if(un(o))e.addValue(s,Yo(i,{owner:e})),gd(r)&&r.remove(s);else if(o!==i)if(e.hasValue(s)){const a=e.getValue(s);!a.hasAnimated&&a.set(i)}else{const a=e.getStaticValue(s);e.addValue(s,Yo(a!==void 0?a:i,{owner:e}))}}for(const s in n)t[s]===void 0&&e.removeValue(s);return t}const Cw=new WeakMap,Kj=Object.keys(Dl),EI=Kj.length,Ew=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],NI=xy.length;class PI{constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:s,visualState:i},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>tt.render(this.render,!1,!0);const{latestValues:a,renderState:c}=i;this.latestValues=a,this.baseTarget={...a},this.initialValues=n.initial?{...a}:{},this.renderState=c,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=o,this.isControllingVariants=Zd(n),this.isVariantNode=P_(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...f}=this.scrapeMotionValuesFromProps(n,{});for(const h in f){const g=f[h];a[h]!==void 0&&un(g)&&(g.set(a[h],!1),gd(u)&&u.add(h))}}scrapeMotionValuesFromProps(t,n){return{}}mount(t){this.current=t,Cw.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),Wj.current||kI(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Rm.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Cw.delete(this.current),this.projection&&this.projection.unmount(),Mr(this.notifyUpdate),Mr(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,n){const r=Li.has(t),s=n.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&tt.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{s(),i()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...n},r,s,i){let o,a;for(let c=0;c<EI;c++){const u=Kj[c],{isEnabled:f,Feature:h,ProjectionNode:g,MeasureLayout:w}=Dl[u];g&&(o=g),f(n)&&(!this.features[u]&&h&&(this.features[u]=new h(this)),w&&(a=w))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:c,layout:u,drag:f,dragConstraints:h,layoutScroll:g,layoutRoot:w}=n;this.projection.setOptions({layoutId:c,layout:u,alwaysMeasureLayout:!!f||h&&wo(h),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:i,layoutScroll:g,layoutRoot:w})}return a}updateFeatures(){for(const t in this.features){const n=this.features[t];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):_t()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}makeTargetAnimatable(t,n=!0){return this.makeTargetAnimatableFromInstance(t,this.props,n)}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Ew.length;r++){const s=Ew[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i=t["on"+s];i&&(this.propEventSubscriptions[s]=this.on(s,i))}this.prevMotionValues=CI(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<NI;r++){const s=xy[r],i=this.props[s];(Ol(i)||i===!1)&&(n[s]=i)}return n}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){n!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,n)),this.values.set(t,n),this.latestValues[t]=n.get()}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Yo(n,{owner:this}),this.addValue(t,r)),r}readValue(t){var n;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props,s=typeof r=="string"||typeof r=="object"?(n=Ey(this.props,r))===null||n===void 0?void 0:n[t]:void 0;if(r&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!un(i)?i:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new My),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class Hj extends PI{sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:n,...r},{transformValues:s},i){let o=HD(r,t||{},this);if(s&&(n&&(n=s(n)),r&&(r=s(r)),o&&(o=s(o))),i){WD(this,r,o);const a=jI(this,r,o,n);n=a.transitionEnd,r=a.target}return{transition:t,transitionEnd:n,...r}}}function TI(e){return window.getComputedStyle(e)}class RI extends Hj{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,n){if(Li.has(n)){const r=Ay(n);return r&&r.default||0}else{const r=TI(t),s=(O_(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:n}){return Oj(t,n)}build(t,n,r,s){Sy(t,n,r,s.transformTemplate)}scrapeMotionValuesFromProps(t,n){return Cy(t,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;un(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(t,n,r,s){$_(t,n,r,s)}}class AI extends Hj{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Li.has(n)){const r=Ay(n);return r&&r.default||0}return n=V_.has(n)?n:yy(n),t.getAttribute(n)}measureInstanceViewportBox(){return _t()}scrapeMotionValuesFromProps(t,n){return U_(t,n)}build(t,n,r,s){jy(t,n,r,this.isSVGTag,s.transformTemplate)}renderInstance(t,n,r,s){B_(t,n,r,s)}mount(t){this.isSVGTag=ky(t.tagName),super.mount(t)}}const OI=(e,t)=>by(e)?new AI(t,{enableHardwareAcceleration:!1}):new RI(t,{enableHardwareAcceleration:!0}),DI={layout:{ProjectionNode:Uj,MeasureLayout:Lj}},LI={...aL,...EO,...fI,...DI},_e=IA((e,t)=>pO(e,t,LI,OI));function qj(){const e=m.useRef(!1);return gy(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function II(){const e=qj(),[t,n]=m.useState(0),r=m.useCallback(()=>{e.current&&n(t+1)},[t]);return[m.useCallback(()=>tt.postRender(r),[r]),t]}class MI extends m.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function FI({children:e,isPresent:t}){const n=m.useId(),r=m.useRef(null),s=m.useRef({width:0,height:0,top:0,left:0});return m.useInsertionEffect(()=>{const{width:i,height:o,top:a,left:c}=s.current;if(t||!r.current||!i||!o)return;r.current.dataset.motionPopId=n;const u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${i}px !important;
            height: ${o}px !important;
            top: ${a}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[t]),m.createElement(MI,{isPresent:t,childRef:r,sizeRef:s},m.cloneElement(e,{ref:r}))}const zh=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:o})=>{const a=z_($I),c=m.useId(),u=m.useMemo(()=>({id:c,initial:t,isPresent:n,custom:s,onExitComplete:f=>{a.set(f,!0);for(const h of a.values())if(!h)return;r&&r()},register:f=>(a.set(f,!1),()=>a.delete(f))}),i?void 0:[n]);return m.useMemo(()=>{a.forEach((f,h)=>a.set(h,!1))},[n]),m.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(e=m.createElement(FI,{isPresent:n},e)),m.createElement(Xd.Provider,{value:u},e)};function $I(){return new Map}function VI(e){return m.useEffect(()=>()=>e(),[])}const ui=e=>e.key||"";function BI(e,t){e.forEach(n=>{const r=ui(n);t.set(r,n)})}function UI(e){const t=[];return m.Children.forEach(e,n=>{m.isValidElement(n)&&t.push(n)}),t}const rf=({children:e,custom:t,initial:n=!0,onExitComplete:r,exitBeforeEnter:s,presenceAffectsLayout:i=!0,mode:o="sync"})=>{const a=m.useContext(wy).forceRender||II()[0],c=qj(),u=UI(e);let f=u;const h=m.useRef(new Map).current,g=m.useRef(f),w=m.useRef(new Map).current,k=m.useRef(!0);if(gy(()=>{k.current=!1,BI(u,w),g.current=f}),VI(()=>{k.current=!0,w.clear(),h.clear()}),k.current)return m.createElement(m.Fragment,null,f.map(x=>m.createElement(zh,{key:ui(x),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:i,mode:o},x)));f=[...f];const v=g.current.map(ui),j=u.map(ui),_=v.length;for(let x=0;x<_;x++){const b=v[x];j.indexOf(b)===-1&&!h.has(b)&&h.set(b,void 0)}return o==="wait"&&h.size&&(f=[]),h.forEach((x,b)=>{if(j.indexOf(b)!==-1)return;const E=w.get(b);if(!E)return;const R=v.indexOf(b);let D=x;if(!D){const T=()=>{h.delete(b);const F=Array.from(w.keys()).filter(Q=>!j.includes(Q));if(F.forEach(Q=>w.delete(Q)),g.current=u.filter(Q=>{const K=ui(Q);return K===b||F.includes(K)}),!h.size){if(c.current===!1)return;a(),r&&r()}};D=m.createElement(zh,{key:ui(E),isPresent:!1,onExitComplete:T,custom:t,presenceAffectsLayout:i,mode:o},E),h.set(b,D)}f.splice(R,0,D)}),f=f.map(x=>{const b=x.key;return h.has(b)?x:m.createElement(zh,{key:ui(x),isPresent:!0,presenceAffectsLayout:i,mode:o},x)}),m.createElement(m.Fragment,null,h.size?f:f.map(x=>m.cloneElement(x)))},zI="modulepreload",WI=function(e){return"/"+e},Nw={},Xo=function(t,n,r){if(!n||n.length===0)return t();const s=document.getElementsByTagName("link");return Promise.all(n.map(i=>{if(i=WI(i),i in Nw)return;Nw[i]=!0;const o=i.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!r)for(let f=s.length-1;f>=0;f--){const h=s[f];if(h.href===i&&(!o||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${a}`))return;const u=document.createElement("link");if(u.rel=o?"stylesheet":zI,o||(u.as="script",u.crossOrigin=""),u.href=i,document.head.appendChild(u),o)return new Promise((f,h)=>{u.addEventListener("load",f),u.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>t()).catch(i=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i})},KI=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Xo(()=>Promise.resolve().then(()=>Ql),void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class Fy extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class HI extends Fy{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class qI extends Fy{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class YI extends Fy{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var GI=globalThis&&globalThis.__awaiter||function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(f){try{u(r.next(f))}catch(h){o(h)}}function c(f){try{u(r.throw(f))}catch(h){o(h)}}function u(f){f.done?i(f.value):s(f.value).then(a,c)}u((r=r.apply(e,t||[])).next())})};class XI{constructor(t,{headers:n={},customFetch:r}={}){this.url=t,this.headers=n,this.fetch=KI(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return GI(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=n;let a={},c;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=o):typeof o=="string"?(a["Content-Type"]="text/plain",c=o):typeof FormData<"u"&&o instanceof FormData?c=o:(a["Content-Type"]="application/json",c=JSON.stringify(o)));const u=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:c}).catch(w=>{throw new HI(w)}),f=u.headers.get("x-relay-error");if(f&&f==="true")throw new qI(u);if(!u.ok)throw new YI(u);let h=((r=u.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),g;return h==="application/json"?g=yield u.json():h==="application/octet-stream"?g=yield u.blob():h==="multipart/form-data"?g=yield u.formData():g=yield u.text(),{data:g,error:null}}catch(s){return{data:null,error:s}}})}}var QI=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Qo=QI();const JI=Qo.fetch,$y=Qo.fetch.bind(Qo),Yj=Qo.Headers,ZI=Qo.Request,eM=Qo.Response,Ql=Object.freeze(Object.defineProperty({__proto__:null,Headers:Yj,Request:ZI,Response:eM,default:$y,fetch:JI},Symbol.toStringTag,{value:"Module"}));class tM{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=$y:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,c;let u=null,f=null,h=null,g=i.status,w=i.statusText;if(i.ok){if(this.method!=="HEAD"){const _=await i.text();_===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?f=_:f=JSON.parse(_))}const v=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),j=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");v&&j&&j.length>1&&(h=parseInt(j[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(f)&&(f.length>1?(u={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,h=null,g=406,w="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{const v=await i.text();try{u=JSON.parse(v),Array.isArray(u)&&i.status===404&&(f=[],u=null,g=200,w="OK")}catch{i.status===404&&v===""?(g=204,w="No Content"):u={message:v}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,g=200,w="OK"),u&&this.shouldThrowOnError)throw u}return{error:u,data:f,count:h,status:g,statusText:w}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,a,c;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,n)}}class nM extends tM{select(t){let n=!1;const r=(t??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var a;const c=[t?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${c};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}class so extends nM{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=n.map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${i}fts${o}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}}class rM{constructor(t,{headers:n={},schema:r,fetch:s}){this.url=t,this.headers=n,this.schema=r,this.fetch=s}select(t,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new so({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:r=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const o=t.reduce((a,c)=>a.concat(Object.keys(c)),[]);if(o.length>0){const a=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",a.join(","))}}return new so({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){const o="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const c=t.reduce((u,f)=>u.concat(Object.keys(f)),[]);if(c.length>0){const u=[...new Set(c)].map(f=>`"${f}"`);this.url.searchParams.set("columns",u.join(","))}}return new so({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const r="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),this.headers.Prefer=s.join(","),new so({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const n="DELETE",r=[];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new so({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}const sM="1.9.0",iM={"X-Client-Info":`postgrest-js/${sM}`};class Vy{constructor(t,{headers:n={},schema:r,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},iM),n),this.schemaName=r,this.fetch=s}from(t){const n=new URL(`${this.url}/${t}`);return new rM(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Vy(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,count:s}={}){let i;const o=new URL(`${this.url}/rpc/${t}`);let a;r?(i="HEAD",Object.entries(n).forEach(([u,f])=>{o.searchParams.append(u,`${f}`)})):(i="POST",a=n);const c=Object.assign({},this.headers);return s&&(c.Prefer=`count=${s}`),new so({method:i,url:o,headers:c,schema:this.schemaName,body:a,fetch:this.fetch,allowEmpty:!1})}}const oM="2.9.1",aM={"X-Client-Info":`realtime-js/${oM}`},lM="1.0.0",Gj=1e4,cM=1e3;var To;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(To||(To={}));var pn;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(pn||(pn={}));var Hn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Hn||(Hn={}));var Am;(function(e){e.websocket="websocket"})(Am||(Am={}));var hi;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(hi||(hi={}));class Xj{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}class uM{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const s=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(t.slice(o,o+s));o=o+s;const c=r.decode(t.slice(o,o+i));o=o+i;const u=JSON.parse(r.decode(t.slice(o,t.byteLength)));return{ref:null,topic:a,event:c,payload:u}}}class Wh{constructor(t,n,r={},s=Gj){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Pw;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Pw||(Pw={}));class cl{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=cl.syncState(this.state,s,i,o),this.pendingDiffs.forEach(c=>{this.state=cl.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=cl.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const i=this.cloneDeep(t),o=this.transformState(n),a={},c={};return this.map(i,(u,f)=>{o[u]||(c[u]=f)}),this.map(o,(u,f)=>{const h=i[u];if(h){const g=f.map(j=>j.presence_ref),w=h.map(j=>j.presence_ref),k=f.filter(j=>w.indexOf(j.presence_ref)<0),v=h.filter(j=>g.indexOf(j.presence_ref)<0);k.length>0&&(a[u]=k),v.length>0&&(c[u]=v)}else a[u]=f}),this.syncDiff(i,{joins:a,leaves:c},r,s)}static syncDiff(t,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(a,c)=>{var u;const f=(u=t[a])!==null&&u!==void 0?u:[];if(t[a]=this.cloneDeep(c),f.length>0){const h=t[a].map(w=>w.presence_ref),g=f.filter(w=>h.indexOf(w.presence_ref)<0);t[a].unshift(...g)}r(a,f,c)}),this.map(o,(a,c)=>{let u=t[a];if(!u)return;const f=c.map(h=>h.presence_ref);u=u.filter(h=>f.indexOf(h.presence_ref)<0),t[a]=u,s(a,u,c),u.length===0&&delete t[a]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Ze;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Ze||(Ze={}));const Tw=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((i,o)=>(i[o]=dM(o,e,t,s),i),{})},dM=(e,t,n,r)=>{const s=t.find(a=>a.name===e),i=s==null?void 0:s.type,o=n[e];return i&&!r.includes(i)?Qj(i,o):Om(o)},Qj=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return mM(t,n)}switch(e){case Ze.bool:return fM(t);case Ze.float4:case Ze.float8:case Ze.int2:case Ze.int4:case Ze.int8:case Ze.numeric:case Ze.oid:return hM(t);case Ze.json:case Ze.jsonb:return pM(t);case Ze.timestamp:return gM(t);case Ze.abstime:case Ze.date:case Ze.daterange:case Ze.int4range:case Ze.int8range:case Ze.money:case Ze.reltime:case Ze.text:case Ze.time:case Ze.timestamptz:case Ze.timetz:case Ze.tsrange:case Ze.tstzrange:return Om(t);default:return Om(t)}},Om=e=>e,fM=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},hM=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},pM=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},mM=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let i;const o=e.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>Qj(t,a))}return e},gM=e=>typeof e=="string"?e.replace(" ","T"):e;var Rw;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Rw||(Rw={}));var Aw;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes"})(Aw||(Aw={}));var Ow;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Ow||(Ow={}));class By{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=pn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""}},n.config),this.timeout=this.socket.timeout,this.joinPush=new Wh(this,Hn.join,this.params,this.timeout),this.rejoinTimer=new Xj(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=pn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=pn.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=pn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=pn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Hn.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new cl(this),this.broadcastEndpointURL=this._broadcastEndpointURL()}subscribe(t,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o}}=this.params;this._onError(u=>t&&t("CHANNEL_ERROR",u)),this._onClose(()=>t&&t("CLOSED"));const a={},c={broadcast:i,presence:o,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(u=>u.filter))!==null&&s!==void 0?s:[]};this.socket.accessToken&&(a.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:c},a)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",({postgres_changes:u})=>{var f;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),u===void 0){t&&t("SUBSCRIBED");return}else{const h=this.bindings.postgres_changes,g=(f=h==null?void 0:h.length)!==null&&f!==void 0?f:0,w=[];for(let k=0;k<g;k++){const v=h[k],{filter:{event:j,schema:_,table:x,filter:b}}=v,E=u&&u[k];if(E&&E.event===j&&E.schema===_&&E.table===x&&E.filter===b)w.push(Object.assign(Object.assign({},v),{id:E.id}));else{this.unsubscribe(),t&&t("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,t&&t("SUBSCRIBED");return}}).receive("error",u=>{t&&t("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{t&&t("TIMED_OUT")})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this._on(t,n,r)}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,a={method:"POST",headers:{apikey:(r=this.socket.accessToken)!==null&&r!==void 0?r:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o}]})};try{return(await this._fetchWithTimeout(this.broadcastEndpointURL,a,(s=n.timeout)!==null&&s!==void 0?s:this.timeout)).ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,c;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=pn.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Hn.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const s=new Wh(this,Hn.leave,{},t);s.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}_broadcastEndpointURL(){let t=this.socket.endPoint;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"}async _fetchWithTimeout(t,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Wh(this,t,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,i;const o=t.toLocaleLowerCase(),{close:a,error:c,leave:u,join:f}=Hn;if(r&&[a,c,u,f].indexOf(o)>=0&&r!==this._joinRef())return;let g=this._onMessage(o,n,r);if(n&&!g)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(w=>{var k,v,j;return((k=w.filter)===null||k===void 0?void 0:k.event)==="*"||((j=(v=w.filter)===null||v===void 0?void 0:v.event)===null||j===void 0?void 0:j.toLocaleLowerCase())===o}).map(w=>w.callback(g,r)):(i=this.bindings[o])===null||i===void 0||i.filter(w=>{var k,v,j,_,x,b;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in w){const E=w.id,R=(k=w.filter)===null||k===void 0?void 0:k.event;return E&&((v=n.ids)===null||v===void 0?void 0:v.includes(E))&&(R==="*"||(R==null?void 0:R.toLocaleLowerCase())===((j=n.data)===null||j===void 0?void 0:j.type.toLocaleLowerCase()))}else{const E=(x=(_=w==null?void 0:w.filter)===null||_===void 0?void 0:_.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return E==="*"||E===((b=n==null?void 0:n.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return w.type.toLocaleLowerCase()===o}).map(w=>{if(typeof g=="object"&&"ids"in g){const k=g.data,{schema:v,table:j,commit_timestamp:_,type:x,errors:b}=k;g=Object.assign(Object.assign({},{schema:v,table:j,commit_timestamp:_,eventType:x,new:{},old:{},errors:b}),this._getPayloadRecords(k))}w.callback(g,r)})}_isClosed(){return this.state===pn.closed}_isJoined(){return this.state===pn.joined}_isJoining(){return this.state===pn.joining}_isLeaving(){return this.state===pn.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&By.isEqual(s.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Hn.close,{},t)}_onError(t){this._on(Hn.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=pn.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=Tw(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=Tw(t.columns,t.old_record)),n}}const yM=()=>{},vM=typeof WebSocket<"u";class xM{constructor(t,n){var r;this.accessToken=null,this.channels=[],this.endPoint="",this.headers=aM,this.params={},this.timeout=Gj,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=yM,this.conn=null,this.sendBuffer=[],this.serializer=new uM,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>Xo(()=>Promise.resolve().then(()=>Ql),void 0).then(({default:c})=>c(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${t}/${Am.websocket}`,n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;s&&(this.accessToken=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(i,o)=>o(JSON.stringify(i)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Xj(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this._endPointURL(),void 0,{headers:this.headers});return}if(vM){this.conn=new WebSocket(this._endPointURL()),this.setupConnection();return}this.conn=new wM(this._endPointURL(),void 0,{close:()=>{this.conn=null}}),Xo(()=>import("./browser-d1f304f7.js").then(t=>t.b),[]).then(({default:t})=>{this.conn=new t(this._endPointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case To.connecting:return hi.Connecting;case To.open:return hi.Open;case To.closing:return hi.Closing;default:return hi.Closed}}isConnected(){return this.connectionState()===hi.Open}channel(t,n={config:{}}){const r=new By(`realtime:${t}`,n,this);return this.channels.push(r),r}push(t){const{topic:n,event:r,payload:s,ref:i}=t,o=()=>{this.encode(t,a=>{var c;(c=this.conn)===null||c===void 0||c.send(a)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}setAuth(t){this.accessToken=t,this.channels.forEach(n=>{t&&n.updateJoinPayload({access_token:t}),n.joinedOnce&&n._isJoined()&&n._push(Hn.access_token,{access_token:t})})}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:lM}))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:s,payload:i,ref:o}=n;(o&&o===this.pendingHeartbeatRef||s===(i==null?void 0:i.type))&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${s} ${o&&"("+o+")"||""}`,i),this.channels.filter(a=>a._isMember(r)).forEach(a=>a._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}_onConnOpen(){this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs),this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Hn.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(cM,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}}class wM{constructor(t,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=To.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=r.close}}class Uy extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Yt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class bM extends Uy{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Dw extends Uy{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var SM=globalThis&&globalThis.__awaiter||function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(f){try{u(r.next(f))}catch(h){o(h)}}function c(f){try{u(r.throw(f))}catch(h){o(h)}}function u(f){f.done?i(f.value):s(f.value).then(a,c)}u((r=r.apply(e,t||[])).next())})};const Jj=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Xo(()=>Promise.resolve().then(()=>Ql),void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},_M=()=>SM(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Xo(()=>Promise.resolve().then(()=>Ql),void 0)).Response:Response});var oa=globalThis&&globalThis.__awaiter||function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(f){try{u(r.next(f))}catch(h){o(h)}}function c(f){try{u(r.throw(f))}catch(h){o(h)}}function u(f){f.done?i(f.value):s(f.value).then(a,c)}u((r=r.apply(e,t||[])).next())})};const Kh=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),jM=(e,t)=>oa(void 0,void 0,void 0,function*(){const n=yield _M();e instanceof n?e.json().then(r=>{t(new bM(Kh(r),e.status||500))}).catch(r=>{t(new Dw(Kh(r),r))}):t(new Dw(Kh(e),e))}),kM=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};function sf(e,t,n,r,s,i){return oa(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(n,kM(t,r,s,i)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>jM(c,a))})})}function Dm(e,t,n,r){return oa(this,void 0,void 0,function*(){return sf(e,"GET",t,n,r)})}function ls(e,t,n,r,s){return oa(this,void 0,void 0,function*(){return sf(e,"POST",t,r,s,n)})}function CM(e,t,n,r,s){return oa(this,void 0,void 0,function*(){return sf(e,"PUT",t,r,s,n)})}function Zj(e,t,n,r,s){return oa(this,void 0,void 0,function*(){return sf(e,"DELETE",t,r,s,n)})}var Pn=globalThis&&globalThis.__awaiter||function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(f){try{u(r.next(f))}catch(h){o(h)}}function c(f){try{u(r.throw(f))}catch(h){o(h)}}function u(f){f.done?i(f.value):s(f.value).then(a,c)}u((r=r.apply(e,t||[])).next())})};const EM={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Lw={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class NM{constructor(t,n={},r,s){this.url=t,this.headers=n,this.bucketId=r,this.fetch=Jj(s)}uploadOrUpdate(t,n,r,s){return Pn(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Lw),s),a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl)):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType);const c=this._removeEmptyFolders(n),u=this._getFinalPath(c),f=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:t,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),h=yield f.json();return f.ok?{data:{path:c,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(i){if(Yt(i))return{data:null,error:i};throw i}})}upload(t,n,r){return Pn(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,s){return Pn(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let c;const u=Object.assign({upsert:Lw.upsert},s),f=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,f["cache-control"]=`max-age=${u.cacheControl}`,f["content-type"]=u.contentType);const h=yield this.fetch(a.toString(),{method:"PUT",body:c,headers:f}),g=yield h.json();return h.ok?{data:{path:i,fullPath:g.Key},error:null}:{data:null,error:g}}catch(c){if(Yt(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t){return Pn(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const r=yield ls(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:this.headers}),s=new URL(this.url+r.url),i=s.searchParams.get("token");if(!i)throw new Uy("No token returned by API");return{data:{signedUrl:s.toString(),path:t,token:i},error:null}}catch(n){if(Yt(n))return{data:null,error:n};throw n}})}update(t,n,r){return Pn(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n){return Pn(this,void 0,void 0,function*(){try{return{data:yield ls(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n},{headers:this.headers}),error:null}}catch(r){if(Yt(r))return{data:null,error:r};throw r}})}copy(t,n){return Pn(this,void 0,void 0,function*(){try{return{data:{path:(yield ls(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n},{headers:this.headers})).Key},error:null}}catch(r){if(Yt(r))return{data:null,error:r};throw r}})}createSignedUrl(t,n,r){return Pn(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield ls(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(Yt(s))return{data:null,error:s};throw s}})}createSignedUrls(t,n,r){return Pn(this,void 0,void 0,function*(){try{const s=yield ls(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(Yt(s))return{data:null,error:s};throw s}})}download(t,n){return Pn(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(t);return{data:yield(yield Dm(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(Yt(a))return{data:null,error:a};throw a}})}getPublicUrl(t,n){const r=this._getFinalPath(t),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${u}`)}}}remove(t){return Pn(this,void 0,void 0,function*(){try{return{data:yield Zj(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(Yt(n))return{data:null,error:n};throw n}})}list(t,n,r){return Pn(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},EM),n),{prefix:t||""});return{data:yield ls(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(Yt(s))return{data:null,error:s};throw s}})}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const PM="2.5.5",TM={"X-Client-Info":`storage-js/${PM}`};var Gi=globalThis&&globalThis.__awaiter||function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(f){try{u(r.next(f))}catch(h){o(h)}}function c(f){try{u(r.throw(f))}catch(h){o(h)}}function u(f){f.done?i(f.value):s(f.value).then(a,c)}u((r=r.apply(e,t||[])).next())})};class RM{constructor(t,n={},r){this.url=t,this.headers=Object.assign(Object.assign({},TM),n),this.fetch=Jj(r)}listBuckets(){return Gi(this,void 0,void 0,function*(){try{return{data:yield Dm(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Yt(t))return{data:null,error:t};throw t}})}getBucket(t){return Gi(this,void 0,void 0,function*(){try{return{data:yield Dm(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(Yt(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return Gi(this,void 0,void 0,function*(){try{return{data:yield ls(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Yt(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return Gi(this,void 0,void 0,function*(){try{return{data:yield CM(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Yt(r))return{data:null,error:r};throw r}})}emptyBucket(t){return Gi(this,void 0,void 0,function*(){try{return{data:yield ls(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(Yt(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Gi(this,void 0,void 0,function*(){try{return{data:yield Zj(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(Yt(n))return{data:null,error:n};throw n}})}}class AM extends RM{constructor(t,n={},r){super(t,n,r)}from(t){return new NM(this.url,this.headers,t,this.fetch)}}const OM="2.39.1";let qa="";typeof Deno<"u"?qa="deno":typeof document<"u"?qa="web":typeof navigator<"u"&&navigator.product==="ReactNative"?qa="react-native":qa="node";const DM={"X-Client-Info":`supabase-js-${qa}/${OM}`};var LM=globalThis&&globalThis.__awaiter||function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(f){try{u(r.next(f))}catch(h){o(h)}}function c(f){try{u(r.throw(f))}catch(h){o(h)}}function u(f){f.done?i(f.value):s(f.value).then(a,c)}u((r=r.apply(e,t||[])).next())})};const IM=e=>{let t;return e?t=e:typeof fetch>"u"?t=$y:t=fetch,(...n)=>t(...n)},MM=()=>typeof Headers>"u"?Yj:Headers,FM=(e,t,n)=>{const r=IM(n),s=MM();return(i,o)=>LM(void 0,void 0,void 0,function*(){var a;const c=(a=yield t())!==null&&a!==void 0?a:e;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),r(i,Object.assign(Object.assign({},o),{headers:u}))})};function $M(e){return e.replace(/\/$/,"")}function VM(e,t){const{db:n,auth:r,realtime:s,global:i}=e,{db:o,auth:a,realtime:c,global:u}=t;return{db:Object.assign(Object.assign({},o),n),auth:Object.assign(Object.assign({},a),r),realtime:Object.assign(Object.assign({},c),s),global:Object.assign(Object.assign({},u),i)}}function BM(e){return Math.round(Date.now()/1e3)+e}function UM(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Un=()=>typeof document<"u",si={tested:!1,writable:!1},ul=()=>{if(!Un())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(si.tested)return si.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),si.tested=!0,si.writable=!0}catch{si.tested=!0,si.writable=!1}return si.writable};function Hh(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const ek=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Xo(()=>Promise.resolve().then(()=>Ql),void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},zM=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",ii=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Xc=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},qh=async(e,t)=>{await e.removeItem(t)};function WM(e){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let n="",r,s,i,o,a,c,u,f=0;for(e=e.replace("-","+").replace("_","/");f<e.length;)o=t.indexOf(e.charAt(f++)),a=t.indexOf(e.charAt(f++)),c=t.indexOf(e.charAt(f++)),u=t.indexOf(e.charAt(f++)),r=o<<2|a>>4,s=(a&15)<<4|c>>2,i=(c&3)<<6|u,n=n+String.fromCharCode(r),c!=64&&s!=0&&(n=n+String.fromCharCode(s)),u!=64&&i!=0&&(n=n+String.fromCharCode(i));return n}class of{constructor(){this.promise=new of.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}of.promiseConstructor=Promise;function Iw(e){const t=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,n=e.split(".");if(n.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!t.test(n[1]))throw new Error("JWT is not valid: payload is not in base64url format");const r=n[1];return JSON.parse(WM(r))}async function KM(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function HM(e,t){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){r(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function qM(e){return("0"+e.toString(16)).substr(-2)}function Xi(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,qM).join("")}async function YM(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}function GM(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Qi(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await YM(e);return GM(n)}class zy extends Error{constructor(t,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n}}function Ve(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class XM extends zy{constructor(t,n){super(t,n),this.name="AuthApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}function QM(e){return Ve(e)&&e.name==="AuthApiError"}class tk extends zy{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Mi extends zy{constructor(t,n,r){super(t),this.name=n,this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Ji extends Mi{constructor(){super("Auth session missing!","AuthSessionMissingError",400)}}class Yh extends Mi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500)}}class Qc extends Mi{constructor(t){super(t,"AuthInvalidCredentialsError",400)}}class Jc extends Mi{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Mw extends Mi{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Lm extends Mi{constructor(t,n){super(t,"AuthRetryableFetchError",n)}}function Gh(e){return Ve(e)&&e.name==="AuthRetryableFetchError"}class JM extends Mi{constructor(t,n,r){super(t,"AuthWeakPasswordError",n),this.reasons=r}}var ZM=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const io=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),e4=[502,503,504];async function Fw(e){if(!zM(e))throw new Lm(io(e),0);if(e4.includes(e.status))throw new Lm(io(e),e.status);let t;try{t=await e.json()}catch(n){throw new tk(io(n),n)}throw typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)?new JM(io(t),e.status,t.weak_password.reasons):new XM(io(t),e.status||500)}const t4=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function We(e,t,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await n4(e,t,n+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function n4(e,t,n,r,s,i){const o=t4(t,r,s,i);let a;try{a=await e(n,o)}catch(c){throw console.error(c),new Lm(io(c),0)}if(a.ok||await Fw(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(c){await Fw(c)}}function di(e){var t;let n=null;o4(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=BM(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function $w(e){const t=di(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function ds(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function r4(e){return{data:e,error:null}}function s4(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=e,o=ZM(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},c=Object.assign({},o);return{data:{properties:a,user:c},error:null}}function i4(e){return e}function o4(e){return e.access_token&&e.refresh_token&&e.expires_in}var a4=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};class l4{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=ek(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n="global"){try{return await We(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Ve(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await We(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:ds})}catch(r){if(Ve(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=a4(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await We(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:s4,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Ve(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await We(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:ds})}catch(n){if(Ve(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,i,o,a,c;try{const u={nextPage:null,lastPage:0,total:0},f=await We(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:i4});if(f.error)throw f.error;const h=await f.json(),g=(o=f.headers.get("x-total-count"))!==null&&o!==void 0?o:0,w=(c=(a=f.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return w.length>0&&(w.forEach(k=>{const v=parseInt(k.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(k.split(";")[1].split("=")[1]);u[`${j}Page`]=v}),u.total=parseInt(g)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(Ve(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){try{return await We(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:ds})}catch(n){if(Ve(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){try{return await We(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:ds})}catch(r){if(Ve(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){try{return await We(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:ds})}catch(r){if(Ve(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){try{const{data:n,error:r}=await We(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(Ve(n))return{data:null,error:n};throw n}}async _deleteFactor(t){try{return{data:await We(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(Ve(n))return{data:null,error:n};throw n}}}const nk="2.62.0",c4="http://localhost:9999",u4="supabase.auth.token",d4={"X-Client-Info":`gotrue-js/${nk}`},Vw=10,f4={getItem:e=>ul()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{ul()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{ul()&&globalThis.localStorage.removeItem(e)}};function Bw(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function h4(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Zi={debug:!!(globalThis&&ul()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class rk extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class p4 extends rk{}async function m4(e,t,n){Zi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Zi.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){Zi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{Zi.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Zi.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new p4(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Zi.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}})}h4();const g4={url:c4,storageKey:u4,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:d4,flowType:"implicit",debug:!1},Fa=30*1e3,Uw=3;async function zw(e,t,n){return await n()}class Il{constructor(t){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Il.nextInstanceID,Il.nextInstanceID+=1,this.instanceID>0&&Un()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},g4),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new l4({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=ek(s.fetch),this.lock=s.lock||zw,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,s.lock?this.lock=s.lock:Un()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=m4:this.lock=zw,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:ul()?this.storage=f4:(this.memoryStorage={},this.storage=Bw(this.memoryStorage)):(this.memoryStorage={},this.storage=Bw(this.memoryStorage)),Un()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${nk}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){try{const t=Un()?await this._isPKCEFlow():!1;if(this._debug("#_initialize()","begin","is PKCE flow",t),t||this.detectSessionInUrl&&this._isImplicitGrantFlow()){const{data:n,error:r}=await this._getSessionFromURL(t);if(r)return this._debug("#_initialize()","error detecting session from URL",r),(r==null?void 0:r.message)==="Identity is already linked"||(r==null?void 0:r.message)==="Identity is already linked to another user"?{error:r}:(await this._removeSession(),{error:r});const{session:s,redirectType:i}=n;return this._debug("#_initialize()","detected session in URL",s,"redirect type",i),await this._saveSession(s),setTimeout(async()=>{i==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return Ve(t)?{error:t}:{error:new tk("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signUp(t){var n,r,s;try{await this._removeSession();let i;if("email"in t){const{email:f,password:h,options:g}=t;let w=null,k=null;if(this.flowType==="pkce"){const v=Xi();await ii(this.storage,`${this.storageKey}-code-verifier`,v),w=await Qi(v),k=v===w?"plain":"s256"}i=await We(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:g==null?void 0:g.emailRedirectTo,body:{email:f,password:h,data:(n=g==null?void 0:g.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:w,code_challenge_method:k},xform:di})}else if("phone"in t){const{phone:f,password:h,options:g}=t;i=await We(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:f,password:h,data:(r=g==null?void 0:g.data)!==null&&r!==void 0?r:{},channel:(s=g==null?void 0:g.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:di})}else throw new Qc("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(Ve(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{await this._removeSession();let n;if("email"in t){const{email:i,password:o,options:a}=t;n=await We(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:$w})}else if("phone"in t){const{phone:i,password:o,options:a}=t;n=await We(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:$w})}else throw new Qc("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Yh}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(Ve(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,s,i;return await this._removeSession(),await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const n=await Xc(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/"),{data:i,error:o}=await We(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:di});return await qh(this.storage,`${this.storageKey}-code-verifier`),o?{data:{user:null,session:null,redirectType:null},error:o}:!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Yh}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}async signInWithIdToken(t){await this._removeSession();try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=t,a=await We(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:di}),{data:c,error:u}=a;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Yh}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(n){if(Ve(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,s,i,o;try{if(await this._removeSession(),"email"in t){const{email:a,options:c}=t;let u=null,f=null;if(this.flowType==="pkce"){const g=Xi();await ii(this.storage,`${this.storageKey}-code-verifier`,g),u=await Qi(g),f=g===u?"plain":"s256"}const{error:h}=await We(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:f},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:a,options:c}=t,{data:u,error:f}=await We(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:f}}throw new Qc("You must provide either an email or phone number.")}catch(a){if(Ve(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var n,r;try{t.type!=="email_change"&&t.type!=="phone_change"&&await this._removeSession();let s,i;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,i=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await We(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:di});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(Ve(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var n,r,s;try{await this._removeSession();let i=null,o=null;if(this.flowType==="pkce"){const a=Xi();await ii(this.storage,`${this.storageKey}-code-verifier`,a),i=await Qi(a),o=a===i?"plain":"s256"}return await We(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:r4})}catch(i){if(Ve(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new Ji;const{error:s}=await We(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(Ve(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{t.type!="email_change"&&t.type!="phone_change"&&await this._removeSession();const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:i}=t,{error:o}=await We(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:r,type:s,options:i}=t,{data:o,error:a}=await We(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new Qc("You must provide either an email or phone number and a type")}catch(n){if(Ve(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,this._acquireLock(-1,async()=>this._useSession(async t=>t))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Xc(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r)return{data:{session:t},error:null};const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await We(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:ds}):await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await We(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0,xform:ds})})}catch(n){if(Ve(n))return{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new Ji;const o=s.session;let a=null,c=null;if(this.flowType==="pkce"&&t.email!=null){const h=Xi();await ii(this.storage,`${this.storageKey}-code-verifier`,h),a=await Qi(h),c=h===a?"plain":"s256"}const{data:u,error:f}=await We(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:c}),jwt:o.access_token,xform:ds});if(f)throw f;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(Ve(r))return{data:{user:null},error:r};throw r}}_decodeJWT(t){return Iw(t)}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Ji;const n=Date.now()/1e3;let r=n,s=!0,i=null;const o=Iw(t.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{session:a,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(Ve(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:a}=n;if(a)throw a;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new Ji;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Ve(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t){try{if(!Un())throw new Jc("No browser detected.");if(this.flowType==="implicit"&&!this._isImplicitGrantFlow())throw new Jc("Not a valid implicit grant flow url.");if(this.flowType=="pkce"&&!t)throw new Mw("Not a valid PKCE flow url.");const n=Hh(window.location.href);if(t){if(!n.code)throw new Mw("No code detected.");const{data:x,error:b}=await this._exchangeCodeForSession(n.code);if(b)throw b;const E=new URL(window.location.href);return E.searchParams.delete("code"),window.history.replaceState(window.history.state,"",E.toString()),{data:{session:x.session,redirectType:null},error:null}}if(n.error||n.error_description||n.error_code)throw new Jc(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:c,token_type:u}=n;if(!i||!a||!o||!u)throw new Jc("No session defined in URL");const f=Math.round(Date.now()/1e3),h=parseInt(a);let g=f+h;c&&(g=parseInt(c));const w=g-f;w*1e3<=Fa&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${w}s, should have been closer to ${h}s`);const k=g-h;f-k>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",k,g,f):f-k<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clok for skew",k,g,f);const{data:v,error:j}=await this._getUser(i);if(j)throw j;const _={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:g,refresh_token:o,token_type:u,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:_,redirectType:n.type},error:null}}catch(n){if(Ve(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantFlow(){const t=Hh(window.location.href);return!!(Un()&&(t.access_token||t.error_description))}async _isPKCEFlow(){const t=Hh(window.location.href),n=await Xc(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!(QM(a)&&(a.status===404||a.status===401)))return{error:a}}return t!=="others"&&(await this._removeSession(),await qh(this.storage,`${this.storageKey}-code-verifier`),await this._notifyAllSubscribers("SIGNED_OUT",null)),{error:null}})}onAuthStateChange(t){const n=UM(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;if(this.flowType==="pkce"){const i=Xi();await ii(this.storage,`${this.storageKey}-code-verifier`,`${i}/PASSWORD_RECOVERY`),r=await Qi(i),s=i===r?"plain":"s256"}try{return await We(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(Ve(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(Ve(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,a,c,u,f;const{data:h,error:g}=i;if(g)throw g;const w=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await We(this.fetch,"GET",w,{headers:this.headers,jwt:(f=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&f!==void 0?f:void 0})});if(s)throw s;return Un()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(Ve(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await We(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(Ve(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await HM(async s=>(await KM(s*200),this._debug(n,"refreshing attempt",s),await We(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:di})),(s,i,o)=>o&&o.error&&Gh(o.error)&&Date.now()+(s+1)*200-r<Fa)}catch(r){if(this._debug(n,"error",r),Ve(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),Un()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await Xc(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const s=Math.round(Date.now()/1e3),i=((t=r.expires_at)!==null&&t!==void 0?t:1/0)<s+Vw;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Vw}s`),i){if(this.autoRefreshToken&&r.refresh_token){const{error:o}=await this._callRefreshToken(r.refresh_token);o&&(console.error(o),Gh(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new Ji;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new of;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new Ji;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),Ve(i)){const o={session:null,error:i};return Gh(i)||(await this._removeSession(),await this._notifyAllSubscribers("SIGNED_OUT",null)),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,n)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),await ii(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await qh(this.storage,this.storageKey)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Un()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Fa);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/Fa);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Fa}ms, refresh threshold is ${Uw} ticks`),s<=Uw&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof rk)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Un()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const i=Xi();await ii(this.storage,`${this.storageKey}-code-verifier`,i);const o=await Qi(i),a=i===o?"plain":"s256";this._debug("PKCE","code verifier",`${i.substring(0,5)}...`,"code challenge",o,"method",a);const c=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(c.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await We(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Ve(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return{data:null,error:o};const{data:a,error:c}=await We(this.fetch,"POST",`${this.url}/factors`,{body:{friendly_name:t.friendlyName,factor_type:t.factorType,issuer:t.issuer},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(!((s=a==null?void 0:a.totp)===null||s===void 0)&&s.qr_code&&(a.totp.qr_code=`data:image/svg+xml;utf-8,${a.totp.qr_code}`),{data:a,error:null})})}catch(n){if(Ve(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:a}=await We(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(n){if(Ve(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await We(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Ve(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],s=r.filter(i=>i.factor_type==="totp"&&i.status==="verified");return{data:{all:r,totp:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const o=this._decodeJWT(s.access_token);let a=null;o.aal&&(a=o.aal);let c=a;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const f=o.amr||[];return{data:{currentLevel:a,nextLevel:c,currentAuthenticationMethods:f},error:null}}))}}Il.nextInstanceID=0;class y4 extends Il{constructor(t){super(t)}}var v4=globalThis&&globalThis.__awaiter||function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(f){try{u(r.next(f))}catch(h){o(h)}}function c(f){try{u(r.throw(f))}catch(h){o(h)}}function u(f){f.done?i(f.value):s(f.value).then(a,c)}u((r=r.apply(e,t||[])).next())})};const x4={headers:DM},w4={schema:"public"},b4={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},S4={};class _4{constructor(t,n,r){var s,i,o,a,c,u,f,h;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const g=$M(t);this.realtimeUrl=`${g}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${g}/auth/v1`,this.storageUrl=`${g}/storage/v1`,this.functionsUrl=`${g}/functions/v1`;const w=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,k={db:w4,realtime:S4,auth:Object.assign(Object.assign({},b4),{storageKey:w}),global:x4},v=VM(r??{},k);this.storageKey=(i=(s=v.auth)===null||s===void 0?void 0:s.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=(o=v.global)===null||o===void 0?void 0:o.headers)!==null&&a!==void 0?a:{},this.auth=this._initSupabaseAuthClient((c=v.auth)!==null&&c!==void 0?c:{},this.headers,(u=v.global)===null||u===void 0?void 0:u.fetch),this.fetch=FM(n,this._getAccessToken.bind(this),(f=v.global)===null||f===void 0?void 0:f.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},v.realtime)),this.rest=new Vy(`${g}/rest/v1`,{headers:this.headers,schema:(h=v.db)===null||h===void 0?void 0:h.schema,fetch:this.fetch}),this._listenForAuthEvents()}get functions(){return new XI(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new AM(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return v4(this,void 0,void 0,function*(){const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:i,flowType:o,debug:a},c,u){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new y4({url:this.authUrl,headers:Object.assign(Object.assign({},f),c),storageKey:i,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,flowType:o,debug:a,fetch:u})}_initRealtimeClient(t){return new xM(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.realtime.setAuth(r??null),this.changedAccessToken=r):t==="SIGNED_OUT"&&(this.realtime.setAuth(this.supabaseKey),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const j4=(e,t,n)=>new _4(e,t,n),k4="https://hrymdiipjtwlargtsjdf.supabase.co",C4="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhyeW1kaWlwanR3bGFyZ3RzamRmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDg2MDE3NzUsImV4cCI6MjA2NDE3Nzc3NX0.8EAyi0Yj5B2KLK8CPY6IuoeuZyeHXSida12579eqcAo",Oe=j4(k4,C4),sk=m.createContext();function E4({children:e}){const[t,n]=m.useState(null),[r,s]=m.useState(!0);m.useEffect(()=>{(async()=>{var u;try{const{data:f}=await Oe.auth.getSession();n(((u=f.session)==null?void 0:u.user)||null)}catch(f){console.error("Error checking auth session:",f)}finally{s(!1)}})();const{data:c}=Oe.auth.onAuthStateChange(async(u,f)=>{n((f==null?void 0:f.user)||null),s(!1)});return()=>{c&&c.subscription&&c.subscription.unsubscribe()}},[]);const o={user:t,loading:r,signOut:async()=>{try{await Oe.auth.signOut()}catch(a){console.error("Error signing out:",a)}},isAuthenticated:!!t};return l.jsx(sk.Provider,{value:o,children:e})}function It(){return m.useContext(sk)}var ik={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Zv,function(){var n=function(d,p){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,S){y.__proto__=S}||function(y,S){for(var C in S)Object.prototype.hasOwnProperty.call(S,C)&&(y[C]=S[C])})(d,p)},r=function(){return(r=Object.assign||function(d){for(var p,y=1,S=arguments.length;y<S;y++)for(var C in p=arguments[y])Object.prototype.hasOwnProperty.call(p,C)&&(d[C]=p[C]);return d}).apply(this,arguments)};function s(d,p,y){if(y||arguments.length===2)for(var S,C=0,N=p.length;C<N;C++)!S&&C in p||((S=S||Array.prototype.slice.call(p,0,C))[C]=p[C]);return d.concat(S||Array.prototype.slice.call(p))}var i=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:Zv,o=Object.keys,a=Array.isArray;function c(d,p){return typeof p!="object"||o(p).forEach(function(y){d[y]=p[y]}),d}typeof Promise>"u"||i.Promise||(i.Promise=Promise);var u=Object.getPrototypeOf,f={}.hasOwnProperty;function h(d,p){return f.call(d,p)}function g(d,p){typeof p=="function"&&(p=p(u(d))),(typeof Reflect>"u"?o:Reflect.ownKeys)(p).forEach(function(y){k(d,y,p[y])})}var w=Object.defineProperty;function k(d,p,y,S){w(d,p,c(y&&h(y,"get")&&typeof y.get=="function"?{get:y.get,set:y.set,configurable:!0}:{value:y,configurable:!0,writable:!0},S))}function v(d){return{from:function(p){return d.prototype=Object.create(p.prototype),k(d.prototype,"constructor",d),{extend:g.bind(null,d.prototype)}}}}var j=Object.getOwnPropertyDescriptor,_=[].slice;function x(d,p,y){return _.call(d,p,y)}function b(d,p){return p(d)}function E(d){if(!d)throw new Error("Assertion Failed")}function R(d){i.setImmediate?setImmediate(d):setTimeout(d,0)}function D(d,p){if(typeof p=="string"&&h(d,p))return d[p];if(!p)return d;if(typeof p!="string"){for(var y=[],S=0,C=p.length;S<C;++S){var N=D(d,p[S]);y.push(N)}return y}var P=p.indexOf(".");if(P!==-1){var A=d[p.substr(0,P)];return A==null?void 0:D(A,p.substr(P+1))}}function T(d,p,y){if(d&&p!==void 0&&!("isFrozen"in Object&&Object.isFrozen(d)))if(typeof p!="string"&&"length"in p){E(typeof y!="string"&&"length"in y);for(var S=0,C=p.length;S<C;++S)T(d,p[S],y[S])}else{var N,P,A=p.indexOf(".");A!==-1?(N=p.substr(0,A),(P=p.substr(A+1))===""?y===void 0?a(d)&&!isNaN(parseInt(N))?d.splice(N,1):delete d[N]:d[N]=y:T(A=!(A=d[N])||!h(d,N)?d[N]={}:A,P,y)):y===void 0?a(d)&&!isNaN(parseInt(p))?d.splice(p,1):delete d[p]:d[p]=y}}function F(d){var p,y={};for(p in d)h(d,p)&&(y[p]=d[p]);return y}var Q=[].concat;function K(d){return Q.apply([],d)}var qs="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(K([8,16,32,64].map(function(d){return["Int","Uint","Float"].map(function(p){return p+d+"Array"})}))).filter(function(d){return i[d]}),ie=new Set(qs.map(function(d){return i[d]})),Z=null;function pe(d){return Z=new WeakMap,d=function p(y){if(!y||typeof y!="object")return y;var S=Z.get(y);if(S)return S;if(a(y)){S=[],Z.set(y,S);for(var C=0,N=y.length;C<N;++C)S.push(p(y[C]))}else if(ie.has(y.constructor))S=y;else{var P,A=u(y);for(P in S=A===Object.prototype?{}:Object.create(A),Z.set(y,S),y)h(y,P)&&(S[P]=p(y[P]))}return S}(d),Z=null,d}var Y={}.toString;function te(d){return Y.call(d).slice(8,-1)}var J=typeof Symbol<"u"?Symbol.iterator:"@@iterator",ge=typeof J=="symbol"?function(d){var p;return d!=null&&(p=d[J])&&p.apply(d)}:function(){return null};function G(d,p){return p=d.indexOf(p),0<=p&&d.splice(p,1),0<=p}var ee={};function ae(d){var p,y,S,C;if(arguments.length===1){if(a(d))return d.slice();if(this===ee&&typeof d=="string")return[d];if(C=ge(d)){for(y=[];!(S=C.next()).done;)y.push(S.value);return y}if(d==null)return[d];if(typeof(p=d.length)!="number")return[d];for(y=new Array(p);p--;)y[p]=d[p];return y}for(p=arguments.length,y=new Array(p);p--;)y[p]=arguments[p];return y}var me=typeof Symbol<"u"?function(d){return d[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},pa=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],En=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(pa),Pe={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Ae(d,p){this.name=d,this.message=p}function nt(d,p){return d+". Errors: "+Object.keys(p).map(function(y){return p[y].toString()}).filter(function(y,S,C){return C.indexOf(y)===S}).join(`
`)}function Tt(d,p,y,S){this.failures=p,this.failedKeys=S,this.successCount=y,this.message=nt(d,p)}function Je(d,p){this.name="BulkError",this.failures=Object.keys(p).map(function(y){return p[y]}),this.failuresByPos=p,this.message=nt(d,this.failures)}v(Ae).from(Error).extend({toString:function(){return this.name+": "+this.message}}),v(Tt).from(Ae),v(Je).from(Ae);var Se=En.reduce(function(d,p){return d[p]=p+"Error",d},{}),Ge=Ae,fe=En.reduce(function(d,p){var y=p+"Error";function S(C,N){this.name=y,C?typeof C=="string"?(this.message="".concat(C).concat(N?`
 `+N:""),this.inner=N||null):typeof C=="object"&&(this.message="".concat(C.name," ").concat(C.message),this.inner=C):(this.message=Pe[p]||y,this.inner=null)}return v(S).from(Ge),d[p]=S,d},{});fe.Syntax=SyntaxError,fe.Type=TypeError,fe.Range=RangeError;var ze=pa.reduce(function(d,p){return d[p+"Error"]=fe[p],d},{}),Te=En.reduce(function(d,p){return["Syntax","Type","Range"].indexOf(p)===-1&&(d[p+"Error"]=fe[p]),d},{});function we(){}function Ct(d){return d}function Cn(d,p){return d==null||d===Ct?p:function(y){return p(d(y))}}function dn(d,p){return function(){d.apply(this,arguments),p.apply(this,arguments)}}function Ks(d,p){return d===we?p:function(){var y=d.apply(this,arguments);y!==void 0&&(arguments[0]=y);var S=this.onsuccess,C=this.onerror;this.onsuccess=null,this.onerror=null;var N=p.apply(this,arguments);return S&&(this.onsuccess=this.onsuccess?dn(S,this.onsuccess):S),C&&(this.onerror=this.onerror?dn(C,this.onerror):C),N!==void 0?N:y}}function Hs(d,p){return d===we?p:function(){d.apply(this,arguments);var y=this.onsuccess,S=this.onerror;this.onsuccess=this.onerror=null,p.apply(this,arguments),y&&(this.onsuccess=this.onsuccess?dn(y,this.onsuccess):y),S&&(this.onerror=this.onerror?dn(S,this.onerror):S)}}function bf(d,p){return d===we?p:function(y){var S=d.apply(this,arguments);c(y,S);var C=this.onsuccess,N=this.onerror;return this.onsuccess=null,this.onerror=null,y=p.apply(this,arguments),C&&(this.onsuccess=this.onsuccess?dn(C,this.onsuccess):C),N&&(this.onerror=this.onerror?dn(N,this.onerror):N),S===void 0?y===void 0?void 0:y:c(S,y)}}function $i(d,p){return d===we?p:function(){return p.apply(this,arguments)!==!1&&d.apply(this,arguments)}}function Sf(d,p){return d===we?p:function(){var y=d.apply(this,arguments);if(y&&typeof y.then=="function"){for(var S=this,C=arguments.length,N=new Array(C);C--;)N[C]=arguments[C];return y.then(function(){return p.apply(S,N)})}return p.apply(this,arguments)}}Te.ModifyError=Tt,Te.DexieError=Ae,Te.BulkError=Je;var ir=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function wv(d){ir=d}var ha={},bv=100,qs=typeof Promise>"u"?[]:function(){var d=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[d,u(d),d];var p=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[p,u(p),d]}(),pa=qs[0],En=qs[1],qs=qs[2],En=En&&En.then,Ys=pa&&pa.constructor,_f=!!qs,ma=function(d,p){ga.push([d,p]),nc&&(queueMicrotask(bN),nc=!1)},jf=!0,nc=!0,Gs=[],rc=[],kf=Ct,Hr={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:we,pgp:!1,env:{},finalize:we},be=Hr,ga=[],Xs=0,sc=[];function he(d){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var p=this._PSD=be;if(typeof d!="function"){if(d!==ha)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&Ef(this,this._value))}this._state=null,this._value=null,++p.ref,function y(S,C){try{C(function(N){if(S._state===null){if(N===S)throw new TypeError("A promise cannot be resolved with itself.");var P=S._lib&&Vi();N&&typeof N.then=="function"?y(S,function(A,L){N instanceof he?N._then(A,L):N.then(A,L)}):(S._state=!0,S._value=N,_v(S)),P&&Bi()}},Ef.bind(null,S))}catch(N){Ef(S,N)}}(this,d)}var Cf={get:function(){var d=be,p=lc;function y(S,C){var N=this,P=!d.global&&(d!==be||p!==lc),A=P&&!Yr(),L=new he(function(M,B){Nf(N,new Sv(kv(S,d,P,A),kv(C,d,P,A),M,B,d))});return this._consoleTask&&(L._consoleTask=this._consoleTask),L}return y.prototype=ha,y},set:function(d){k(this,"then",d&&d.prototype===ha?Cf:{get:function(){return d},set:Cf.set})}};function Sv(d,p,y,S,C){this.onFulfilled=typeof d=="function"?d:null,this.onRejected=typeof p=="function"?p:null,this.resolve=y,this.reject=S,this.psd=C}function Ef(d,p){var y,S;rc.push(p),d._state===null&&(y=d._lib&&Vi(),p=kf(p),d._state=!1,d._value=p,S=d,Gs.some(function(C){return C._value===S._value})||Gs.push(S),_v(d),y&&Bi())}function _v(d){var p=d._listeners;d._listeners=[];for(var y=0,S=p.length;y<S;++y)Nf(d,p[y]);var C=d._PSD;--C.ref||C.finalize(),Xs===0&&(++Xs,ma(function(){--Xs==0&&Pf()},[]))}function Nf(d,p){if(d._state!==null){var y=d._state?p.onFulfilled:p.onRejected;if(y===null)return(d._state?p.resolve:p.reject)(d._value);++p.psd.ref,++Xs,ma(wN,[y,d,p])}else d._listeners.push(p)}function wN(d,p,y){try{var S,C=p._value;!p._state&&rc.length&&(rc=[]),S=ir&&p._consoleTask?p._consoleTask.run(function(){return d(C)}):d(C),p._state||rc.indexOf(C)!==-1||function(N){for(var P=Gs.length;P;)if(Gs[--P]._value===N._value)return Gs.splice(P,1)}(p),y.resolve(S)}catch(N){y.reject(N)}finally{--Xs==0&&Pf(),--y.psd.ref||y.psd.finalize()}}function bN(){Qs(Hr,function(){Vi()&&Bi()})}function Vi(){var d=jf;return nc=jf=!1,d}function Bi(){var d,p,y;do for(;0<ga.length;)for(d=ga,ga=[],y=d.length,p=0;p<y;++p){var S=d[p];S[0].apply(null,S[1])}while(0<ga.length);nc=jf=!0}function Pf(){var d=Gs;Gs=[],d.forEach(function(S){S._PSD.onunhandled.call(null,S._value,S)});for(var p=sc.slice(0),y=p.length;y;)p[--y]()}function ic(d){return new he(ha,!1,d)}function at(d,p){var y=be;return function(){var S=Vi(),C=be;try{return Gr(y,!0),d.apply(this,arguments)}catch(N){p&&p(N)}finally{Gr(C,!1),S&&Bi()}}}g(he.prototype,{then:Cf,_then:function(d,p){Nf(this,new Sv(null,null,d,p,be))},catch:function(d){if(arguments.length===1)return this.then(null,d);var p=d,y=arguments[1];return typeof p=="function"?this.then(null,function(S){return(S instanceof p?y:ic)(S)}):this.then(null,function(S){return(S&&S.name===p?y:ic)(S)})},finally:function(d){return this.then(function(p){return he.resolve(d()).then(function(){return p})},function(p){return he.resolve(d()).then(function(){return ic(p)})})},timeout:function(d,p){var y=this;return d<1/0?new he(function(S,C){var N=setTimeout(function(){return C(new fe.Timeout(p))},d);y.then(S,C).finally(clearTimeout.bind(null,N))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&k(he.prototype,Symbol.toStringTag,"Dexie.Promise"),Hr.env=jv(),g(he,{all:function(){var d=ae.apply(null,arguments).map(cc);return new he(function(p,y){d.length===0&&p([]);var S=d.length;d.forEach(function(C,N){return he.resolve(C).then(function(P){d[N]=P,--S||p(d)},y)})})},resolve:function(d){return d instanceof he?d:d&&typeof d.then=="function"?new he(function(p,y){d.then(p,y)}):new he(ha,!0,d)},reject:ic,race:function(){var d=ae.apply(null,arguments).map(cc);return new he(function(p,y){d.map(function(S){return he.resolve(S).then(p,y)})})},PSD:{get:function(){return be},set:function(d){return be=d}},totalEchoes:{get:function(){return lc}},newPSD:qr,usePSD:Qs,scheduler:{get:function(){return ma},set:function(d){ma=d}},rejectionMapper:{get:function(){return kf},set:function(d){kf=d}},follow:function(d,p){return new he(function(y,S){return qr(function(C,N){var P=be;P.unhandleds=[],P.onunhandled=N,P.finalize=dn(function(){var A,L=this;A=function(){L.unhandleds.length===0?C():N(L.unhandleds[0])},sc.push(function M(){A(),sc.splice(sc.indexOf(M),1)}),++Xs,ma(function(){--Xs==0&&Pf()},[])},P.finalize),d()},p,y,S)})}}),Ys&&(Ys.allSettled&&k(he,"allSettled",function(){var d=ae.apply(null,arguments).map(cc);return new he(function(p){d.length===0&&p([]);var y=d.length,S=new Array(y);d.forEach(function(C,N){return he.resolve(C).then(function(P){return S[N]={status:"fulfilled",value:P}},function(P){return S[N]={status:"rejected",reason:P}}).then(function(){return--y||p(S)})})})}),Ys.any&&typeof AggregateError<"u"&&k(he,"any",function(){var d=ae.apply(null,arguments).map(cc);return new he(function(p,y){d.length===0&&y(new AggregateError([]));var S=d.length,C=new Array(S);d.forEach(function(N,P){return he.resolve(N).then(function(A){return p(A)},function(A){C[P]=A,--S||y(new AggregateError(C))})})})}),Ys.withResolvers&&(he.withResolvers=Ys.withResolvers));var Rt={awaits:0,echoes:0,id:0},SN=0,oc=[],ac=0,lc=0,_N=0;function qr(d,p,y,S){var C=be,N=Object.create(C);return N.parent=C,N.ref=0,N.global=!1,N.id=++_N,Hr.env,N.env=_f?{Promise:he,PromiseProp:{value:he,configurable:!0,writable:!0},all:he.all,race:he.race,allSettled:he.allSettled,any:he.any,resolve:he.resolve,reject:he.reject}:{},p&&c(N,p),++C.ref,N.finalize=function(){--this.parent.ref||this.parent.finalize()},S=Qs(N,d,y,S),N.ref===0&&N.finalize(),S}function Ui(){return Rt.id||(Rt.id=++SN),++Rt.awaits,Rt.echoes+=bv,Rt.id}function Yr(){return!!Rt.awaits&&(--Rt.awaits==0&&(Rt.id=0),Rt.echoes=Rt.awaits*bv,!0)}function cc(d){return Rt.echoes&&d&&d.constructor===Ys?(Ui(),d.then(function(p){return Yr(),p},function(p){return Yr(),vt(p)})):d}function jN(){var d=oc[oc.length-1];oc.pop(),Gr(d,!1)}function Gr(d,p){var y,S=be;(p?!Rt.echoes||ac++&&d===be:!ac||--ac&&d===be)||queueMicrotask(p?(function(C){++lc,Rt.echoes&&--Rt.echoes!=0||(Rt.echoes=Rt.awaits=Rt.id=0),oc.push(be),Gr(C,!0)}).bind(null,d):jN),d!==be&&(be=d,S===Hr&&(Hr.env=jv()),_f&&(y=Hr.env.Promise,p=d.env,(S.global||d.global)&&(Object.defineProperty(i,"Promise",p.PromiseProp),y.all=p.all,y.race=p.race,y.resolve=p.resolve,y.reject=p.reject,p.allSettled&&(y.allSettled=p.allSettled),p.any&&(y.any=p.any))))}function jv(){var d=i.Promise;return _f?{Promise:d,PromiseProp:Object.getOwnPropertyDescriptor(i,"Promise"),all:d.all,race:d.race,allSettled:d.allSettled,any:d.any,resolve:d.resolve,reject:d.reject}:{}}function Qs(d,p,y,S,C){var N=be;try{return Gr(d,!0),p(y,S,C)}finally{Gr(N,!1)}}function kv(d,p,y,S){return typeof d!="function"?d:function(){var C=be;y&&Ui(),Gr(p,!0);try{return d.apply(this,arguments)}finally{Gr(C,!1),S&&queueMicrotask(Yr)}}}function Tf(d){Promise===Ys&&Rt.echoes===0?ac===0?d():enqueueNativeMicroTask(d):setTimeout(d,0)}(""+En).indexOf("[native code]")===-1&&(Ui=Yr=we);var vt=he.reject,Js=String.fromCharCode(65535),Sr="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Cv="String expected.",zi=[],uc="__dbnames",Rf="readonly",Af="readwrite";function Zs(d,p){return d?p?function(){return d.apply(this,arguments)&&p.apply(this,arguments)}:d:p}var Ev={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function dc(d){return typeof d!="string"||/\./.test(d)?function(p){return p}:function(p){return p[d]===void 0&&d in p&&delete(p=pe(p))[d],p}}function Nv(){throw fe.Type()}function Be(d,p){try{var y=Pv(d),S=Pv(p);if(y!==S)return y==="Array"?1:S==="Array"?-1:y==="binary"?1:S==="binary"?-1:y==="string"?1:S==="string"?-1:y==="Date"?1:S!=="Date"?NaN:-1;switch(y){case"number":case"Date":case"string":return p<d?1:d<p?-1:0;case"binary":return function(C,N){for(var P=C.length,A=N.length,L=P<A?P:A,M=0;M<L;++M)if(C[M]!==N[M])return C[M]<N[M]?-1:1;return P===A?0:P<A?-1:1}(Tv(d),Tv(p));case"Array":return function(C,N){for(var P=C.length,A=N.length,L=P<A?P:A,M=0;M<L;++M){var B=Be(C[M],N[M]);if(B!==0)return B}return P===A?0:P<A?-1:1}(d,p)}}catch{}return NaN}function Pv(d){var p=typeof d;return p!="object"?p:ArrayBuffer.isView(d)?"binary":(d=te(d),d==="ArrayBuffer"?"binary":d)}function Tv(d){return d instanceof Uint8Array?d:ArrayBuffer.isView(d)?new Uint8Array(d.buffer,d.byteOffset,d.byteLength):new Uint8Array(d)}var Rv=(rt.prototype._trans=function(d,p,y){var S=this._tx||be.trans,C=this.name,N=ir&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(d==="readonly"?"read":"write"," ").concat(this.name));function P(M,B,O){if(!O.schema[C])throw new fe.NotFound("Table "+C+" not part of transaction");return p(O.idbtrans,O)}var A=Vi();try{var L=S&&S.db._novip===this.db._novip?S===be.trans?S._promise(d,P,y):qr(function(){return S._promise(d,P,y)},{trans:S,transless:be.transless||be}):function M(B,O,z,I){if(B.idbdb&&(B._state.openComplete||be.letThrough||B._vip)){var V=B._createTransaction(O,z,B._dbSchema);try{V.create(),B._state.PR1398_maxLoop=3}catch(U){return U.name===Se.InvalidState&&B.isOpen()&&0<--B._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),B.close({disableAutoOpen:!1}),B.open().then(function(){return M(B,O,z,I)})):vt(U)}return V._promise(O,function(U,$){return qr(function(){return be.trans=V,I(U,$,V)})}).then(function(U){if(O==="readwrite")try{V.idbtrans.commit()}catch{}return O==="readonly"?U:V._completion.then(function(){return U})})}if(B._state.openComplete)return vt(new fe.DatabaseClosed(B._state.dbOpenError));if(!B._state.isBeingOpened){if(!B._state.autoOpen)return vt(new fe.DatabaseClosed);B.open().catch(we)}return B._state.dbReadyPromise.then(function(){return M(B,O,z,I)})}(this.db,d,[this.name],P);return N&&(L._consoleTask=N,L=L.catch(function(M){return console.trace(M),vt(M)})),L}finally{A&&Bi()}},rt.prototype.get=function(d,p){var y=this;return d&&d.constructor===Object?this.where(d).first(p):d==null?vt(new fe.Type("Invalid argument to Table.get()")):this._trans("readonly",function(S){return y.core.get({trans:S,key:d}).then(function(C){return y.hook.reading.fire(C)})}).then(p)},rt.prototype.where=function(d){if(typeof d=="string")return new this.db.WhereClause(this,d);if(a(d))return new this.db.WhereClause(this,"[".concat(d.join("+"),"]"));var p=o(d);if(p.length===1)return this.where(p[0]).equals(d[p[0]]);var y=this.schema.indexes.concat(this.schema.primKey).filter(function(A){if(A.compound&&p.every(function(M){return 0<=A.keyPath.indexOf(M)})){for(var L=0;L<p.length;++L)if(p.indexOf(A.keyPath[L])===-1)return!1;return!0}return!1}).sort(function(A,L){return A.keyPath.length-L.keyPath.length})[0];if(y&&this.db._maxKey!==Js){var N=y.keyPath.slice(0,p.length);return this.where(N).equals(N.map(function(L){return d[L]}))}!y&&ir&&console.warn("The query ".concat(JSON.stringify(d)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(p.join("+"),"]"));var S=this.schema.idxByName;function C(A,L){return Be(A,L)===0}var P=p.reduce(function(O,L){var M=O[0],B=O[1],O=S[L],z=d[L];return[M||O,M||!O?Zs(B,O&&O.multi?function(I){return I=D(I,L),a(I)&&I.some(function(V){return C(z,V)})}:function(I){return C(z,D(I,L))}):B]},[null,null]),N=P[0],P=P[1];return N?this.where(N.name).equals(d[N.keyPath]).filter(P):y?this.filter(P):this.where(p).equals("")},rt.prototype.filter=function(d){return this.toCollection().and(d)},rt.prototype.count=function(d){return this.toCollection().count(d)},rt.prototype.offset=function(d){return this.toCollection().offset(d)},rt.prototype.limit=function(d){return this.toCollection().limit(d)},rt.prototype.each=function(d){return this.toCollection().each(d)},rt.prototype.toArray=function(d){return this.toCollection().toArray(d)},rt.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},rt.prototype.orderBy=function(d){return new this.db.Collection(new this.db.WhereClause(this,a(d)?"[".concat(d.join("+"),"]"):d))},rt.prototype.reverse=function(){return this.toCollection().reverse()},rt.prototype.mapToClass=function(d){var p,y=this.db,S=this.name;function C(){return p!==null&&p.apply(this,arguments)||this}(this.schema.mappedClass=d).prototype instanceof Nv&&(function(L,M){if(typeof M!="function"&&M!==null)throw new TypeError("Class extends value "+String(M)+" is not a constructor or null");function B(){this.constructor=L}n(L,M),L.prototype=M===null?Object.create(M):(B.prototype=M.prototype,new B)}(C,p=d),Object.defineProperty(C.prototype,"db",{get:function(){return y},enumerable:!1,configurable:!0}),C.prototype.table=function(){return S},d=C);for(var N=new Set,P=d.prototype;P;P=u(P))Object.getOwnPropertyNames(P).forEach(function(L){return N.add(L)});function A(L){if(!L)return L;var M,B=Object.create(d.prototype);for(M in L)if(!N.has(M))try{B[M]=L[M]}catch{}return B}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=A,this.hook("reading",A),d},rt.prototype.defineClass=function(){return this.mapToClass(function(d){c(this,d)})},rt.prototype.add=function(d,p){var y=this,S=this.schema.primKey,C=S.auto,N=S.keyPath,P=d;return N&&C&&(P=dc(N)(d)),this._trans("readwrite",function(A){return y.core.mutate({trans:A,type:"add",keys:p!=null?[p]:null,values:[P]})}).then(function(A){return A.numFailures?he.reject(A.failures[0]):A.lastResult}).then(function(A){if(N)try{T(d,N,A)}catch{}return A})},rt.prototype.update=function(d,p){return typeof d!="object"||a(d)?this.where(":id").equals(d).modify(p):(d=D(d,this.schema.primKey.keyPath),d===void 0?vt(new fe.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(d).modify(p))},rt.prototype.put=function(d,p){var y=this,S=this.schema.primKey,C=S.auto,N=S.keyPath,P=d;return N&&C&&(P=dc(N)(d)),this._trans("readwrite",function(A){return y.core.mutate({trans:A,type:"put",values:[P],keys:p!=null?[p]:null})}).then(function(A){return A.numFailures?he.reject(A.failures[0]):A.lastResult}).then(function(A){if(N)try{T(d,N,A)}catch{}return A})},rt.prototype.delete=function(d){var p=this;return this._trans("readwrite",function(y){return p.core.mutate({trans:y,type:"delete",keys:[d]})}).then(function(y){return y.numFailures?he.reject(y.failures[0]):void 0})},rt.prototype.clear=function(){var d=this;return this._trans("readwrite",function(p){return d.core.mutate({trans:p,type:"deleteRange",range:Ev})}).then(function(p){return p.numFailures?he.reject(p.failures[0]):void 0})},rt.prototype.bulkGet=function(d){var p=this;return this._trans("readonly",function(y){return p.core.getMany({keys:d,trans:y}).then(function(S){return S.map(function(C){return p.hook.reading.fire(C)})})})},rt.prototype.bulkAdd=function(d,p,y){var S=this,C=Array.isArray(p)?p:void 0,N=(y=y||(C?void 0:p))?y.allKeys:void 0;return this._trans("readwrite",function(P){var M=S.schema.primKey,A=M.auto,M=M.keyPath;if(M&&C)throw new fe.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(C&&C.length!==d.length)throw new fe.InvalidArgument("Arguments objects and keys must have the same length");var L=d.length,M=M&&A?d.map(dc(M)):d;return S.core.mutate({trans:P,type:"add",keys:C,values:M,wantResults:N}).then(function(V){var O=V.numFailures,z=V.results,I=V.lastResult,V=V.failures;if(O===0)return N?z:I;throw new Je("".concat(S.name,".bulkAdd(): ").concat(O," of ").concat(L," operations failed"),V)})})},rt.prototype.bulkPut=function(d,p,y){var S=this,C=Array.isArray(p)?p:void 0,N=(y=y||(C?void 0:p))?y.allKeys:void 0;return this._trans("readwrite",function(P){var M=S.schema.primKey,A=M.auto,M=M.keyPath;if(M&&C)throw new fe.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(C&&C.length!==d.length)throw new fe.InvalidArgument("Arguments objects and keys must have the same length");var L=d.length,M=M&&A?d.map(dc(M)):d;return S.core.mutate({trans:P,type:"put",keys:C,values:M,wantResults:N}).then(function(V){var O=V.numFailures,z=V.results,I=V.lastResult,V=V.failures;if(O===0)return N?z:I;throw new Je("".concat(S.name,".bulkPut(): ").concat(O," of ").concat(L," operations failed"),V)})})},rt.prototype.bulkUpdate=function(d){var p=this,y=this.core,S=d.map(function(P){return P.key}),C=d.map(function(P){return P.changes}),N=[];return this._trans("readwrite",function(P){return y.getMany({trans:P,keys:S,cache:"clone"}).then(function(A){var L=[],M=[];d.forEach(function(O,z){var I=O.key,V=O.changes,U=A[z];if(U){for(var $=0,W=Object.keys(V);$<W.length;$++){var H=W[$],q=V[H];if(H===p.schema.primKey.keyPath){if(Be(q,I)!==0)throw new fe.Constraint("Cannot update primary key in bulkUpdate()")}else T(U,H,q)}N.push(z),L.push(I),M.push(U)}});var B=L.length;return y.mutate({trans:P,type:"put",keys:L,values:M,updates:{keys:S,changeSpecs:C}}).then(function(O){var z=O.numFailures,I=O.failures;if(z===0)return B;for(var V=0,U=Object.keys(I);V<U.length;V++){var $,W=U[V],H=N[Number(W)];H!=null&&($=I[W],delete I[W],I[H]=$)}throw new Je("".concat(p.name,".bulkUpdate(): ").concat(z," of ").concat(B," operations failed"),I)})})})},rt.prototype.bulkDelete=function(d){var p=this,y=d.length;return this._trans("readwrite",function(S){return p.core.mutate({trans:S,type:"delete",keys:d})}).then(function(P){var C=P.numFailures,N=P.lastResult,P=P.failures;if(C===0)return N;throw new Je("".concat(p.name,".bulkDelete(): ").concat(C," of ").concat(y," operations failed"),P)})},rt);function rt(){}function ya(d){function p(P,A){if(A){for(var L=arguments.length,M=new Array(L-1);--L;)M[L-1]=arguments[L];return y[P].subscribe.apply(null,M),d}if(typeof P=="string")return y[P]}var y={};p.addEventType=N;for(var S=1,C=arguments.length;S<C;++S)N(arguments[S]);return p;function N(P,A,L){if(typeof P!="object"){var M;A=A||$i;var B={subscribers:[],fire:L=L||we,subscribe:function(O){B.subscribers.indexOf(O)===-1&&(B.subscribers.push(O),B.fire=A(B.fire,O))},unsubscribe:function(O){B.subscribers=B.subscribers.filter(function(z){return z!==O}),B.fire=B.subscribers.reduce(A,L)}};return y[P]=p[P]=B}o(M=P).forEach(function(O){var z=M[O];if(a(z))N(O,M[O][0],M[O][1]);else{if(z!=="asap")throw new fe.InvalidArgument("Invalid event config");var I=N(O,Ct,function(){for(var V=arguments.length,U=new Array(V);V--;)U[V]=arguments[V];I.subscribers.forEach(function($){R(function(){$.apply(null,U)})})})}})}}function va(d,p){return v(p).from({prototype:d}),p}function Wi(d,p){return!(d.filter||d.algorithm||d.or)&&(p?d.justLimit:!d.replayFilter)}function Of(d,p){d.filter=Zs(d.filter,p)}function Df(d,p,y){var S=d.replayFilter;d.replayFilter=S?function(){return Zs(S(),p())}:p,d.justLimit=y&&!S}function fc(d,p){if(d.isPrimKey)return p.primaryKey;var y=p.getIndexByKeyPath(d.index);if(!y)throw new fe.Schema("KeyPath "+d.index+" on object store "+p.name+" is not indexed");return y}function Av(d,p,y){var S=fc(d,p.schema);return p.openCursor({trans:y,values:!d.keysOnly,reverse:d.dir==="prev",unique:!!d.unique,query:{index:S,range:d.range}})}function hc(d,p,y,S){var C=d.replayFilter?Zs(d.filter,d.replayFilter()):d.filter;if(d.or){var N={},P=function(A,L,M){var B,O;C&&!C(L,M,function(z){return L.stop(z)},function(z){return L.fail(z)})||((O=""+(B=L.primaryKey))=="[object ArrayBuffer]"&&(O=""+new Uint8Array(B)),h(N,O)||(N[O]=!0,p(A,L,M)))};return Promise.all([d.or._iterate(P,y),Ov(Av(d,S,y),d.algorithm,P,!d.keysOnly&&d.valueMapper)])}return Ov(Av(d,S,y),Zs(d.algorithm,C),p,!d.keysOnly&&d.valueMapper)}function Ov(d,p,y,S){var C=at(S?function(N,P,A){return y(S(N),P,A)}:y);return d.then(function(N){if(N)return N.start(function(){var P=function(){return N.continue()};p&&!p(N,function(A){return P=A},function(A){N.stop(A),P=we},function(A){N.fail(A),P=we})||C(N.value,N,function(A){return P=A}),P()})})}var xa=(Dv.prototype.execute=function(d){var p=this["@@propmod"];if(p.add!==void 0){var y=p.add;if(a(y))return s(s([],a(d)?d:[],!0),y,!0).sort();if(typeof y=="number")return(Number(d)||0)+y;if(typeof y=="bigint")try{return BigInt(d)+y}catch{return BigInt(0)+y}throw new TypeError("Invalid term ".concat(y))}if(p.remove!==void 0){var S=p.remove;if(a(S))return a(d)?d.filter(function(C){return!S.includes(C)}).sort():[];if(typeof S=="number")return Number(d)-S;if(typeof S=="bigint")try{return BigInt(d)-S}catch{return BigInt(0)-S}throw new TypeError("Invalid subtrahend ".concat(S))}return y=(y=p.replacePrefix)===null||y===void 0?void 0:y[0],y&&typeof d=="string"&&d.startsWith(y)?p.replacePrefix[1]+d.substring(y.length):d},Dv);function Dv(d){this["@@propmod"]=d}var kN=(qe.prototype._read=function(d,p){var y=this._ctx;return y.error?y.table._trans(null,vt.bind(null,y.error)):y.table._trans("readonly",d).then(p)},qe.prototype._write=function(d){var p=this._ctx;return p.error?p.table._trans(null,vt.bind(null,p.error)):p.table._trans("readwrite",d,"locked")},qe.prototype._addAlgorithm=function(d){var p=this._ctx;p.algorithm=Zs(p.algorithm,d)},qe.prototype._iterate=function(d,p){return hc(this._ctx,d,p,this._ctx.table.core)},qe.prototype.clone=function(d){var p=Object.create(this.constructor.prototype),y=Object.create(this._ctx);return d&&c(y,d),p._ctx=y,p},qe.prototype.raw=function(){return this._ctx.valueMapper=null,this},qe.prototype.each=function(d){var p=this._ctx;return this._read(function(y){return hc(p,d,y,p.table.core)})},qe.prototype.count=function(d){var p=this;return this._read(function(y){var S=p._ctx,C=S.table.core;if(Wi(S,!0))return C.count({trans:y,query:{index:fc(S,C.schema),range:S.range}}).then(function(P){return Math.min(P,S.limit)});var N=0;return hc(S,function(){return++N,!1},y,C).then(function(){return N})}).then(d)},qe.prototype.sortBy=function(d,p){var y=d.split(".").reverse(),S=y[0],C=y.length-1;function N(L,M){return M?N(L[y[M]],M-1):L[S]}var P=this._ctx.dir==="next"?1:-1;function A(L,M){return Be(N(L,C),N(M,C))*P}return this.toArray(function(L){return L.sort(A)}).then(p)},qe.prototype.toArray=function(d){var p=this;return this._read(function(y){var S=p._ctx;if(S.dir==="next"&&Wi(S,!0)&&0<S.limit){var C=S.valueMapper,N=fc(S,S.table.core.schema);return S.table.core.query({trans:y,limit:S.limit,values:!0,query:{index:N,range:S.range}}).then(function(A){return A=A.result,C?A.map(C):A})}var P=[];return hc(S,function(A){return P.push(A)},y,S.table.core).then(function(){return P})},d)},qe.prototype.offset=function(d){var p=this._ctx;return d<=0||(p.offset+=d,Wi(p)?Df(p,function(){var y=d;return function(S,C){return y===0||(y===1?--y:C(function(){S.advance(y),y=0}),!1)}}):Df(p,function(){var y=d;return function(){return--y<0}})),this},qe.prototype.limit=function(d){return this._ctx.limit=Math.min(this._ctx.limit,d),Df(this._ctx,function(){var p=d;return function(y,S,C){return--p<=0&&S(C),0<=p}},!0),this},qe.prototype.until=function(d,p){return Of(this._ctx,function(y,S,C){return!d(y.value)||(S(C),p)}),this},qe.prototype.first=function(d){return this.limit(1).toArray(function(p){return p[0]}).then(d)},qe.prototype.last=function(d){return this.reverse().first(d)},qe.prototype.filter=function(d){var p;return Of(this._ctx,function(y){return d(y.value)}),(p=this._ctx).isMatch=Zs(p.isMatch,d),this},qe.prototype.and=function(d){return this.filter(d)},qe.prototype.or=function(d){return new this.db.WhereClause(this._ctx.table,d,this)},qe.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},qe.prototype.desc=function(){return this.reverse()},qe.prototype.eachKey=function(d){var p=this._ctx;return p.keysOnly=!p.isMatch,this.each(function(y,S){d(S.key,S)})},qe.prototype.eachUniqueKey=function(d){return this._ctx.unique="unique",this.eachKey(d)},qe.prototype.eachPrimaryKey=function(d){var p=this._ctx;return p.keysOnly=!p.isMatch,this.each(function(y,S){d(S.primaryKey,S)})},qe.prototype.keys=function(d){var p=this._ctx;p.keysOnly=!p.isMatch;var y=[];return this.each(function(S,C){y.push(C.key)}).then(function(){return y}).then(d)},qe.prototype.primaryKeys=function(d){var p=this._ctx;if(p.dir==="next"&&Wi(p,!0)&&0<p.limit)return this._read(function(S){var C=fc(p,p.table.core.schema);return p.table.core.query({trans:S,values:!1,limit:p.limit,query:{index:C,range:p.range}})}).then(function(S){return S.result}).then(d);p.keysOnly=!p.isMatch;var y=[];return this.each(function(S,C){y.push(C.primaryKey)}).then(function(){return y}).then(d)},qe.prototype.uniqueKeys=function(d){return this._ctx.unique="unique",this.keys(d)},qe.prototype.firstKey=function(d){return this.limit(1).keys(function(p){return p[0]}).then(d)},qe.prototype.lastKey=function(d){return this.reverse().firstKey(d)},qe.prototype.distinct=function(){var d=this._ctx,d=d.index&&d.table.schema.idxByName[d.index];if(!d||!d.multi)return this;var p={};return Of(this._ctx,function(C){var S=C.primaryKey.toString(),C=h(p,S);return p[S]=!0,!C}),this},qe.prototype.modify=function(d){var p=this,y=this._ctx;return this._write(function(S){var C,N,P;P=typeof d=="function"?d:(C=o(d),N=C.length,function($){for(var W=!1,H=0;H<N;++H){var q=C[H],X=d[q],re=D($,q);X instanceof xa?(T($,q,X.execute(re)),W=!0):re!==X&&(T($,q,X),W=!0)}return W});var A=y.table.core,O=A.schema.primaryKey,L=O.outbound,M=O.extractKey,B=200,O=p.db._options.modifyChunkSize;O&&(B=typeof O=="object"?O[A.name]||O["*"]||200:O);function z($,q){var H=q.failures,q=q.numFailures;V+=$-q;for(var X=0,re=o(H);X<re.length;X++){var ce=re[X];I.push(H[ce])}}var I=[],V=0,U=[];return p.clone().primaryKeys().then(function($){function W(q){var X=Math.min(B,$.length-q);return A.getMany({trans:S,keys:$.slice(q,q+X),cache:"immutable"}).then(function(re){for(var ce=[],se=[],oe=L?[]:null,de=[],le=0;le<X;++le){var ye=re[le],Ee={value:pe(ye),primKey:$[q+le]};P.call(Ee,Ee.value,Ee)!==!1&&(Ee.value==null?de.push($[q+le]):L||Be(M(ye),M(Ee.value))===0?(se.push(Ee.value),L&&oe.push($[q+le])):(de.push($[q+le]),ce.push(Ee.value)))}return Promise.resolve(0<ce.length&&A.mutate({trans:S,type:"add",values:ce}).then(function(De){for(var Le in De.failures)de.splice(parseInt(Le),1);z(ce.length,De)})).then(function(){return(0<se.length||H&&typeof d=="object")&&A.mutate({trans:S,type:"put",keys:oe,values:se,criteria:H,changeSpec:typeof d!="function"&&d,isAdditionalChunk:0<q}).then(function(De){return z(se.length,De)})}).then(function(){return(0<de.length||H&&d===Lf)&&A.mutate({trans:S,type:"delete",keys:de,criteria:H,isAdditionalChunk:0<q}).then(function(De){return z(de.length,De)})}).then(function(){return $.length>q+X&&W(q+B)})})}var H=Wi(y)&&y.limit===1/0&&(typeof d!="function"||d===Lf)&&{index:y.index,range:y.range};return W(0).then(function(){if(0<I.length)throw new Tt("Error modifying one or more objects",I,V,U);return $.length})})})},qe.prototype.delete=function(){var d=this._ctx,p=d.range;return Wi(d)&&(d.isPrimKey||p.type===3)?this._write(function(y){var S=d.table.core.schema.primaryKey,C=p;return d.table.core.count({trans:y,query:{index:S,range:C}}).then(function(N){return d.table.core.mutate({trans:y,type:"deleteRange",range:C}).then(function(P){var A=P.failures;if(P.lastResult,P.results,P=P.numFailures,P)throw new Tt("Could not delete some values",Object.keys(A).map(function(L){return A[L]}),N-P);return N-P})})}):this.modify(Lf)},qe);function qe(){}var Lf=function(d,p){return p.value=null};function CN(d,p){return d<p?-1:d===p?0:1}function EN(d,p){return p<d?-1:d===p?0:1}function fn(d,p,y){return d=d instanceof Iv?new d.Collection(d):d,d._ctx.error=new(y||TypeError)(p),d}function Ki(d){return new d.Collection(d,function(){return Lv("")}).limit(0)}function pc(d,p,y,S){var C,N,P,A,L,M,B,O=y.length;if(!y.every(function(V){return typeof V=="string"}))return fn(d,Cv);function z(V){C=V==="next"?function($){return $.toUpperCase()}:function($){return $.toLowerCase()},N=V==="next"?function($){return $.toLowerCase()}:function($){return $.toUpperCase()},P=V==="next"?CN:EN;var U=y.map(function($){return{lower:N($),upper:C($)}}).sort(function($,W){return P($.lower,W.lower)});A=U.map(function($){return $.upper}),L=U.map(function($){return $.lower}),B=(M=V)==="next"?"":S}z("next"),d=new d.Collection(d,function(){return Xr(A[0],L[O-1]+S)}),d._ondirectionchange=function(V){z(V)};var I=0;return d._addAlgorithm(function(V,U,$){var W=V.key;if(typeof W!="string")return!1;var H=N(W);if(p(H,L,I))return!0;for(var q=null,X=I;X<O;++X){var re=function(ce,se,oe,de,le,ye){for(var Ee=Math.min(ce.length,de.length),De=-1,Le=0;Le<Ee;++Le){var hn=se[Le];if(hn!==de[Le])return le(ce[Le],oe[Le])<0?ce.substr(0,Le)+oe[Le]+oe.substr(Le+1):le(ce[Le],de[Le])<0?ce.substr(0,Le)+de[Le]+oe.substr(Le+1):0<=De?ce.substr(0,De)+se[De]+oe.substr(De+1):null;le(ce[Le],hn)<0&&(De=Le)}return Ee<de.length&&ye==="next"?ce+oe.substr(ce.length):Ee<ce.length&&ye==="prev"?ce.substr(0,oe.length):De<0?null:ce.substr(0,De)+de[De]+oe.substr(De+1)}(W,H,A[X],L[X],P,M);re===null&&q===null?I=X+1:(q===null||0<P(q,re))&&(q=re)}return U(q!==null?function(){V.continue(q+B)}:$),!1}),d}function Xr(d,p,y,S){return{type:2,lower:d,upper:p,lowerOpen:y,upperOpen:S}}function Lv(d){return{type:1,lower:d,upper:d}}var Iv=(Object.defineProperty(At.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),At.prototype.between=function(d,p,y,S){y=y!==!1,S=S===!0;try{return 0<this._cmp(d,p)||this._cmp(d,p)===0&&(y||S)&&(!y||!S)?Ki(this):new this.Collection(this,function(){return Xr(d,p,!y,!S)})}catch{return fn(this,Sr)}},At.prototype.equals=function(d){return d==null?fn(this,Sr):new this.Collection(this,function(){return Lv(d)})},At.prototype.above=function(d){return d==null?fn(this,Sr):new this.Collection(this,function(){return Xr(d,void 0,!0)})},At.prototype.aboveOrEqual=function(d){return d==null?fn(this,Sr):new this.Collection(this,function(){return Xr(d,void 0,!1)})},At.prototype.below=function(d){return d==null?fn(this,Sr):new this.Collection(this,function(){return Xr(void 0,d,!1,!0)})},At.prototype.belowOrEqual=function(d){return d==null?fn(this,Sr):new this.Collection(this,function(){return Xr(void 0,d)})},At.prototype.startsWith=function(d){return typeof d!="string"?fn(this,Cv):this.between(d,d+Js,!0,!0)},At.prototype.startsWithIgnoreCase=function(d){return d===""?this.startsWith(d):pc(this,function(p,y){return p.indexOf(y[0])===0},[d],Js)},At.prototype.equalsIgnoreCase=function(d){return pc(this,function(p,y){return p===y[0]},[d],"")},At.prototype.anyOfIgnoreCase=function(){var d=ae.apply(ee,arguments);return d.length===0?Ki(this):pc(this,function(p,y){return y.indexOf(p)!==-1},d,"")},At.prototype.startsWithAnyOfIgnoreCase=function(){var d=ae.apply(ee,arguments);return d.length===0?Ki(this):pc(this,function(p,y){return y.some(function(S){return p.indexOf(S)===0})},d,Js)},At.prototype.anyOf=function(){var d=this,p=ae.apply(ee,arguments),y=this._cmp;try{p.sort(y)}catch{return fn(this,Sr)}if(p.length===0)return Ki(this);var S=new this.Collection(this,function(){return Xr(p[0],p[p.length-1])});S._ondirectionchange=function(N){y=N==="next"?d._ascending:d._descending,p.sort(y)};var C=0;return S._addAlgorithm(function(N,P,A){for(var L=N.key;0<y(L,p[C]);)if(++C===p.length)return P(A),!1;return y(L,p[C])===0||(P(function(){N.continue(p[C])}),!1)}),S},At.prototype.notEqual=function(d){return this.inAnyRange([[-1/0,d],[d,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},At.prototype.noneOf=function(){var d=ae.apply(ee,arguments);if(d.length===0)return new this.Collection(this);try{d.sort(this._ascending)}catch{return fn(this,Sr)}var p=d.reduce(function(y,S){return y?y.concat([[y[y.length-1][1],S]]):[[-1/0,S]]},null);return p.push([d[d.length-1],this.db._maxKey]),this.inAnyRange(p,{includeLowers:!1,includeUppers:!1})},At.prototype.inAnyRange=function(W,p){var y=this,S=this._cmp,C=this._ascending,N=this._descending,P=this._min,A=this._max;if(W.length===0)return Ki(this);if(!W.every(function(H){return H[0]!==void 0&&H[1]!==void 0&&C(H[0],H[1])<=0}))return fn(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",fe.InvalidArgument);var L=!p||p.includeLowers!==!1,M=p&&p.includeUppers===!0,B,O=C;function z(H,q){return O(H[0],q[0])}try{(B=W.reduce(function(H,q){for(var X=0,re=H.length;X<re;++X){var ce=H[X];if(S(q[0],ce[1])<0&&0<S(q[1],ce[0])){ce[0]=P(ce[0],q[0]),ce[1]=A(ce[1],q[1]);break}}return X===re&&H.push(q),H},[])).sort(z)}catch{return fn(this,Sr)}var I=0,V=M?function(H){return 0<C(H,B[I][1])}:function(H){return 0<=C(H,B[I][1])},U=L?function(H){return 0<N(H,B[I][0])}:function(H){return 0<=N(H,B[I][0])},$=V,W=new this.Collection(this,function(){return Xr(B[0][0],B[B.length-1][1],!L,!M)});return W._ondirectionchange=function(H){O=H==="next"?($=V,C):($=U,N),B.sort(z)},W._addAlgorithm(function(H,q,X){for(var re,ce=H.key;$(ce);)if(++I===B.length)return q(X),!1;return!V(re=ce)&&!U(re)||(y._cmp(ce,B[I][1])===0||y._cmp(ce,B[I][0])===0||q(function(){O===C?H.continue(B[I][0]):H.continue(B[I][1])}),!1)}),W},At.prototype.startsWithAnyOf=function(){var d=ae.apply(ee,arguments);return d.every(function(p){return typeof p=="string"})?d.length===0?Ki(this):this.inAnyRange(d.map(function(p){return[p,p+Js]})):fn(this,"startsWithAnyOf() only works with strings")},At);function At(){}function or(d){return at(function(p){return wa(p),d(p.target.error),!1})}function wa(d){d.stopPropagation&&d.stopPropagation(),d.preventDefault&&d.preventDefault()}var ba="storagemutated",If="x-storagemutated-1",Qr=ya(null,ba),NN=(ar.prototype._lock=function(){return E(!be.global),++this._reculock,this._reculock!==1||be.global||(be.lockOwnerFor=this),this},ar.prototype._unlock=function(){if(E(!be.global),--this._reculock==0)for(be.global||(be.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var d=this._blockedFuncs.shift();try{Qs(d[1],d[0])}catch{}}return this},ar.prototype._locked=function(){return this._reculock&&be.lockOwnerFor!==this},ar.prototype.create=function(d){var p=this;if(!this.mode)return this;var y=this.db.idbdb,S=this.db._state.dbOpenError;if(E(!this.idbtrans),!d&&!y)switch(S&&S.name){case"DatabaseClosedError":throw new fe.DatabaseClosed(S);case"MissingAPIError":throw new fe.MissingAPI(S.message,S);default:throw new fe.OpenFailed(S)}if(!this.active)throw new fe.TransactionInactive;return E(this._completion._state===null),(d=this.idbtrans=d||(this.db.core||y).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=at(function(C){wa(C),p._reject(d.error)}),d.onabort=at(function(C){wa(C),p.active&&p._reject(new fe.Abort(d.error)),p.active=!1,p.on("abort").fire(C)}),d.oncomplete=at(function(){p.active=!1,p._resolve(),"mutatedParts"in d&&Qr.storagemutated.fire(d.mutatedParts)}),this},ar.prototype._promise=function(d,p,y){var S=this;if(d==="readwrite"&&this.mode!=="readwrite")return vt(new fe.ReadOnly("Transaction is readonly"));if(!this.active)return vt(new fe.TransactionInactive);if(this._locked())return new he(function(N,P){S._blockedFuncs.push([function(){S._promise(d,p,y).then(N,P)},be])});if(y)return qr(function(){var N=new he(function(P,A){S._lock();var L=p(P,A,S);L&&L.then&&L.then(P,A)});return N.finally(function(){return S._unlock()}),N._lib=!0,N});var C=new he(function(N,P){var A=p(N,P,S);A&&A.then&&A.then(N,P)});return C._lib=!0,C},ar.prototype._root=function(){return this.parent?this.parent._root():this},ar.prototype.waitFor=function(d){var p,y=this._root(),S=he.resolve(d);y._waitingFor?y._waitingFor=y._waitingFor.then(function(){return S}):(y._waitingFor=S,y._waitingQueue=[],p=y.idbtrans.objectStore(y.storeNames[0]),function N(){for(++y._spinCount;y._waitingQueue.length;)y._waitingQueue.shift()();y._waitingFor&&(p.get(-1/0).onsuccess=N)}());var C=y._waitingFor;return new he(function(N,P){S.then(function(A){return y._waitingQueue.push(at(N.bind(null,A)))},function(A){return y._waitingQueue.push(at(P.bind(null,A)))}).finally(function(){y._waitingFor===C&&(y._waitingFor=null)})})},ar.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new fe.Abort))},ar.prototype.table=function(d){var p=this._memoizedTables||(this._memoizedTables={});if(h(p,d))return p[d];var y=this.schema[d];if(!y)throw new fe.NotFound("Table "+d+" not part of transaction");return y=new this.db.Table(d,y,this),y.core=this.db.core.table(d),p[d]=y},ar);function ar(){}function Mf(d,p,y,S,C,N,P){return{name:d,keyPath:p,unique:y,multi:S,auto:C,compound:N,src:(y&&!P?"&":"")+(S?"*":"")+(C?"++":"")+Mv(p)}}function Mv(d){return typeof d=="string"?d:d?"["+[].join.call(d,"+")+"]":""}function Ff(d,p,y){return{name:d,primKey:p,indexes:y,mappedClass:null,idxByName:(S=function(C){return[C.name,C]},y.reduce(function(C,N,P){return P=S(N,P),P&&(C[P[0]]=P[1]),C},{}))};var S}var Sa=function(d){try{return d.only([[]]),Sa=function(){return[[]]},[[]]}catch{return Sa=function(){return Js},Js}};function $f(d){return d==null?function(){}:typeof d=="string"?(p=d).split(".").length===1?function(y){return y[p]}:function(y){return D(y,p)}:function(y){return D(y,d)};var p}function Fv(d){return[].slice.call(d)}var PN=0;function _a(d){return d==null?":id":typeof d=="string"?d:"[".concat(d.join("+"),"]")}function TN(d,p,L){function S($){if($.type===3)return null;if($.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var I=$.lower,V=$.upper,U=$.lowerOpen,$=$.upperOpen;return I===void 0?V===void 0?null:p.upperBound(V,!!$):V===void 0?p.lowerBound(I,!!U):p.bound(I,V,!!U,!!$)}function C(z){var I,V=z.name;return{name:V,schema:z,mutate:function(U){var $=U.trans,W=U.type,H=U.keys,q=U.values,X=U.range;return new Promise(function(re,ce){re=at(re);var se=$.objectStore(V),oe=se.keyPath==null,de=W==="put"||W==="add";if(!de&&W!=="delete"&&W!=="deleteRange")throw new Error("Invalid operation type: "+W);var le,ye=(H||q||{length:1}).length;if(H&&q&&H.length!==q.length)throw new Error("Given keys array must have same length as given values array.");if(ye===0)return re({numFailures:0,failures:{},results:[],lastResult:void 0});function Ee(Qt){++hn,wa(Qt)}var De=[],Le=[],hn=0;if(W==="deleteRange"){if(X.type===4)return re({numFailures:hn,failures:Le,results:[],lastResult:void 0});X.type===3?De.push(le=se.clear()):De.push(le=se.delete(S(X)))}else{var oe=de?oe?[q,H]:[q,null]:[H,null],Ce=oe[0],zt=oe[1];if(de)for(var Wt=0;Wt<ye;++Wt)De.push(le=zt&&zt[Wt]!==void 0?se[W](Ce[Wt],zt[Wt]):se[W](Ce[Wt])),le.onerror=Ee;else for(Wt=0;Wt<ye;++Wt)De.push(le=se[W](Ce[Wt])),le.onerror=Ee}function Ec(Qt){Qt=Qt.target.result,De.forEach(function(ni,rh){return ni.error!=null&&(Le[rh]=ni.error)}),re({numFailures:hn,failures:Le,results:W==="delete"?H:De.map(function(ni){return ni.result}),lastResult:Qt})}le.onerror=function(Qt){Ee(Qt),Ec(Qt)},le.onsuccess=Ec})},getMany:function(U){var $=U.trans,W=U.keys;return new Promise(function(H,q){H=at(H);for(var X,re=$.objectStore(V),ce=W.length,se=new Array(ce),oe=0,de=0,le=function(De){De=De.target,se[De._pos]=De.result,++de===oe&&H(se)},ye=or(q),Ee=0;Ee<ce;++Ee)W[Ee]!=null&&((X=re.get(W[Ee]))._pos=Ee,X.onsuccess=le,X.onerror=ye,++oe);oe===0&&H(se)})},get:function(U){var $=U.trans,W=U.key;return new Promise(function(H,q){H=at(H);var X=$.objectStore(V).get(W);X.onsuccess=function(re){return H(re.target.result)},X.onerror=or(q)})},query:(I=M,function(U){return new Promise(function($,W){$=at($);var H,q,X,oe=U.trans,re=U.values,ce=U.limit,le=U.query,se=ce===1/0?void 0:ce,de=le.index,le=le.range,oe=oe.objectStore(V),de=de.isPrimaryKey?oe:oe.index(de.name),le=S(le);if(ce===0)return $({result:[]});I?((se=re?de.getAll(le,se):de.getAllKeys(le,se)).onsuccess=function(ye){return $({result:ye.target.result})},se.onerror=or(W)):(H=0,q=!re&&"openKeyCursor"in de?de.openKeyCursor(le):de.openCursor(le),X=[],q.onsuccess=function(ye){var Ee=q.result;return Ee?(X.push(re?Ee.value:Ee.primaryKey),++H===ce?$({result:X}):void Ee.continue()):$({result:X})},q.onerror=or(W))})}),openCursor:function(U){var $=U.trans,W=U.values,H=U.query,q=U.reverse,X=U.unique;return new Promise(function(re,ce){re=at(re);var de=H.index,se=H.range,oe=$.objectStore(V),oe=de.isPrimaryKey?oe:oe.index(de.name),de=q?X?"prevunique":"prev":X?"nextunique":"next",le=!W&&"openKeyCursor"in oe?oe.openKeyCursor(S(se),de):oe.openCursor(S(se),de);le.onerror=or(ce),le.onsuccess=at(function(ye){var Ee,De,Le,hn,Ce=le.result;Ce?(Ce.___id=++PN,Ce.done=!1,Ee=Ce.continue.bind(Ce),De=(De=Ce.continuePrimaryKey)&&De.bind(Ce),Le=Ce.advance.bind(Ce),hn=function(){throw new Error("Cursor not stopped")},Ce.trans=$,Ce.stop=Ce.continue=Ce.continuePrimaryKey=Ce.advance=function(){throw new Error("Cursor not started")},Ce.fail=at(ce),Ce.next=function(){var zt=this,Wt=1;return this.start(function(){return Wt--?zt.continue():zt.stop()}).then(function(){return zt})},Ce.start=function(zt){function Wt(){if(le.result)try{zt()}catch(Qt){Ce.fail(Qt)}else Ce.done=!0,Ce.start=function(){throw new Error("Cursor behind last entry")},Ce.stop()}var Ec=new Promise(function(Qt,ni){Qt=at(Qt),le.onerror=or(ni),Ce.fail=ni,Ce.stop=function(rh){Ce.stop=Ce.continue=Ce.continuePrimaryKey=Ce.advance=hn,Qt(rh)}});return le.onsuccess=at(function(Qt){le.onsuccess=Wt,Wt()}),Ce.continue=Ee,Ce.continuePrimaryKey=De,Ce.advance=Le,Wt(),Ec},re(Ce)):re(null)},ce)})},count:function(U){var $=U.query,W=U.trans,H=$.index,q=$.range;return new Promise(function(X,re){var ce=W.objectStore(V),se=H.isPrimaryKey?ce:ce.index(H.name),ce=S(q),se=ce?se.count(ce):se.count();se.onsuccess=at(function(oe){return X(oe.target.result)}),se.onerror=or(re)})}}}var N,P,A,B=(P=L,A=Fv((N=d).objectStoreNames),{schema:{name:N.name,tables:A.map(function(z){return P.objectStore(z)}).map(function(z){var I=z.keyPath,$=z.autoIncrement,V=a(I),U={},$={name:z.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:I==null,compound:V,keyPath:I,autoIncrement:$,unique:!0,extractKey:$f(I)},indexes:Fv(z.indexNames).map(function(W){return z.index(W)}).map(function(X){var H=X.name,q=X.unique,re=X.multiEntry,X=X.keyPath,re={name:H,compound:a(X),keyPath:X,unique:q,multiEntry:re,extractKey:$f(X)};return U[_a(X)]=re}),getIndexByKeyPath:function(W){return U[_a(W)]}};return U[":id"]=$.primaryKey,I!=null&&(U[_a(I)]=$.primaryKey),$})},hasGetAll:0<A.length&&"getAll"in P.objectStore(A[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),L=B.schema,M=B.hasGetAll,B=L.tables.map(C),O={};return B.forEach(function(z){return O[z.name]=z}),{stack:"dbcore",transaction:d.transaction.bind(d),table:function(z){if(!O[z])throw new Error("Table '".concat(z,"' not found"));return O[z]},MIN_KEY:-1/0,MAX_KEY:Sa(p),schema:L}}function RN(d,p,y,S){var C=y.IDBKeyRange;return y.indexedDB,{dbcore:(S=TN(p,C,S),d.dbcore.reduce(function(N,P){return P=P.create,r(r({},N),P(N))},S))}}function mc(d,S){var y=S.db,S=RN(d._middlewares,y,d._deps,S);d.core=S.dbcore,d.tables.forEach(function(C){var N=C.name;d.core.schema.tables.some(function(P){return P.name===N})&&(C.core=d.core.table(N),d[N]instanceof d.Table&&(d[N].core=C.core))})}function gc(d,p,y,S){y.forEach(function(C){var N=S[C];p.forEach(function(P){var A=function L(M,B){return j(M,B)||(M=u(M))&&L(M,B)}(P,C);(!A||"value"in A&&A.value===void 0)&&(P===d.Transaction.prototype||P instanceof d.Transaction?k(P,C,{get:function(){return this.table(C)},set:function(L){w(this,C,{value:L,writable:!0,configurable:!0,enumerable:!0})}}):P[C]=new d.Table(C,N))})})}function Vf(d,p){p.forEach(function(y){for(var S in y)y[S]instanceof d.Table&&delete y[S]})}function AN(d,p){return d._cfg.version-p._cfg.version}function ON(d,p,y,S){var C=d._dbSchema;y.objectStoreNames.contains("$meta")&&!C.$meta&&(C.$meta=Ff("$meta",Vv("")[0],[]),d._storeNames.push("$meta"));var N=d._createTransaction("readwrite",d._storeNames,C);N.create(y),N._completion.catch(S);var P=N._reject.bind(N),A=be.transless||be;qr(function(){return be.trans=N,be.transless=A,p!==0?(mc(d,y),M=p,((L=N).storeNames.includes("$meta")?L.table("$meta").get("version").then(function(B){return B??M}):he.resolve(M)).then(function(B){return z=B,I=N,V=y,U=[],B=(O=d)._versions,$=O._dbSchema=vc(0,O.idbdb,V),(B=B.filter(function(W){return W._cfg.version>=z})).length!==0?(B.forEach(function(W){U.push(function(){var H=$,q=W._cfg.dbschema;xc(O,H,V),xc(O,q,V),$=O._dbSchema=q;var X=Bf(H,q);X.add.forEach(function(de){Uf(V,de[0],de[1].primKey,de[1].indexes)}),X.change.forEach(function(de){if(de.recreate)throw new fe.Upgrade("Not yet support for changing primary key");var le=V.objectStore(de.name);de.add.forEach(function(ye){return yc(le,ye)}),de.change.forEach(function(ye){le.deleteIndex(ye.name),yc(le,ye)}),de.del.forEach(function(ye){return le.deleteIndex(ye)})});var re=W._cfg.contentUpgrade;if(re&&W._cfg.version>z){mc(O,V),I._memoizedTables={};var ce=F(q);X.del.forEach(function(de){ce[de]=H[de]}),Vf(O,[O.Transaction.prototype]),gc(O,[O.Transaction.prototype],o(ce),ce),I.schema=ce;var se,oe=me(re);return oe&&Ui(),X=he.follow(function(){var de;(se=re(I))&&oe&&(de=Yr.bind(null,null),se.then(de,de))}),se&&typeof se.then=="function"?he.resolve(se):X.then(function(){return se})}}),U.push(function(H){var q,X,re=W._cfg.dbschema;q=re,X=H,[].slice.call(X.db.objectStoreNames).forEach(function(ce){return q[ce]==null&&X.db.deleteObjectStore(ce)}),Vf(O,[O.Transaction.prototype]),gc(O,[O.Transaction.prototype],O._storeNames,O._dbSchema),I.schema=O._dbSchema}),U.push(function(H){O.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(O.idbdb.version/10)===W._cfg.version?(O.idbdb.deleteObjectStore("$meta"),delete O._dbSchema.$meta,O._storeNames=O._storeNames.filter(function(q){return q!=="$meta"})):H.objectStore("$meta").put(W._cfg.version,"version"))})}),function W(){return U.length?he.resolve(U.shift()(I.idbtrans)).then(W):he.resolve()}().then(function(){$v($,V)})):he.resolve();var O,z,I,V,U,$}).catch(P)):(o(C).forEach(function(B){Uf(y,B,C[B].primKey,C[B].indexes)}),mc(d,y),void he.follow(function(){return d.on.populate.fire(N)}).catch(P));var L,M})}function DN(d,p){$v(d._dbSchema,p),p.db.version%10!=0||p.objectStoreNames.contains("$meta")||p.db.createObjectStore("$meta").add(Math.ceil(p.db.version/10-1),"version");var y=vc(0,d.idbdb,p);xc(d,d._dbSchema,p);for(var S=0,C=Bf(y,d._dbSchema).change;S<C.length;S++){var N=function(P){if(P.change.length||P.recreate)return console.warn("Unable to patch indexes of table ".concat(P.name," because it has changes on the type of index or primary key.")),{value:void 0};var A=p.objectStore(P.name);P.add.forEach(function(L){ir&&console.debug("Dexie upgrade patch: Creating missing index ".concat(P.name,".").concat(L.src)),yc(A,L)})}(C[S]);if(typeof N=="object")return N.value}}function Bf(d,p){var y,S={del:[],add:[],change:[]};for(y in d)p[y]||S.del.push(y);for(y in p){var C=d[y],N=p[y];if(C){var P={name:y,def:N,recreate:!1,del:[],add:[],change:[]};if(""+(C.primKey.keyPath||"")!=""+(N.primKey.keyPath||"")||C.primKey.auto!==N.primKey.auto)P.recreate=!0,S.change.push(P);else{var A=C.idxByName,L=N.idxByName,M=void 0;for(M in A)L[M]||P.del.push(M);for(M in L){var B=A[M],O=L[M];B?B.src!==O.src&&P.change.push(O):P.add.push(O)}(0<P.del.length||0<P.add.length||0<P.change.length)&&S.change.push(P)}}else S.add.push([y,N])}return S}function Uf(d,p,y,S){var C=d.db.createObjectStore(p,y.keyPath?{keyPath:y.keyPath,autoIncrement:y.auto}:{autoIncrement:y.auto});return S.forEach(function(N){return yc(C,N)}),C}function $v(d,p){o(d).forEach(function(y){p.db.objectStoreNames.contains(y)||(ir&&console.debug("Dexie: Creating missing table",y),Uf(p,y,d[y].primKey,d[y].indexes))})}function yc(d,p){d.createIndex(p.name,p.keyPath,{unique:p.unique,multiEntry:p.multi})}function vc(d,p,y){var S={};return x(p.objectStoreNames,0).forEach(function(C){for(var N=y.objectStore(C),P=Mf(Mv(M=N.keyPath),M||"",!0,!1,!!N.autoIncrement,M&&typeof M!="string",!0),A=[],L=0;L<N.indexNames.length;++L){var B=N.index(N.indexNames[L]),M=B.keyPath,B=Mf(B.name,M,!!B.unique,!!B.multiEntry,!1,M&&typeof M!="string",!1);A.push(B)}S[C]=Ff(C,P,A)}),S}function xc(d,p,y){for(var S=y.db.objectStoreNames,C=0;C<S.length;++C){var N=S[C],P=y.objectStore(N);d._hasGetAll="getAll"in P;for(var A=0;A<P.indexNames.length;++A){var L=P.indexNames[A],M=P.index(L).keyPath,B=typeof M=="string"?M:"["+x(M).join("+")+"]";!p[N]||(M=p[N].idxByName[B])&&(M.name=L,delete p[N].idxByName[B],p[N].idxByName[L]=M)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&i.WorkerGlobalScope&&i instanceof i.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(d._hasGetAll=!1)}function Vv(d){return d.split(",").map(function(p,y){var S=(p=p.trim()).replace(/([&*]|\+\+)/g,""),C=/^\[/.test(S)?S.match(/^\[(.*)\]$/)[1].split("+"):S;return Mf(S,C||null,/\&/.test(p),/\*/.test(p),/\+\+/.test(p),a(C),y===0)})}var LN=(wc.prototype._parseStoresSpec=function(d,p){o(d).forEach(function(y){if(d[y]!==null){var S=Vv(d[y]),C=S.shift();if(C.unique=!0,C.multi)throw new fe.Schema("Primary key cannot be multi-valued");S.forEach(function(N){if(N.auto)throw new fe.Schema("Only primary key can be marked as autoIncrement (++)");if(!N.keyPath)throw new fe.Schema("Index must have a name and cannot be an empty string")}),p[y]=Ff(y,C,S)}})},wc.prototype.stores=function(y){var p=this.db;this._cfg.storesSource=this._cfg.storesSource?c(this._cfg.storesSource,y):y;var y=p._versions,S={},C={};return y.forEach(function(N){c(S,N._cfg.storesSource),C=N._cfg.dbschema={},N._parseStoresSpec(S,C)}),p._dbSchema=C,Vf(p,[p._allTables,p,p.Transaction.prototype]),gc(p,[p._allTables,p,p.Transaction.prototype,this._cfg.tables],o(C),C),p._storeNames=o(C),this},wc.prototype.upgrade=function(d){return this._cfg.contentUpgrade=Sf(this._cfg.contentUpgrade||we,d),this},wc);function wc(){}function zf(d,p){var y=d._dbNamesDB;return y||(y=d._dbNamesDB=new _r(uc,{addons:[],indexedDB:d,IDBKeyRange:p})).version(1).stores({dbnames:"name"}),y.table("dbnames")}function Wf(d){return d&&typeof d.databases=="function"}function Kf(d){return qr(function(){return be.letThrough=!0,d()})}function Hf(d){return!("from"in d)}var Ut=function(d,p){if(!this){var y=new Ut;return d&&"d"in d&&c(y,d),y}c(this,arguments.length?{d:1,from:d,to:1<arguments.length?p:d}:{d:0})};function ja(d,p,y){var S=Be(p,y);if(!isNaN(S)){if(0<S)throw RangeError();if(Hf(d))return c(d,{from:p,to:y,d:1});var C=d.l,S=d.r;if(Be(y,d.from)<0)return C?ja(C,p,y):d.l={from:p,to:y,d:1,l:null,r:null},Uv(d);if(0<Be(p,d.to))return S?ja(S,p,y):d.r={from:p,to:y,d:1,l:null,r:null},Uv(d);Be(p,d.from)<0&&(d.from=p,d.l=null,d.d=S?S.d+1:1),0<Be(y,d.to)&&(d.to=y,d.r=null,d.d=d.l?d.l.d+1:1),y=!d.r,C&&!d.l&&ka(d,C),S&&y&&ka(d,S)}}function ka(d,p){Hf(p)||function y(S,L){var N=L.from,P=L.to,A=L.l,L=L.r;ja(S,N,P),A&&y(S,A),L&&y(S,L)}(d,p)}function Bv(d,p){var y=bc(p),S=y.next();if(S.done)return!1;for(var C=S.value,N=bc(d),P=N.next(C.from),A=P.value;!S.done&&!P.done;){if(Be(A.from,C.to)<=0&&0<=Be(A.to,C.from))return!0;Be(C.from,A.from)<0?C=(S=y.next(A.from)).value:A=(P=N.next(C.from)).value}return!1}function bc(d){var p=Hf(d)?null:{s:0,n:d};return{next:function(y){for(var S=0<arguments.length;p;)switch(p.s){case 0:if(p.s=1,S)for(;p.n.l&&Be(y,p.n.from)<0;)p={up:p,n:p.n.l,s:1};else for(;p.n.l;)p={up:p,n:p.n.l,s:1};case 1:if(p.s=2,!S||Be(y,p.n.to)<=0)return{value:p.n,done:!1};case 2:if(p.n.r){p.s=3,p={up:p,n:p.n.r,s:0};continue}case 3:p=p.up}return{done:!0}}}}function Uv(d){var p,y,S=(((p=d.r)===null||p===void 0?void 0:p.d)||0)-(((y=d.l)===null||y===void 0?void 0:y.d)||0),C=1<S?"r":S<-1?"l":"";C&&(p=C=="r"?"l":"r",y=r({},d),S=d[C],d.from=S.from,d.to=S.to,d[C]=S[C],y[C]=S[p],(d[p]=y).d=zv(y)),d.d=zv(d)}function zv(y){var p=y.r,y=y.l;return(p?y?Math.max(p.d,y.d):p.d:y?y.d:0)+1}function Sc(d,p){return o(p).forEach(function(y){d[y]?ka(d[y],p[y]):d[y]=function S(C){var N,P,A={};for(N in C)h(C,N)&&(P=C[N],A[N]=!P||typeof P!="object"||ie.has(P.constructor)?P:S(P));return A}(p[y])}),d}function qf(d,p){return d.all||p.all||Object.keys(d).some(function(y){return p[y]&&Bv(p[y],d[y])})}g(Ut.prototype,((En={add:function(d){return ka(this,d),this},addKey:function(d){return ja(this,d,d),this},addKeys:function(d){var p=this;return d.forEach(function(y){return ja(p,y,y)}),this},hasKey:function(d){var p=bc(this).next(d).value;return p&&Be(p.from,d)<=0&&0<=Be(p.to,d)}})[J]=function(){return bc(this)},En));var ei={},Yf={},Gf=!1;function _c(d){Sc(Yf,d),Gf||(Gf=!0,setTimeout(function(){Gf=!1,Xf(Yf,!(Yf={}))},0))}function Xf(d,p){p===void 0&&(p=!1);var y=new Set;if(d.all)for(var S=0,C=Object.values(ei);S<C.length;S++)Wv(P=C[S],d,y,p);else for(var N in d){var P,A=/^idb\:\/\/(.*)\/(.*)\//.exec(N);A&&(N=A[1],A=A[2],(P=ei["idb://".concat(N,"/").concat(A)])&&Wv(P,d,y,p))}y.forEach(function(L){return L()})}function Wv(d,p,y,S){for(var C=[],N=0,P=Object.entries(d.queries.query);N<P.length;N++){for(var A=P[N],L=A[0],M=[],B=0,O=A[1];B<O.length;B++){var z=O[B];qf(p,z.obsSet)?z.subscribers.forEach(function($){return y.add($)}):S&&M.push(z)}S&&C.push([L,M])}if(S)for(var I=0,V=C;I<V.length;I++){var U=V[I],L=U[0],M=U[1];d.queries.query[L]=M}}function IN(d){var p=d._state,y=d._deps.indexedDB;if(p.isBeingOpened||d.idbdb)return p.dbReadyPromise.then(function(){return p.dbOpenError?vt(p.dbOpenError):d});p.isBeingOpened=!0,p.dbOpenError=null,p.openComplete=!1;var S=p.openCanceller,C=Math.round(10*d.verno),N=!1;function P(){if(p.openCanceller!==S)throw new fe.DatabaseClosed("db.open() was cancelled")}function A(){return new he(function(z,I){if(P(),!y)throw new fe.MissingAPI;var V=d.name,U=p.autoSchema||!C?y.open(V):y.open(V,C);if(!U)throw new fe.MissingAPI;U.onerror=or(I),U.onblocked=at(d._fireOnBlocked),U.onupgradeneeded=at(function($){var W;B=U.transaction,p.autoSchema&&!d._options.allowEmptyDB?(U.onerror=wa,B.abort(),U.result.close(),(W=y.deleteDatabase(V)).onsuccess=W.onerror=at(function(){I(new fe.NoSuchDatabase("Database ".concat(V," doesnt exist")))})):(B.onerror=or(I),$=$.oldVersion>Math.pow(2,62)?0:$.oldVersion,O=$<1,d.idbdb=U.result,N&&DN(d,B),ON(d,$/10,B,I))},I),U.onsuccess=at(function(){B=null;var $,W,H,q,X,re=d.idbdb=U.result,ce=x(re.objectStoreNames);if(0<ce.length)try{var se=re.transaction((q=ce).length===1?q[0]:q,"readonly");if(p.autoSchema)W=re,H=se,($=d).verno=W.version/10,H=$._dbSchema=vc(0,W,H),$._storeNames=x(W.objectStoreNames,0),gc($,[$._allTables],o(H),H);else if(xc(d,d._dbSchema,se),((X=Bf(vc(0,(X=d).idbdb,se),X._dbSchema)).add.length||X.change.some(function(oe){return oe.add.length||oe.change.length}))&&!N)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),re.close(),C=re.version+1,N=!0,z(A());mc(d,se)}catch{}zi.push(d),re.onversionchange=at(function(oe){p.vcFired=!0,d.on("versionchange").fire(oe)}),re.onclose=at(function(oe){d.on("close").fire(oe)}),O&&(X=d._deps,se=V,re=X.indexedDB,X=X.IDBKeyRange,Wf(re)||se===uc||zf(re,X).put({name:se}).catch(we)),z()},I)}).catch(function(z){switch(z==null?void 0:z.name){case"UnknownError":if(0<p.PR1398_maxLoop)return p.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),A();break;case"VersionError":if(0<C)return C=0,A()}return he.reject(z)})}var L,M=p.dbReadyResolve,B=null,O=!1;return he.race([S,(typeof navigator>"u"?he.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(z){function I(){return indexedDB.databases().finally(z)}L=setInterval(I,100),I()}).finally(function(){return clearInterval(L)}):Promise.resolve()).then(A)]).then(function(){return P(),p.onReadyBeingFired=[],he.resolve(Kf(function(){return d.on.ready.fire(d.vip)})).then(function z(){if(0<p.onReadyBeingFired.length){var I=p.onReadyBeingFired.reduce(Sf,we);return p.onReadyBeingFired=[],he.resolve(Kf(function(){return I(d.vip)})).then(z)}})}).finally(function(){p.openCanceller===S&&(p.onReadyBeingFired=null,p.isBeingOpened=!1)}).catch(function(z){p.dbOpenError=z;try{B&&B.abort()}catch{}return S===p.openCanceller&&d._close(),vt(z)}).finally(function(){p.openComplete=!0,M()}).then(function(){var z;return O&&(z={},d.tables.forEach(function(I){I.schema.indexes.forEach(function(V){V.name&&(z["idb://".concat(d.name,"/").concat(I.name,"/").concat(V.name)]=new Ut(-1/0,[[[]]]))}),z["idb://".concat(d.name,"/").concat(I.name,"/")]=z["idb://".concat(d.name,"/").concat(I.name,"/:dels")]=new Ut(-1/0,[[[]]])}),Qr(ba).fire(z),Xf(z,!0)),d})}function Qf(d){function p(N){return d.next(N)}var y=C(p),S=C(function(N){return d.throw(N)});function C(N){return function(L){var A=N(L),L=A.value;return A.done?L:L&&typeof L.then=="function"?L.then(y,S):a(L)?Promise.all(L).then(y,S):y(L)}}return C(p)()}function jc(d,p,y){for(var S=a(d)?d.slice():[d],C=0;C<y;++C)S.push(p);return S}var MN={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(d){return r(r({},d),{table:function(p){var y=d.table(p),S=y.schema,C={},N=[];function P(O,z,I){var V=_a(O),U=C[V]=C[V]||[],$=O==null?0:typeof O=="string"?1:O.length,W=0<z,W=r(r({},I),{name:W?"".concat(V,"(virtual-from:").concat(I.name,")"):I.name,lowLevelIndex:I,isVirtual:W,keyTail:z,keyLength:$,extractKey:$f(O),unique:!W&&I.unique});return U.push(W),W.isPrimaryKey||N.push(W),1<$&&P($===2?O[0]:O.slice(0,$-1),z+1,I),U.sort(function(H,q){return H.keyTail-q.keyTail}),W}p=P(S.primaryKey.keyPath,0,S.primaryKey),C[":id"]=[p];for(var A=0,L=S.indexes;A<L.length;A++){var M=L[A];P(M.keyPath,0,M)}function B(O){var z,I=O.query.index;return I.isVirtual?r(r({},O),{query:{index:I.lowLevelIndex,range:(z=O.query.range,I=I.keyTail,{type:z.type===1?2:z.type,lower:jc(z.lower,z.lowerOpen?d.MAX_KEY:d.MIN_KEY,I),lowerOpen:!0,upper:jc(z.upper,z.upperOpen?d.MIN_KEY:d.MAX_KEY,I),upperOpen:!0})}}):O}return r(r({},y),{schema:r(r({},S),{primaryKey:p,indexes:N,getIndexByKeyPath:function(O){return(O=C[_a(O)])&&O[0]}}),count:function(O){return y.count(B(O))},query:function(O){return y.query(B(O))},openCursor:function(O){var z=O.query.index,I=z.keyTail,V=z.isVirtual,U=z.keyLength;return V?y.openCursor(B(O)).then(function(W){return W&&$(W)}):y.openCursor(O);function $(W){return Object.create(W,{continue:{value:function(H){H!=null?W.continue(jc(H,O.reverse?d.MAX_KEY:d.MIN_KEY,I)):O.unique?W.continue(W.key.slice(0,U).concat(O.reverse?d.MIN_KEY:d.MAX_KEY,I)):W.continue()}},continuePrimaryKey:{value:function(H,q){W.continuePrimaryKey(jc(H,d.MAX_KEY,I),q)}},primaryKey:{get:function(){return W.primaryKey}},key:{get:function(){var H=W.key;return U===1?H[0]:H.slice(0,U)}},value:{get:function(){return W.value}}})}}})}})}};function Jf(d,p,y,S){return y=y||{},S=S||"",o(d).forEach(function(C){var N,P,A;h(p,C)?(N=d[C],P=p[C],typeof N=="object"&&typeof P=="object"&&N&&P?(A=te(N))!==te(P)?y[S+C]=p[C]:A==="Object"?Jf(N,P,y,S+C+"."):N!==P&&(y[S+C]=p[C]):N!==P&&(y[S+C]=p[C])):y[S+C]=void 0}),o(p).forEach(function(C){h(d,C)||(y[S+C]=p[C])}),y}function Zf(d,p){return p.type==="delete"?p.keys:p.keys||p.values.map(d.extractKey)}var FN={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(d){return r(r({},d),{table:function(p){var y=d.table(p),S=y.schema.primaryKey;return r(r({},y),{mutate:function(C){var N=be.trans,P=N.table(p).hook,A=P.deleting,L=P.creating,M=P.updating;switch(C.type){case"add":if(L.fire===we)break;return N._promise("readwrite",function(){return B(C)},!0);case"put":if(L.fire===we&&M.fire===we)break;return N._promise("readwrite",function(){return B(C)},!0);case"delete":if(A.fire===we)break;return N._promise("readwrite",function(){return B(C)},!0);case"deleteRange":if(A.fire===we)break;return N._promise("readwrite",function(){return function O(z,I,V){return y.query({trans:z,values:!1,query:{index:S,range:I},limit:V}).then(function(U){var $=U.result;return B({type:"delete",keys:$,trans:z}).then(function(W){return 0<W.numFailures?Promise.reject(W.failures[0]):$.length<V?{failures:[],numFailures:0,lastResult:void 0}:O(z,r(r({},I),{lower:$[$.length-1],lowerOpen:!0}),V)})})}(C.trans,C.range,1e4)},!0)}return y.mutate(C);function B(O){var z,I,V,U=be.trans,$=O.keys||Zf(S,O);if(!$)throw new Error("Keys missing");return(O=O.type==="add"||O.type==="put"?r(r({},O),{keys:$}):r({},O)).type!=="delete"&&(O.values=s([],O.values,!0)),O.keys&&(O.keys=s([],O.keys,!0)),z=y,V=$,((I=O).type==="add"?Promise.resolve([]):z.getMany({trans:I.trans,keys:V,cache:"immutable"})).then(function(W){var H=$.map(function(q,X){var re,ce,se,oe=W[X],de={onerror:null,onsuccess:null};return O.type==="delete"?A.fire.call(de,q,oe,U):O.type==="add"||oe===void 0?(re=L.fire.call(de,q,O.values[X],U),q==null&&re!=null&&(O.keys[X]=q=re,S.outbound||T(O.values[X],S.keyPath,q))):(re=Jf(oe,O.values[X]),(ce=M.fire.call(de,re,q,oe,U))&&(se=O.values[X],Object.keys(ce).forEach(function(le){h(se,le)?se[le]=ce[le]:T(se,le,ce[le])}))),de});return y.mutate(O).then(function(q){for(var X=q.failures,re=q.results,ce=q.numFailures,q=q.lastResult,se=0;se<$.length;++se){var oe=(re||$)[se],de=H[se];oe==null?de.onerror&&de.onerror(X[se]):de.onsuccess&&de.onsuccess(O.type==="put"&&W[se]?O.values[se]:oe)}return{failures:X,results:re,numFailures:ce,lastResult:q}}).catch(function(q){return H.forEach(function(X){return X.onerror&&X.onerror(q)}),Promise.reject(q)})})}}})}})}};function Kv(d,p,y){try{if(!p||p.keys.length<d.length)return null;for(var S=[],C=0,N=0;C<p.keys.length&&N<d.length;++C)Be(p.keys[C],d[N])===0&&(S.push(y?pe(p.values[C]):p.values[C]),++N);return S.length===d.length?S:null}catch{return null}}var $N={stack:"dbcore",level:-1,create:function(d){return{table:function(p){var y=d.table(p);return r(r({},y),{getMany:function(S){if(!S.cache)return y.getMany(S);var C=Kv(S.keys,S.trans._cache,S.cache==="clone");return C?he.resolve(C):y.getMany(S).then(function(N){return S.trans._cache={keys:S.keys,values:S.cache==="clone"?pe(N):N},N})},mutate:function(S){return S.type!=="add"&&(S.trans._cache=null),y.mutate(S)}})}}}};function Hv(d,p){return d.trans.mode==="readonly"&&!!d.subscr&&!d.trans.explicit&&d.trans.db._options.cache!=="disabled"&&!p.schema.primaryKey.outbound}function qv(d,p){switch(d){case"query":return p.values&&!p.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var VN={stack:"dbcore",level:0,name:"Observability",create:function(d){var p=d.schema.name,y=new Ut(d.MIN_KEY,d.MAX_KEY);return r(r({},d),{transaction:function(S,C,N){if(be.subscr&&C!=="readonly")throw new fe.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(be.querier));return d.transaction(S,C,N)},table:function(S){var C=d.table(S),N=C.schema,P=N.primaryKey,O=N.indexes,A=P.extractKey,L=P.outbound,M=P.autoIncrement&&O.filter(function(I){return I.compound&&I.keyPath.includes(P.keyPath)}),B=r(r({},C),{mutate:function(I){function V(le){return le="idb://".concat(p,"/").concat(S,"/").concat(le),q[le]||(q[le]=new Ut)}var U,$,W,H=I.trans,q=I.mutatedParts||(I.mutatedParts={}),X=V(""),re=V(":dels"),ce=I.type,de=I.type==="deleteRange"?[I.range]:I.type==="delete"?[I.keys]:I.values.length<50?[Zf(P,I).filter(function(le){return le}),I.values]:[],se=de[0],oe=de[1],de=I.trans._cache;return a(se)?(X.addKeys(se),(de=ce==="delete"||se.length===oe.length?Kv(se,de):null)||re.addKeys(se),(de||oe)&&(U=V,$=de,W=oe,N.indexes.forEach(function(le){var ye=U(le.name||"");function Ee(Le){return Le!=null?le.extractKey(Le):null}function De(Le){return le.multiEntry&&a(Le)?Le.forEach(function(hn){return ye.addKey(hn)}):ye.addKey(Le)}($||W).forEach(function(Le,zt){var Ce=$&&Ee($[zt]),zt=W&&Ee(W[zt]);Be(Ce,zt)!==0&&(Ce!=null&&De(Ce),zt!=null&&De(zt))})}))):se?(oe={from:(oe=se.lower)!==null&&oe!==void 0?oe:d.MIN_KEY,to:(oe=se.upper)!==null&&oe!==void 0?oe:d.MAX_KEY},re.add(oe),X.add(oe)):(X.add(y),re.add(y),N.indexes.forEach(function(le){return V(le.name).add(y)})),C.mutate(I).then(function(le){return!se||I.type!=="add"&&I.type!=="put"||(X.addKeys(le.results),M&&M.forEach(function(ye){for(var Ee=I.values.map(function(Ce){return ye.extractKey(Ce)}),De=ye.keyPath.findIndex(function(Ce){return Ce===P.keyPath}),Le=0,hn=le.results.length;Le<hn;++Le)Ee[Le][De]=le.results[Le];V(ye.name).addKeys(Ee)})),H.mutatedParts=Sc(H.mutatedParts||{},q),le})}}),O=function(V){var U=V.query,V=U.index,U=U.range;return[V,new Ut((V=U.lower)!==null&&V!==void 0?V:d.MIN_KEY,(U=U.upper)!==null&&U!==void 0?U:d.MAX_KEY)]},z={get:function(I){return[P,new Ut(I.key)]},getMany:function(I){return[P,new Ut().addKeys(I.keys)]},count:O,query:O,openCursor:O};return o(z).forEach(function(I){B[I]=function(V){var U=be.subscr,$=!!U,W=Hv(be,C)&&qv(I,V)?V.obsSet={}:U;if($){var H=function(oe){return oe="idb://".concat(p,"/").concat(S,"/").concat(oe),W[oe]||(W[oe]=new Ut)},q=H(""),X=H(":dels"),U=z[I](V),$=U[0],U=U[1];if((I==="query"&&$.isPrimaryKey&&!V.values?X:H($.name||"")).add(U),!$.isPrimaryKey){if(I!=="count"){var re=I==="query"&&L&&V.values&&C.query(r(r({},V),{values:!1}));return C[I].apply(this,arguments).then(function(oe){if(I==="query"){if(L&&V.values)return re.then(function(Ee){return Ee=Ee.result,q.addKeys(Ee),oe});var de=V.values?oe.result.map(A):oe.result;(V.values?q:X).addKeys(de)}else if(I==="openCursor"){var le=oe,ye=V.values;return le&&Object.create(le,{key:{get:function(){return X.addKey(le.primaryKey),le.key}},primaryKey:{get:function(){var Ee=le.primaryKey;return X.addKey(Ee),Ee}},value:{get:function(){return ye&&q.addKey(le.primaryKey),le.value}}})}return oe})}X.add(y)}}return C[I].apply(this,arguments)}}),B}})}};function Yv(d,p,y){if(y.numFailures===0)return p;if(p.type==="deleteRange")return null;var S=p.keys?p.keys.length:"values"in p&&p.values?p.values.length:1;return y.numFailures===S?null:(p=r({},p),a(p.keys)&&(p.keys=p.keys.filter(function(C,N){return!(N in y.failures)})),"values"in p&&a(p.values)&&(p.values=p.values.filter(function(C,N){return!(N in y.failures)})),p)}function eh(d,p){return y=d,((S=p).lower===void 0||(S.lowerOpen?0<Be(y,S.lower):0<=Be(y,S.lower)))&&(d=d,(p=p).upper===void 0||(p.upperOpen?Be(d,p.upper)<0:Be(d,p.upper)<=0));var y,S}function Gv(d,p,z,S,C,N){if(!z||z.length===0)return d;var P=p.query.index,A=P.multiEntry,L=p.query.range,M=S.schema.primaryKey.extractKey,B=P.extractKey,O=(P.lowLevelIndex||P).extractKey,z=z.reduce(function(I,V){var U=I,$=[];if(V.type==="add"||V.type==="put")for(var W=new Ut,H=V.values.length-1;0<=H;--H){var q,X=V.values[H],re=M(X);W.hasKey(re)||(q=B(X),(A&&a(q)?q.some(function(le){return eh(le,L)}):eh(q,L))&&(W.addKey(re),$.push(X)))}switch(V.type){case"add":var ce=new Ut().addKeys(p.values?I.map(function(ye){return M(ye)}):I),U=I.concat(p.values?$.filter(function(ye){return ye=M(ye),!ce.hasKey(ye)&&(ce.addKey(ye),!0)}):$.map(function(ye){return M(ye)}).filter(function(ye){return!ce.hasKey(ye)&&(ce.addKey(ye),!0)}));break;case"put":var se=new Ut().addKeys(V.values.map(function(ye){return M(ye)}));U=I.filter(function(ye){return!se.hasKey(p.values?M(ye):ye)}).concat(p.values?$:$.map(function(ye){return M(ye)}));break;case"delete":var oe=new Ut().addKeys(V.keys);U=I.filter(function(ye){return!oe.hasKey(p.values?M(ye):ye)});break;case"deleteRange":var de=V.range;U=I.filter(function(ye){return!eh(M(ye),de)})}return U},d);return z===d?d:(z.sort(function(I,V){return Be(O(I),O(V))||Be(M(I),M(V))}),p.limit&&p.limit<1/0&&(z.length>p.limit?z.length=p.limit:d.length===p.limit&&z.length<p.limit&&(C.dirty=!0)),N?Object.freeze(z):z)}function Xv(d,p){return Be(d.lower,p.lower)===0&&Be(d.upper,p.upper)===0&&!!d.lowerOpen==!!p.lowerOpen&&!!d.upperOpen==!!p.upperOpen}function BN(d,p){return function(y,S,C,N){if(y===void 0)return S!==void 0?-1:0;if(S===void 0)return 1;if((S=Be(y,S))===0){if(C&&N)return 0;if(C)return 1;if(N)return-1}return S}(d.lower,p.lower,d.lowerOpen,p.lowerOpen)<=0&&0<=function(y,S,C,N){if(y===void 0)return S!==void 0?1:0;if(S===void 0)return-1;if((S=Be(y,S))===0){if(C&&N)return 0;if(C)return-1;if(N)return 1}return S}(d.upper,p.upper,d.upperOpen,p.upperOpen)}function UN(d,p,y,S){d.subscribers.add(y),S.addEventListener("abort",function(){var C,N;d.subscribers.delete(y),d.subscribers.size===0&&(C=d,N=p,setTimeout(function(){C.subscribers.size===0&&G(N,C)},3e3))})}var zN={stack:"dbcore",level:0,name:"Cache",create:function(d){var p=d.schema.name;return r(r({},d),{transaction:function(y,S,C){var N,P,A=d.transaction(y,S,C);return S==="readwrite"&&(P=(N=new AbortController).signal,C=function(L){return function(){if(N.abort(),S==="readwrite"){for(var M=new Set,B=0,O=y;B<O.length;B++){var z=O[B],I=ei["idb://".concat(p,"/").concat(z)];if(I){var V=d.table(z),U=I.optimisticOps.filter(function(ye){return ye.trans===A});if(A._explicit&&L&&A.mutatedParts)for(var $=0,W=Object.values(I.queries.query);$<W.length;$++)for(var H=0,q=(ce=W[$]).slice();H<q.length;H++)qf((se=q[H]).obsSet,A.mutatedParts)&&(G(ce,se),se.subscribers.forEach(function(ye){return M.add(ye)}));else if(0<U.length){I.optimisticOps=I.optimisticOps.filter(function(ye){return ye.trans!==A});for(var X=0,re=Object.values(I.queries.query);X<re.length;X++)for(var ce,se,oe,de=0,le=(ce=re[X]).slice();de<le.length;de++)(se=le[de]).res!=null&&A.mutatedParts&&(L&&!se.dirty?(oe=Object.isFrozen(se.res),oe=Gv(se.res,se.req,U,V,se,oe),se.dirty?(G(ce,se),se.subscribers.forEach(function(ye){return M.add(ye)})):oe!==se.res&&(se.res=oe,se.promise=he.resolve({result:oe}))):(se.dirty&&G(ce,se),se.subscribers.forEach(function(ye){return M.add(ye)})))}}}M.forEach(function(ye){return ye()})}}},A.addEventListener("abort",C(!1),{signal:P}),A.addEventListener("error",C(!1),{signal:P}),A.addEventListener("complete",C(!0),{signal:P})),A},table:function(y){var S=d.table(y),C=S.schema.primaryKey;return r(r({},S),{mutate:function(N){var P=be.trans;if(C.outbound||P.db._options.cache==="disabled"||P.explicit||P.idbtrans.mode!=="readwrite")return S.mutate(N);var A=ei["idb://".concat(p,"/").concat(y)];return A?(P=S.mutate(N),N.type!=="add"&&N.type!=="put"||!(50<=N.values.length||Zf(C,N).some(function(L){return L==null}))?(A.optimisticOps.push(N),N.mutatedParts&&_c(N.mutatedParts),P.then(function(L){0<L.numFailures&&(G(A.optimisticOps,N),(L=Yv(0,N,L))&&A.optimisticOps.push(L),N.mutatedParts&&_c(N.mutatedParts))}),P.catch(function(){G(A.optimisticOps,N),N.mutatedParts&&_c(N.mutatedParts)})):P.then(function(L){var M=Yv(0,r(r({},N),{values:N.values.map(function(B,O){var z;return L.failures[O]?B:(B=(z=C.keyPath)!==null&&z!==void 0&&z.includes(".")?pe(B):r({},B),T(B,C.keyPath,L.results[O]),B)})}),L);A.optimisticOps.push(M),queueMicrotask(function(){return N.mutatedParts&&_c(N.mutatedParts)})}),P):S.mutate(N)},query:function(N){if(!Hv(be,S)||!qv("query",N))return S.query(N);var P=((M=be.trans)===null||M===void 0?void 0:M.db._options.cache)==="immutable",O=be,A=O.requery,L=O.signal,M=function(V,U,$,W){var H=ei["idb://".concat(V,"/").concat(U)];if(!H)return[];if(!(U=H.queries[$]))return[null,!1,H,null];var q=U[(W.query?W.query.index.name:null)||""];if(!q)return[null,!1,H,null];switch($){case"query":var X=q.find(function(re){return re.req.limit===W.limit&&re.req.values===W.values&&Xv(re.req.query.range,W.query.range)});return X?[X,!0,H,q]:[q.find(function(re){return("limit"in re.req?re.req.limit:1/0)>=W.limit&&(!W.values||re.req.values)&&BN(re.req.query.range,W.query.range)}),!1,H,q];case"count":return X=q.find(function(re){return Xv(re.req.query.range,W.query.range)}),[X,!!X,H,q]}}(p,y,"query",N),B=M[0],O=M[1],z=M[2],I=M[3];return B&&O?B.obsSet=N.obsSet:(O=S.query(N).then(function(V){var U=V.result;if(B&&(B.res=U),P){for(var $=0,W=U.length;$<W;++$)Object.freeze(U[$]);Object.freeze(U)}else V.result=pe(U);return V}).catch(function(V){return I&&B&&G(I,B),Promise.reject(V)}),B={obsSet:N.obsSet,promise:O,subscribers:new Set,type:"query",req:N,dirty:!1},I?I.push(B):(I=[B],(z=z||(ei["idb://".concat(p,"/").concat(y)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[N.query.index.name||""]=I)),UN(B,I,A,L),B.promise.then(function(V){return{result:Gv(V.result,N,z==null?void 0:z.optimisticOps,S,B,P)}})}})}})}};function kc(d,p){return new Proxy(d,{get:function(y,S,C){return S==="db"?p:Reflect.get(y,S,C)}})}var _r=(xt.prototype.version=function(d){if(isNaN(d)||d<.1)throw new fe.Type("Given version is not a positive number");if(d=Math.round(10*d)/10,this.idbdb||this._state.isBeingOpened)throw new fe.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,d);var p=this._versions,y=p.filter(function(S){return S._cfg.version===d})[0];return y||(y=new this.Version(d),p.push(y),p.sort(AN),y.stores({}),this._state.autoSchema=!1,y)},xt.prototype._whenReady=function(d){var p=this;return this.idbdb&&(this._state.openComplete||be.letThrough||this._vip)?d():new he(function(y,S){if(p._state.openComplete)return S(new fe.DatabaseClosed(p._state.dbOpenError));if(!p._state.isBeingOpened){if(!p._state.autoOpen)return void S(new fe.DatabaseClosed);p.open().catch(we)}p._state.dbReadyPromise.then(y,S)}).then(d)},xt.prototype.use=function(d){var p=d.stack,y=d.create,S=d.level,C=d.name;return C&&this.unuse({stack:p,name:C}),d=this._middlewares[p]||(this._middlewares[p]=[]),d.push({stack:p,create:y,level:S??10,name:C}),d.sort(function(N,P){return N.level-P.level}),this},xt.prototype.unuse=function(d){var p=d.stack,y=d.name,S=d.create;return p&&this._middlewares[p]&&(this._middlewares[p]=this._middlewares[p].filter(function(C){return S?C.create!==S:!!y&&C.name!==y})),this},xt.prototype.open=function(){var d=this;return Qs(Hr,function(){return IN(d)})},xt.prototype._close=function(){var d=this._state,p=zi.indexOf(this);if(0<=p&&zi.splice(p,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}d.isBeingOpened||(d.dbReadyPromise=new he(function(y){d.dbReadyResolve=y}),d.openCanceller=new he(function(y,S){d.cancelOpen=S}))},xt.prototype.close=function(y){var p=(y===void 0?{disableAutoOpen:!0}:y).disableAutoOpen,y=this._state;p?(y.isBeingOpened&&y.cancelOpen(new fe.DatabaseClosed),this._close(),y.autoOpen=!1,y.dbOpenError=new fe.DatabaseClosed):(this._close(),y.autoOpen=this._options.autoOpen||y.isBeingOpened,y.openComplete=!1,y.dbOpenError=null)},xt.prototype.delete=function(d){var p=this;d===void 0&&(d={disableAutoOpen:!0});var y=0<arguments.length&&typeof arguments[0]!="object",S=this._state;return new he(function(C,N){function P(){p.close(d);var A=p._deps.indexedDB.deleteDatabase(p.name);A.onsuccess=at(function(){var L,M,B;L=p._deps,M=p.name,B=L.indexedDB,L=L.IDBKeyRange,Wf(B)||M===uc||zf(B,L).delete(M).catch(we),C()}),A.onerror=or(N),A.onblocked=p._fireOnBlocked}if(y)throw new fe.InvalidArgument("Invalid closeOptions argument to db.delete()");S.isBeingOpened?S.dbReadyPromise.then(P):P()})},xt.prototype.backendDB=function(){return this.idbdb},xt.prototype.isOpen=function(){return this.idbdb!==null},xt.prototype.hasBeenClosed=function(){var d=this._state.dbOpenError;return d&&d.name==="DatabaseClosed"},xt.prototype.hasFailed=function(){return this._state.dbOpenError!==null},xt.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(xt.prototype,"tables",{get:function(){var d=this;return o(this._allTables).map(function(p){return d._allTables[p]})},enumerable:!1,configurable:!0}),xt.prototype.transaction=function(){var d=(function(p,y,S){var C=arguments.length;if(C<2)throw new fe.InvalidArgument("Too few arguments");for(var N=new Array(C-1);--C;)N[C-1]=arguments[C];return S=N.pop(),[p,K(N),S]}).apply(this,arguments);return this._transaction.apply(this,d)},xt.prototype._transaction=function(d,p,y){var S=this,C=be.trans;C&&C.db===this&&d.indexOf("!")===-1||(C=null);var N,P,A=d.indexOf("?")!==-1;d=d.replace("!","").replace("?","");try{if(P=p.map(function(M){if(M=M instanceof S.Table?M.name:M,typeof M!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return M}),d=="r"||d===Rf)N=Rf;else{if(d!="rw"&&d!=Af)throw new fe.InvalidArgument("Invalid transaction mode: "+d);N=Af}if(C){if(C.mode===Rf&&N===Af){if(!A)throw new fe.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");C=null}C&&P.forEach(function(M){if(C&&C.storeNames.indexOf(M)===-1){if(!A)throw new fe.SubTransaction("Table "+M+" not included in parent transaction.");C=null}}),A&&C&&!C.active&&(C=null)}}catch(M){return C?C._promise(null,function(B,O){O(M)}):vt(M)}var L=(function M(B,O,z,I,V){return he.resolve().then(function(){var U=be.transless||be,$=B._createTransaction(O,z,B._dbSchema,I);if($.explicit=!0,U={trans:$,transless:U},I)$.idbtrans=I.idbtrans;else try{$.create(),$.idbtrans._explicit=!0,B._state.PR1398_maxLoop=3}catch(q){return q.name===Se.InvalidState&&B.isOpen()&&0<--B._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),B.close({disableAutoOpen:!1}),B.open().then(function(){return M(B,O,z,null,V)})):vt(q)}var W,H=me(V);return H&&Ui(),U=he.follow(function(){var q;(W=V.call($,$))&&(H?(q=Yr.bind(null,null),W.then(q,q)):typeof W.next=="function"&&typeof W.throw=="function"&&(W=Qf(W)))},U),(W&&typeof W.then=="function"?he.resolve(W).then(function(q){return $.active?q:vt(new fe.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):U.then(function(){return W})).then(function(q){return I&&$._resolve(),$._completion.then(function(){return q})}).catch(function(q){return $._reject(q),vt(q)})})}).bind(null,this,N,P,C,y);return C?C._promise(N,L,"lock"):be.trans?Qs(be.transless,function(){return S._whenReady(L)}):this._whenReady(L)},xt.prototype.table=function(d){if(!h(this._allTables,d))throw new fe.InvalidTable("Table ".concat(d," does not exist"));return this._allTables[d]},xt);function xt(d,p){var y=this;this._middlewares={},this.verno=0;var S=xt.dependencies;this._options=p=r({addons:xt.addons,autoOpen:!0,indexedDB:S.indexedDB,IDBKeyRange:S.IDBKeyRange,cache:"cloned"},p),this._deps={indexedDB:p.indexedDB,IDBKeyRange:p.IDBKeyRange},S=p.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var C,N,P,A,L,M={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:we,dbReadyPromise:null,cancelOpen:we,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:p.autoOpen};M.dbReadyPromise=new he(function(O){M.dbReadyResolve=O}),M.openCanceller=new he(function(O,z){M.cancelOpen=z}),this._state=M,this.name=d,this.on=ya(this,"populate","blocked","versionchange","close",{ready:[Sf,we]}),this.on.ready.subscribe=b(this.on.ready.subscribe,function(O){return function(z,I){xt.vip(function(){var V,U=y._state;U.openComplete?(U.dbOpenError||he.resolve().then(z),I&&O(z)):U.onReadyBeingFired?(U.onReadyBeingFired.push(z),I&&O(z)):(O(z),V=y,I||O(function $(){V.on.ready.unsubscribe(z),V.on.ready.unsubscribe($)}))})}}),this.Collection=(C=this,va(kN.prototype,function(W,$){this.db=C;var I=Ev,V=null;if($)try{I=$()}catch(H){V=H}var U=W._ctx,$=U.table,W=$.hook.reading.fire;this._ctx={table:$,index:U.index,isPrimKey:!U.index||$.schema.primKey.keyPath&&U.index===$.schema.primKey.name,range:I,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:V,or:U.or,valueMapper:W!==Ct?W:null}})),this.Table=(N=this,va(Rv.prototype,function(O,z,I){this.db=N,this._tx=I,this.name=O,this.schema=z,this.hook=N._allTables[O]?N._allTables[O].hook:ya(null,{creating:[Ks,we],reading:[Cn,Ct],updating:[bf,we],deleting:[Hs,we]})})),this.Transaction=(P=this,va(NN.prototype,function(O,z,I,V,U){var $=this;this.db=P,this.mode=O,this.storeNames=z,this.schema=I,this.chromeTransactionDurability=V,this.idbtrans=null,this.on=ya(this,"complete","error","abort"),this.parent=U||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new he(function(W,H){$._resolve=W,$._reject=H}),this._completion.then(function(){$.active=!1,$.on.complete.fire()},function(W){var H=$.active;return $.active=!1,$.on.error.fire(W),$.parent?$.parent._reject(W):H&&$.idbtrans&&$.idbtrans.abort(),vt(W)})})),this.Version=(A=this,va(LN.prototype,function(O){this.db=A,this._cfg={version:O,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(L=this,va(Iv.prototype,function(O,z,I){if(this.db=L,this._ctx={table:O,index:z===":id"?null:z,or:I},this._cmp=this._ascending=Be,this._descending=function(V,U){return Be(U,V)},this._max=function(V,U){return 0<Be(V,U)?V:U},this._min=function(V,U){return Be(V,U)<0?V:U},this._IDBKeyRange=L._deps.IDBKeyRange,!this._IDBKeyRange)throw new fe.MissingAPI})),this.on("versionchange",function(O){0<O.newVersion?console.warn("Another connection wants to upgrade database '".concat(y.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(y.name,"'. Closing db now to resume the delete request.")),y.close({disableAutoOpen:!1})}),this.on("blocked",function(O){!O.newVersion||O.newVersion<O.oldVersion?console.warn("Dexie.delete('".concat(y.name,"') was blocked")):console.warn("Upgrade '".concat(y.name,"' blocked by other connection holding version ").concat(O.oldVersion/10))}),this._maxKey=Sa(p.IDBKeyRange),this._createTransaction=function(O,z,I,V){return new y.Transaction(O,z,I,y._options.chromeTransactionDurability,V)},this._fireOnBlocked=function(O){y.on("blocked").fire(O),zi.filter(function(z){return z.name===y.name&&z!==y&&!z._state.vcFired}).map(function(z){return z.on("versionchange").fire(O)})},this.use($N),this.use(zN),this.use(VN),this.use(MN),this.use(FN);var B=new Proxy(this,{get:function(O,z,I){if(z==="_vip")return!0;if(z==="table")return function(U){return kc(y.table(U),B)};var V=Reflect.get(O,z,I);return V instanceof Rv?kc(V,B):z==="tables"?V.map(function(U){return kc(U,B)}):z==="_createTransaction"?function(){return kc(V.apply(this,arguments),B)}:V}});this.vip=B,S.forEach(function(O){return O(y)})}var Cc,En=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",WN=(th.prototype.subscribe=function(d,p,y){return this._subscribe(d&&typeof d!="function"?d:{next:d,error:p,complete:y})},th.prototype[En]=function(){return this},th);function th(d){this._subscribe=d}try{Cc={indexedDB:i.indexedDB||i.mozIndexedDB||i.webkitIndexedDB||i.msIndexedDB,IDBKeyRange:i.IDBKeyRange||i.webkitIDBKeyRange}}catch{Cc={indexedDB:null,IDBKeyRange:null}}function Qv(d){var p,y=!1,S=new WN(function(C){var N=me(d),P,A=!1,L={},M={},B={get closed(){return A},unsubscribe:function(){A||(A=!0,P&&P.abort(),O&&Qr.storagemutated.unsubscribe(I))}};C.start&&C.start(B);var O=!1,z=function(){return Tf(V)},I=function(U){Sc(L,U),qf(M,L)&&z()},V=function(){var U,$,W;!A&&Cc.indexedDB&&(L={},U={},P&&P.abort(),P=new AbortController,W=function(H){var q=Vi();try{N&&Ui();var X=qr(d,H);return X=N?X.finally(Yr):X}finally{q&&Bi()}}($={subscr:U,signal:P.signal,requery:z,querier:d,trans:null}),Promise.resolve(W).then(function(H){y=!0,p=H,A||$.signal.aborted||(L={},function(q){for(var X in q)if(h(q,X))return;return 1}(M=U)||O||(Qr(ba,I),O=!0),Tf(function(){return!A&&C.next&&C.next(H)}))},function(H){y=!1,["DatabaseClosedError","AbortError"].includes(H==null?void 0:H.name)||A||Tf(function(){A||C.error&&C.error(H)})}))};return setTimeout(z,0),B});return S.hasValue=function(){return y},S.getValue=function(){return p},S}var ti=_r;function nh(d){var p=Jr;try{Jr=!0,Qr.storagemutated.fire(d),Xf(d,!0)}finally{Jr=p}}g(ti,r(r({},Te),{delete:function(d){return new ti(d,{addons:[]}).delete()},exists:function(d){return new ti(d,{addons:[]}).open().then(function(p){return p.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(d){try{return p=ti.dependencies,y=p.indexedDB,p=p.IDBKeyRange,(Wf(y)?Promise.resolve(y.databases()).then(function(S){return S.map(function(C){return C.name}).filter(function(C){return C!==uc})}):zf(y,p).toCollection().primaryKeys()).then(d)}catch{return vt(new fe.MissingAPI)}var p,y},defineClass:function(){return function(d){c(this,d)}},ignoreTransaction:function(d){return be.trans?Qs(be.transless,d):d()},vip:Kf,async:function(d){return function(){try{var p=Qf(d.apply(this,arguments));return p&&typeof p.then=="function"?p:he.resolve(p)}catch(y){return vt(y)}}},spawn:function(d,p,y){try{var S=Qf(d.apply(y,p||[]));return S&&typeof S.then=="function"?S:he.resolve(S)}catch(C){return vt(C)}},currentTransaction:{get:function(){return be.trans||null}},waitFor:function(d,p){return p=he.resolve(typeof d=="function"?ti.ignoreTransaction(d):d).timeout(p||6e4),be.trans?be.trans.waitFor(p):p},Promise:he,debug:{get:function(){return ir},set:function(d){wv(d)}},derive:v,extend:c,props:g,override:b,Events:ya,on:Qr,liveQuery:Qv,extendObservabilitySet:Sc,getByKeyPath:D,setByKeyPath:T,delByKeyPath:function(d,p){typeof p=="string"?T(d,p,void 0):"length"in p&&[].map.call(p,function(y){T(d,y,void 0)})},shallowClone:F,deepClone:pe,getObjectDiff:Jf,cmp:Be,asap:R,minKey:-1/0,addons:[],connections:zi,errnames:Se,dependencies:Cc,cache:ei,semVer:"4.0.11",version:"4.0.11".split(".").map(function(d){return parseInt(d)}).reduce(function(d,p,y){return d+p/Math.pow(10,2*y)})})),ti.maxKey=Sa(ti.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Qr(ba,function(d){Jr||(d=new CustomEvent(If,{detail:d}),Jr=!0,dispatchEvent(d),Jr=!1)}),addEventListener(If,function(d){d=d.detail,Jr||nh(d)}));var Hi,Jr=!1,Jv=function(){};return typeof BroadcastChannel<"u"&&((Jv=function(){(Hi=new BroadcastChannel(If)).onmessage=function(d){return d.data&&nh(d.data)}})(),typeof Hi.unref=="function"&&Hi.unref(),Qr(ba,function(d){Jr||Hi.postMessage(d)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(d){if(!_r.disableBfCache&&d.persisted){ir&&console.debug("Dexie: handling persisted pagehide"),Hi!=null&&Hi.close();for(var p=0,y=zi;p<y.length;p++)y[p].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(d){!_r.disableBfCache&&d.persisted&&(ir&&console.debug("Dexie: handling persisted pageshow"),Jv(),nh({all:new Ut(-1/0,[[]])}))})),he.rejectionMapper=function(d,p){return!d||d instanceof Ae||d instanceof TypeError||d instanceof SyntaxError||!d.name||!ze[d.name]?d:(p=new ze[d.name](p||d.message,d),"stack"in d&&k(p,"stack",{get:function(){return this.inner.stack}}),p)},wv(ir),r(_r,Object.freeze({__proto__:null,Dexie:_r,liveQuery:Qv,Entity:Nv,cmp:Be,PropModification:xa,replacePrefix:function(d,p){return new xa({replacePrefix:[d,p]})},add:function(d){return new xa({add:d})},remove:function(d){return new xa({remove:d})},default:_r,RangeSet:Ut,mergeRanges:ka,rangesOverlap:Bv}),{default:_r}),_r})})(ik);var N4=ik.exports;const Im=ug(N4),Ww=Symbol.for("Dexie"),Mm=globalThis[Ww]||(globalThis[Ww]=Im);if(Im.semVer!==Mm.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${Im.semVer} and ${Mm.semVer}`);const Ro=new Mm("ChatDB");Ro.version(1).stores({messages:"++id, roomId, sender, content, timestamp"});const ok=m.createContext(),ak=()=>{const e=m.useContext(ok);if(!e)throw new Error("useNotification must be used within a NotificationProvider");return e},P4=({children:e})=>{const{user:t}=It(),[n,r]=m.useState(0),[s,i]=m.useState({}),[o,a]=m.useState(()=>{const h=localStorage.getItem("lastCheckedTimestamp");return h?JSON.parse(h):{}});m.useEffect(()=>{if(!t){r(0),i({});return}const h=async()=>{try{const w=await Ro.messages.toArray(),k={};w.forEach(_=>{k[_.roomId]||(k[_.roomId]=[]),k[_.roomId].push(_)});const v={};let j=0;Object.keys(k).forEach(_=>{const x=o[_]||0,b=k[_].filter(E=>E.sender!==t.id&&new Date(E.timestamp)>new Date(x));b.length>0&&(v[_]=b.length,j+=b.length)}),i(v),r(j)}catch(w){console.error("Error checking unread messages:",w)}};h();const g=setInterval(h,1e4);return()=>clearInterval(g)},[t,o]),m.useEffect(()=>{localStorage.setItem("lastCheckedTimestamp",JSON.stringify(o))},[o]);const f={unreadCount:n,unreadChats:s,markRoomAsRead:h=>{a(g=>({...g,[h]:new Date().toISOString()})),i(g=>{const w={...g};return delete w[h],w}),r(g=>Math.max(0,g-(s[h]||0)))},markAllAsRead:()=>{const h=new Date().toISOString(),g={};Object.keys(s).forEach(w=>{g[w]=h}),a(w=>({...w,...g})),i({}),r(0)}};return l.jsx(ok.Provider,{value:f,children:e})},T4=1;let Xh=0;function R4(){return Xh=(Xh+1)%Number.MAX_VALUE,Xh.toString()}const Zt={state:{toasts:[]},listeners:[],getState:()=>Zt.state,setState:e=>{typeof e=="function"?Zt.state=e(Zt.state):Zt.state={...Zt.state,...e},Zt.listeners.forEach(t=>t(Zt.state))},subscribe:e=>(Zt.listeners.push(e),()=>{Zt.listeners=Zt.listeners.filter(t=>t!==e)})},A4=({...e})=>{const t=R4(),n=s=>Zt.setState(i=>({...i,toasts:i.toasts.map(o=>o.id===t?{...o,...s}:o)})),r=()=>Zt.setState(s=>({...s,toasts:s.toasts.filter(i=>i.id!==t)}));return Zt.setState(s=>({...s,toasts:[{...e,id:t,dismiss:r},...s.toasts].slice(0,T4)})),{id:t,dismiss:r,update:n}};function tr(){const[e,t]=m.useState(Zt.getState());return m.useEffect(()=>Zt.subscribe(r=>{t(r)}),[]),m.useEffect(()=>{const n=[];return e.toasts.forEach(r=>{if(r.duration===1/0)return;const s=setTimeout(()=>{r.dismiss()},r.duration||5e3);n.push(s)}),()=>{n.forEach(r=>clearTimeout(r))}},[e.toasts]),{toast:A4,toasts:e.toasts}}const Fm=({className:e,onClick:t})=>{const{signOut:n}=It(),r=Oi(),{toast:s}=tr(),i=async()=>{t&&t();try{await n(),s({title:"Logged Out",description:"You have been successfully logged out.",variant:"default"}),r("/login")}catch{s({title:"Error",description:"There was a problem logging you out.",variant:"destructive"})}};return l.jsxs(ue,{onClick:i,variant:"ghost",className:e||"text-gray-300 hover:text-white hover:bg-slate-700",children:[l.jsx(mA,{className:"h-4 w-4 mr-2"}),"Logout"]})},O4=Hd("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Ls({className:e,variant:t,...n}){return l.jsx("div",{className:Re(O4({variant:t}),e),...n})}const D4=()=>{const[e,t]=m.useState(!1),{user:n,isAuthenticated:r,loading:s}=It(),{unreadCount:i}=ak(),[o,a]=m.useState(!1);m.useEffect(()=>{(async()=>{if(!n){a(!1);return}try{const{data:h,error:g}=await Oe.rpc("get_user_role",{user_id:n.id});if(g){console.error("Error checking admin role:",g),a(!1);return}console.log("User role data:",h),a(h==="admin")}catch(h){console.error("Error checking admin role:",h),a(!1)}})()},[n]);const c=[{name:"Home",path:"/"},{name:"Buy",path:"/buy"},{name:"Sell",path:"/sell"},{name:"About Us",path:"/about"},{name:"Contact",path:"/contact"}],u=[{name:"Wishlist",path:"/wishlist",icon:l.jsx(xA,{className:"w-5 h-5 mr-2"})},{name:"Chat",path:"/chat",icon:l.jsxs("div",{className:"relative",children:[l.jsx(Ho,{className:"w-5 h-5 mr-2"}),i>0&&l.jsx(Ls,{className:"absolute -top-2 -right-1 px-1.5 py-0.5 min-w-[1.25rem] h-5 flex items-center justify-center bg-red-500 text-white text-xs font-bold rounded-full",variant:"destructive",children:i>99?"99+":i})]})},{name:"Profile",path:"/profile",icon:l.jsx(k_,{className:"w-5 h-5 mr-2"})}];return l.jsxs("nav",{className:"sticky top-0 z-50 bg-slate-900/80 backdrop-blur-md shadow-lg",children:[l.jsx("div",{className:"container mx-auto px-4",children:l.jsxs("div",{className:"flex items-center justify-between h-20",children:[l.jsxs(Ie,{to:"/",className:"flex items-center space-x-2 text-2xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-purple-400 via-pink-500 to-orange-500",children:[l.jsx(ut,{className:"w-8 h-8 text-purple-400"}),l.jsx("span",{children:"Your2ndRide"})]}),l.jsxs("div",{className:"hidden md:flex items-center space-x-1 lg:space-x-2",children:[c.map(f=>l.jsx(Yi,{to:f.path,className:({isActive:h})=>`px-3 py-2 rounded-md text-sm font-medium transition-colors duration-300 ease-in-out ${h?"bg-purple-600 text-white shadow-md":"text-gray-300 hover:bg-purple-500 hover:text-white hover:shadow-sm"}`,children:f.name},f.name)),r&&l.jsxs(l.Fragment,{children:[u.map(f=>l.jsxs(Yi,{to:f.path,className:({isActive:h})=>`px-3 py-2 rounded-md text-sm font-medium transition-colors duration-300 ease-in-out flex items-center ${h?"bg-purple-600 text-white shadow-md":"text-gray-300 hover:bg-purple-500 hover:text-white hover:shadow-sm"}`,children:[f.icon," ",f.name]},f.name)),o&&l.jsxs(Yi,{to:"/admin",className:({isActive:f})=>`px-3 py-2 rounded-md text-sm font-medium transition-colors duration-300 ease-in-out flex items-center ${f?"bg-purple-600 text-white shadow-md":"text-gray-300 hover:bg-purple-500 hover:text-white hover:shadow-sm"}`,children:[l.jsx(ld,{className:"w-5 h-5 mr-2"})," Admin"]})]})]}),l.jsx("div",{className:"hidden md:flex items-center space-x-3",children:r?l.jsx(Fm,{className:"border-purple-500 text-purple-400 hover:bg-purple-500 hover:text-white"}):s?l.jsx("div",{className:"animate-pulse w-24 h-10 bg-slate-700 rounded-md"}):l.jsxs(l.Fragment,{children:[l.jsx(ue,{asChild:!0,variant:"ghost",className:"text-gray-300 hover:bg-purple-500 hover:text-white",children:l.jsxs(Ie,{to:"/login",children:[l.jsx(ym,{className:"w-5 h-5 mr-2"})," Login"]})}),l.jsx(ue,{asChild:!0,className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white",children:l.jsxs(Ie,{to:"/register",children:[l.jsx(vm,{className:"w-5 h-5 mr-2"})," Register"]})})]})}),l.jsx("div",{className:"md:hidden flex items-center",children:l.jsx(ue,{variant:"ghost",onClick:()=>t(!e),className:"text-gray-300 hover:text-white",children:e?l.jsx(qo,{className:"w-6 h-6"}):l.jsx(gA,{className:"w-6 h-6"})})})]})}),l.jsx(rf,{children:e&&l.jsx(_e.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3,ease:"easeInOut"},className:"md:hidden bg-slate-800/95 backdrop-blur-sm",children:l.jsxs("div",{className:"px-2 pt-2 pb-3 space-y-1 sm:px-3",children:[c.map(f=>l.jsx(Yi,{to:f.path,onClick:()=>t(!1),className:({isActive:h})=>`block px-3 py-2 rounded-md text-base font-medium transition-colors duration-300 ease-in-out ${h?"bg-purple-600 text-white":"text-gray-300 hover:bg-purple-500 hover:text-white"}`,children:f.name},f.name)),r&&l.jsxs(l.Fragment,{children:[u.map(f=>l.jsxs(Yi,{to:f.path,onClick:()=>t(!1),className:({isActive:h})=>`block px-3 py-2 rounded-md text-base font-medium transition-colors duration-300 ease-in-out flex items-center ${h?"bg-purple-600 text-white":"text-gray-300 hover:bg-purple-500 hover:text-white"}`,children:[f.icon," ",f.name]},f.name)),o&&l.jsxs(Yi,{to:"/admin",onClick:()=>t(!1),className:({isActive:f})=>`block px-3 py-2 rounded-md text-base font-medium transition-colors duration-300 ease-in-out flex items-center ${f?"bg-purple-600 text-white":"text-gray-300 hover:bg-purple-500 hover:text-white"}`,children:[l.jsx(ld,{className:"w-5 h-5 mr-2"})," Admin"]})]}),l.jsx("div",{className:"pt-4 pb-2 border-t border-slate-700",children:r?l.jsx(Fm,{className:"w-full border-purple-500 text-purple-400 hover:bg-purple-500 hover:text-white",onClick:()=>t(!1)}):s?l.jsx("div",{className:"animate-pulse w-full h-10 bg-slate-700 rounded-md"}):l.jsxs("div",{className:"space-y-2",children:[l.jsx(ue,{asChild:!0,onClick:()=>t(!1),className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white",children:l.jsxs(Ie,{to:"/login",children:[l.jsx(ym,{className:"w-5 h-5 mr-2"})," Login"]})}),l.jsx(ue,{asChild:!0,onClick:()=>t(!1),variant:"outline",className:"w-full border-purple-500 text-purple-400 hover:bg-purple-500 hover:text-white",children:l.jsxs(Ie,{to:"/register",children:[l.jsx(vm,{className:"w-5 h-5 mr-2"})," Register"]})})]})})]})})})]})},L4=()=>{const e=new Date().getFullYear(),t=[{title:"Company",links:[{name:"About Us",path:"/about"},{name:"Contact Us",path:"/contact"},{name:"Careers",path:"/careers"}]},{title:"Support",links:[{name:"FAQ",path:"/faq"},{name:"Help Center",path:"/help"},{name:"Terms of Service",path:"/terms"}]},{title:"Connect",links:[{name:"Blog",path:"/blog"},{name:"Newsletter",path:"/newsletter"}]}],n=[{icon:l.jsx(uA,{className:"w-6 h-6"}),path:"https://facebook.com",name:"Facebook"},{icon:l.jsx(_A,{className:"w-6 h-6"}),path:"https://twitter.com",name:"Twitter"},{icon:l.jsx(hA,{className:"w-6 h-6"}),path:"https://instagram.com",name:"Instagram"},{icon:l.jsx(pA,{className:"w-6 h-6"}),path:"https://linkedin.com",name:"LinkedIn"}];return l.jsx("footer",{className:"bg-slate-900 text-gray-400 py-12 border-t border-slate-700",children:l.jsxs("div",{className:"container mx-auto px-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 mb-8",children:[l.jsxs("div",{className:"mb-6 md:mb-0",children:[l.jsxs(Ie,{to:"/",className:"flex items-center space-x-2 text-xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-purple-400 via-pink-500 to-orange-500 mb-4",children:[l.jsx(ut,{className:"w-7 h-7 text-purple-400"}),l.jsx("span",{children:"Your2ndRide"})]}),l.jsx("p",{className:"text-sm",children:"Your trusted platform for buying and selling pre-owned vehicles. Drive your dreams with us."})]}),t.map(r=>l.jsxs("div",{children:[l.jsx("p",{className:"font-semibold text-gray-200 mb-4",children:r.title}),l.jsx("ul",{className:"space-y-2",children:r.links.map(s=>l.jsx("li",{children:l.jsx(Ie,{to:s.path,className:"hover:text-purple-400 transition-colors duration-300 text-sm",children:s.name})},s.name))})]},r.title))]}),l.jsxs("div",{className:"border-t border-slate-700 pt-8 flex flex-col md:flex-row justify-between items-center",children:[l.jsxs("p",{className:"text-sm mb-4 md:mb-0",children:[" ",e," Your2ndRide. All rights reserved."]}),l.jsx("div",{className:"flex space-x-4",children:n.map(r=>l.jsx("a",{href:r.path,target:"_blank",rel:"noopener noreferrer","aria-label":r.name,className:"hover:text-purple-400 transition-colors duration-300",children:r.icon},r.name))})]})]})})},I4=({children:e})=>l.jsxs("div",{className:"flex flex-col min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 text-gray-100",children:[l.jsx(D4,{}),l.jsx("main",{className:"flex-grow container mx-auto px-4 py-8",children:e}),l.jsx(L4,{})]}),M4=()=>{const e={hidden:{opacity:0,y:20},visible:o=>({opacity:1,y:0,transition:{delay:o*.1,duration:.5,ease:"easeOut"}})},t={hidden:{opacity:0},visible:{opacity:1,transition:{when:"beforeChildren",staggerChildren:.1}}},n=[{icon:l.jsx(Hl,{className:"w-6 h-6 md:w-8 md:h-8 text-purple-400"}),title:"Find Your Ride",description:"Browse thousands of verified listings with advanced filters."},{icon:l.jsx(my,{className:"w-6 h-6 md:w-8 md:h-8 text-pink-400"}),title:"Connect & Negotiate",description:"Chat securely with sellers and agree on the best price."},{icon:l.jsx(S_,{className:"w-6 h-6 md:w-8 md:h-8 text-orange-400"}),title:"Secure & Easy Purchase",description:"Finalize your purchase with our trusted process and support."}],r=[{id:1,name:"Sleek Sedan Alpha",price:26500,year:2022,mileage:"12,000 miles",image:"Modern sedan parked in a futuristic city"},{id:2,name:"Rugged SUV Titan",price:32e3,year:2021,mileage:"28,000 miles",image:"SUV conquering a challenging mountain pass"},{id:3,name:"Eco-Friendly Hatch",price:18e3,year:2023,mileage:"5,000 miles",image:"Electric hatchback charging in a green urban environment"},{id:4,name:"Luxury Coupe Elegance",price:55e3,year:2020,mileage:"15,000 miles",image:"Luxury coupe parked in front of a modern villa"},{id:5,name:"Family Minivan Voyager",price:29e3,year:2022,mileage:"10,000 miles",image:"Minivan packed for a family vacation by a lake"},{id:6,name:"Sporty Roadster Sprint",price:42e3,year:2021,mileage:"8,000 miles",image:"Sporty roadster driving along a coastal highway"}],s=["Toyota","Honda","Ford","BMW","Mercedes","Audi"],i=[{name:"Sedan",icon:l.jsx(ut,{className:"w-5 h-5"})},{name:"SUV",icon:l.jsx(ut,{className:"w-5 h-5"})},{name:"Truck",icon:l.jsx(ut,{className:"w-5 h-5"})},{name:"Hatchback",icon:l.jsx(ut,{className:"w-5 h-5"})},{name:"Coupe",icon:l.jsx(ut,{className:"w-5 h-5"})},{name:"Minivan",icon:l.jsx(ut,{className:"w-5 h-5"})},{name:"Electric",icon:l.jsx(ut,{className:"w-5 h-5"})}];return l.jsxs("div",{className:"space-y-8 md:space-y-12 max-w-[1800px] mx-auto",children:[l.jsxs(_e.section,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.7,ease:"easeOut"},className:"text-center py-8 md:py-16 px-3 rounded-xl bg-gradient-to-tr from-purple-700 via-pink-600 to-orange-500 shadow-lg mx-1",children:[l.jsxs(_e.h1,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.2,duration:.5},className:"text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-extrabold text-white mb-3 md:mb-5",children:["Find Your Next ",l.jsx("span",{className:"text-yellow-300",children:"Dream Ride"})]}),l.jsx(_e.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4,duration:.5},className:"text-sm sm:text-base md:text-lg text-purple-100 mb-4 md:mb-8 max-w-2xl mx-auto",children:"Your2ndRide is the ultimate platform for buying and selling quality pre-owned vehicles."}),l.jsxs(_e.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.6,duration:.5},className:"flex flex-col sm:flex-row gap-3 justify-center max-w-xs sm:max-w-md mx-auto",children:[l.jsx(ue,{size:"lg",asChild:!0,className:"bg-white text-purple-700 hover:bg-gray-100 shadow-md",children:l.jsxs(Ie,{to:"/buy",children:["Browse Cars ",l.jsx(ut,{className:"ml-2 h-4 w-4"})]})}),l.jsx(ue,{size:"lg",asChild:!0,className:"bg-yellow-400 text-purple-800 hover:bg-yellow-500 shadow-md",children:l.jsxs(Ie,{to:"/sell",children:["Sell Your Car ",l.jsx(SA,{className:"ml-2 h-4 w-4"})]})})]})]}),l.jsxs(_e.section,{initial:"hidden",whileInView:"visible",viewport:{once:!0,margin:"-50px"},variants:t,className:"py-6 md:py-10 mx-1",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4 md:mb-6 px-1",children:[l.jsx("h2",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-pink-500 to-orange-500",children:"Featured Listings"}),l.jsx(ue,{variant:"outline",size:"sm",asChild:!0,className:"border-purple-500 text-purple-400 hover:bg-purple-500 hover:text-white",children:l.jsx(Ie,{to:"/buy",children:"View All"})})]}),l.jsx("div",{className:"relative",children:l.jsx("div",{className:"flex space-x-4 overflow-x-auto pb-4 scrollbar-thin scrollbar-thumb-purple-500 scrollbar-track-transparent px-1",children:r.map((o,a)=>l.jsxs(_e.div,{custom:a,variants:e,className:"flex-shrink-0 w-64 sm:w-72 md:w-80 bg-slate-800 p-3 rounded-lg shadow-lg hover:shadow-purple-500/20 transition-shadow duration-300",children:[l.jsx("div",{className:"w-full h-40 sm:h-48 bg-slate-700 rounded-md mb-2 flex items-center justify-center overflow-hidden",children:l.jsx("img",{className:"w-full h-full object-cover",alt:o.image,src:"https://images.unsplash.com/photo-1590955504626-5c41184ecf67"})}),l.jsx("h3",{className:"text-base sm:text-lg font-semibold text-purple-300 mb-1",children:o.name}),l.jsxs("p",{className:"text-xs sm:text-sm text-gray-400 mb-1",children:[o.year," - ",o.mileage]}),l.jsxs("p",{className:"text-lg sm:text-xl font-bold text-orange-400 mb-2",children:["$",o.price.toLocaleString()]}),l.jsx(ue,{asChild:!0,size:"sm",className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700",children:l.jsx(Ie,{to:`/listing/${o.id}`,children:"View Details"})})]},o.id))})})]}),l.jsxs(_e.section,{initial:"hidden",whileInView:"visible",viewport:{once:!0,margin:"-50px"},variants:t,className:"py-6 md:py-10 mx-1",children:[l.jsx("h2",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-center mb-4 md:mb-6 text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-teal-400",children:"Browse by Category"}),l.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-7 gap-2 sm:gap-3",children:i.map((o,a)=>l.jsxs(_e.div,{custom:a,variants:e,className:"group bg-slate-800 hover:bg-slate-700 p-2 sm:p-3 rounded-lg cursor-pointer transition-all duration-300",children:[l.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-purple-500/20 rounded-full flex items-center justify-center mx-auto mb-1 sm:mb-2 group-hover:bg-purple-500/30 transition-colors duration-300",children:o.icon}),l.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-200 group-hover:text-white transition-colors duration-300 text-center",children:o.name})]},a))})]}),l.jsxs(_e.section,{initial:"hidden",whileInView:"visible",viewport:{once:!0,margin:"-50px"},variants:t,className:"py-6 md:py-10 mx-1",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4 md:mb-6 px-1",children:[l.jsx("h2",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-teal-400",children:"Recently Added"}),l.jsx(ue,{variant:"outline",size:"sm",asChild:!0,className:"border-teal-500 text-teal-400 hover:bg-teal-500 hover:text-white",children:l.jsx(Ie,{to:"/buy?sort=newest",children:"View All"})})]}),l.jsx("div",{className:"relative",children:l.jsx("div",{className:"flex space-x-4 overflow-x-auto pb-4 scrollbar-thin scrollbar-thumb-teal-500 scrollbar-track-transparent px-1",children:r.slice(0,6).map((o,a)=>l.jsxs(_e.div,{custom:a,variants:e,className:"flex-shrink-0 w-64 sm:w-72 md:w-80 bg-slate-800 p-3 rounded-lg shadow-lg hover:shadow-teal-500/20 transition-shadow duration-300",children:[l.jsxs("div",{className:"w-full h-40 sm:h-48 bg-slate-700 rounded-md mb-2 flex items-center justify-center overflow-hidden relative",children:[l.jsx("img",{className:"w-full h-full object-cover",alt:o.image,src:"https://images.unsplash.com/photo-1697256200022-f61abccad430"}),l.jsx("div",{className:"absolute top-2 right-2 bg-teal-600 text-white text-xs font-bold px-2 py-1 rounded-md",children:"New"})]}),l.jsx("h3",{className:"text-base sm:text-lg font-semibold text-teal-300 mb-1",children:o.name}),l.jsx("div",{className:"flex justify-between items-center mb-1",children:l.jsxs("p",{className:"text-xs sm:text-sm text-gray-400",children:[o.year," - ",o.mileage]})}),l.jsxs("p",{className:"text-lg sm:text-xl font-bold text-teal-400 mb-2",children:["$",o.price.toLocaleString()]}),l.jsx(ue,{asChild:!0,size:"sm",className:"w-full bg-gradient-to-r from-teal-600 to-green-600 hover:from-teal-700 hover:to-green-700",children:l.jsx(Ie,{to:`/listing/${o.id}`,children:"View Details"})})]},o.id))})})]}),l.jsxs(_e.section,{initial:"hidden",whileInView:"visible",viewport:{once:!0,margin:"-50px"},variants:t,className:"py-6 md:py-10 mx-1",children:[l.jsx("h2",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-center mb-4 md:mb-6 text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-pink-500",children:"How It Works"}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 sm:gap-4",children:n.map((o,a)=>l.jsxs(_e.div,{custom:a,variants:e,className:"bg-slate-800 p-4 sm:p-5 rounded-lg shadow-lg hover:shadow-purple-500/20 transition-shadow duration-300",children:[l.jsxs("div",{className:"flex items-center mb-3",children:[l.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-purple-500 to-pink-500 flex items-center justify-center text-white mr-2 sm:mr-3",children:a+1}),l.jsx("div",{className:"flex justify-center",children:o.icon})]}),l.jsx("h3",{className:"text-base sm:text-lg md:text-xl font-bold mb-2 text-purple-300",children:o.title}),l.jsx("p",{className:"text-xs sm:text-sm text-gray-300",children:o.description})]},a))})]}),l.jsxs(_e.section,{initial:"hidden",whileInView:"visible",viewport:{once:!0,margin:"-50px"},variants:t,className:"py-6 md:py-10 bg-slate-800/50 rounded-xl px-3 mx-1",children:[l.jsx("h2",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-center mb-4 md:mb-6 text-transparent bg-clip-text bg-gradient-to-r from-orange-400 to-pink-500",children:"Popular Brands"}),l.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-6 gap-2 sm:gap-3",children:s.map((o,a)=>l.jsxs(_e.div,{custom:a,variants:e,className:"bg-slate-700 hover:bg-slate-600 p-2 sm:p-3 rounded-lg text-center cursor-pointer transition-colors duration-300",children:[l.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-orange-500/20 rounded-full flex items-center justify-center mx-auto mb-1 sm:mb-2",children:l.jsx(ut,{className:"w-4 h-4 sm:w-5 sm:h-5 text-orange-400"})}),l.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-200",children:o})]},a))})]}),l.jsxs(_e.section,{initial:"hidden",whileInView:"visible",viewport:{once:!0,margin:"-50px"},variants:t,className:"py-6 md:py-10 mx-1",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4 md:mb-6 px-1",children:[l.jsx("h2",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-green-400 to-lime-400",children:"Testimonials"}),l.jsx(ue,{variant:"outline",size:"sm",className:"border-lime-500 text-lime-400 hover:bg-lime-500 hover:text-white",children:"View All"})]}),l.jsx("div",{className:"relative",children:l.jsx("div",{className:"flex space-x-4 overflow-x-auto pb-4 scrollbar-thin scrollbar-thumb-lime-500 scrollbar-track-transparent px-1",children:[1,2,3,4,5].map(o=>l.jsxs(_e.div,{custom:o,variants:e,className:"flex-shrink-0 w-72 sm:w-80 md:w-96 bg-slate-800 p-4 sm:p-5 rounded-lg shadow-lg hover:shadow-lime-500/20 transition-shadow duration-300",children:[l.jsxs("div",{className:"flex items-center mb-3",children:[l.jsxs("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-green-400 to-lime-500 flex items-center justify-center text-white font-bold text-sm sm:text-base mr-3",children:["U",o]}),l.jsxs("div",{children:[l.jsxs("p",{className:"font-semibold text-base sm:text-lg text-white",children:["User ",o]}),l.jsx("div",{className:"flex text-yellow-400",children:[...Array(5)].map((a,c)=>l.jsx(wA,{className:"w-3 h-3 sm:w-4 sm:h-4 fill-current"},c))})]})]}),l.jsx("p",{className:"text-xs sm:text-sm text-gray-300 mt-2",children:'"This is a placeholder review. Real reviews will be fetched from Supabase once integrated. Great platform, easy to use!"'}),l.jsxs("p",{className:"text-xs text-gray-400 mt-2",children:["Posted on: May ",20+o,", 2025"]})]},o))})})]}),l.jsx(_e.section,{initial:{opacity:0,scale:.9},whileInView:{opacity:1,scale:1},viewport:{once:!0},transition:{duration:.7,ease:"easeOut"},className:"py-8 md:py-12 bg-gradient-to-tr from-purple-700 via-pink-600 to-orange-500 rounded-xl shadow-lg mx-1",children:l.jsxs("div",{className:"container mx-auto text-center px-3",children:[l.jsx(cd,{className:"w-10 h-10 md:w-12 md:h-12 text-white mx-auto mb-3 md:mb-5"}),l.jsx("h2",{className:"text-xl sm:text-2xl md:text-3xl font-bold mb-3 md:mb-5 text-white",children:"Ready to Find Your Perfect Ride?"}),l.jsx("p",{className:"text-xs sm:text-sm md:text-base text-purple-100 mb-4 md:mb-6 max-w-md mx-auto",children:"Join thousands of happy customers who found their dream car through Your2ndRide."}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center max-w-xs sm:max-w-md mx-auto",children:[l.jsx(ue,{size:"lg",asChild:!0,className:"bg-white text-purple-700 hover:bg-gray-100 shadow-md",children:l.jsx(Ie,{to:"/buy",children:"Browse Cars"})}),l.jsx(ue,{size:"lg",asChild:!0,className:"bg-yellow-400 text-purple-800 hover:bg-yellow-500 shadow-md",children:l.jsx(Ie,{to:"/sell",children:"Sell Your Car"})})]})]})})]})},Me=Ne.forwardRef(({className:e,type:t,...n},r)=>l.jsx("input",{type:t,className:Re("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...n}));Me.displayName="Input";var F4=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],nr=F4.reduce((e,t)=>{const n=id(`Primitive.${t}`),r=m.forwardRef((s,i)=>{const{asChild:o,...a}=s,c=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(c,{...a,ref:i})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function lk(e,t){e&&Br.flushSync(()=>e.dispatchEvent(t))}var $4="Label",ck=m.forwardRef((e,t)=>l.jsx(nr.label,{...e,ref:t,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));ck.displayName=$4;var uk=ck;const V4=Hd("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Ye=Ne.forwardRef(({className:e,...t},n)=>l.jsx(uk,{ref:n,className:Re(V4(),e),...t}));Ye.displayName=uk.displayName;const Mt=[];for(let e=0;e<256;++e)Mt.push((e+256).toString(16).slice(1));function B4(e,t=0){return(Mt[e[t+0]]+Mt[e[t+1]]+Mt[e[t+2]]+Mt[e[t+3]]+"-"+Mt[e[t+4]]+Mt[e[t+5]]+"-"+Mt[e[t+6]]+Mt[e[t+7]]+"-"+Mt[e[t+8]]+Mt[e[t+9]]+"-"+Mt[e[t+10]]+Mt[e[t+11]]+Mt[e[t+12]]+Mt[e[t+13]]+Mt[e[t+14]]+Mt[e[t+15]]).toLowerCase()}let Qh;const U4=new Uint8Array(16);function z4(){if(!Qh){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Qh=crypto.getRandomValues.bind(crypto)}return Qh(U4)}const W4=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Kw={randomUUID:W4};function dk(e,t,n){var s;if(Kw.randomUUID&&!t&&!e)return Kw.randomUUID();e=e||{};const r=e.random??((s=e.rng)==null?void 0:s.call(e))??z4();if(r.length<16)throw new Error("Random bytes length must be >= 16");if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){if(n=n||0,n<0||n+16>t.length)throw new RangeError(`UUID byte range ${n}:${n+15} is out of buffer bounds`);for(let i=0;i<16;++i)t[n+i]=r[i];return t}return B4(r)}const K4=async(e,t)=>{if(!e||e.length===0)return[];const n=e.map(async r=>{const s=r.name.split(".").pop(),o=`${`${t}/${dk()}.${s}`}`,{data:a,error:c}=await Oe.storage.from("vehicle_photos").upload(o,r,{cacheControl:"3600",upsert:!1});if(c)throw console.error("Error uploading image:",c),c;const{data:{publicUrl:u}}=Oe.storage.from("vehicle_photos").getPublicUrl(o);return u});return Promise.all(n)},H4=async(e,t)=>{if(!e||e.length===0)return[];const n=e.map(async r=>{const s=r.name.split(".").pop(),o=`${`${t}/${dk()}.${s}`}`,{data:a,error:c}=await Oe.storage.from("vehicle_documents").upload(o,r,{cacheControl:"3600",upsert:!1});if(c)throw console.error("Error uploading document:",c),c;const{data:{signedUrl:u}}=await Oe.storage.from("vehicle_documents").createSignedUrl(o,60*60*24*7);return{path:o,url:u}});return Promise.all(n)},q4=()=>{const{user:e,isAuthenticated:t}=It(),[n,r]=m.useState(1),[s,i]=m.useState({title:"",make:"",model:"",year:"",mileage:"",price:"",description:"",location:"",phone:""}),[o,a]=m.useState([]),[c,u]=m.useState([]),[f,h]=m.useState([]),[g,w]=m.useState(!1),[k,v]=m.useState(null),[j,_]=m.useState(!1),{toast:x}=tr(),b=Oi(),E=()=>{ie()&&r(te=>Math.min(te+1,4))},R=()=>r(te=>Math.max(te-1,1)),D="text-3xl font-bold mb-8 text-transparent bg-clip-text bg-gradient-to-r from-purple-400 via-pink-500 to-orange-500",T=te=>{const{id:J,value:ge}=te.target;i(G=>({...G,[J]:ge}))},F=te=>{const J=Array.from(te.target.files);a(J);const ge=J.map(G=>URL.createObjectURL(G));h(ge)},Q=te=>{const J=[...o];J.splice(te,1),a(J);const ge=[...f];URL.revokeObjectURL(ge[te]),ge.splice(te,1),h(ge)},K=te=>{const J=Array.from(te.target.files);u(J)},ie=()=>{switch(n){case 1:return!s.make||!s.model||!s.year?(x({title:"Missing Information",description:"Please fill in all required fields",variant:"destructive"}),!1):!0;case 2:return s.description?!0:(x({title:"Missing Description",description:"Please provide a description of your vehicle",variant:"destructive"}),!1);case 3:return s.price?!0:(x({title:"Missing Price",description:"Please provide an asking price for your vehicle",variant:"destructive"}),!1);default:return!0}},Z=async()=>{if(!t){x({title:"Authentication Required",description:"Please log in to submit a listing",variant:"destructive"});return}w(!0),v(null);try{let te=[],J=[];if(x({title:"Uploading Files",description:"Please wait while we upload your images and documents..."}),o.length>0)try{te=await K4(o,e.id)}catch(ae){console.error("Error uploading images:",ae),x({title:"Image Upload Failed",description:"There was an error uploading your images.",variant:"destructive"})}if(c.length>0)try{J=await H4(c,e.id)}catch(ae){console.error("Error uploading documents:",ae),x({title:"Document Upload Failed",description:"There was an error uploading your documents.",variant:"destructive"})}const ge={user_id:e.id,title:`${s.year} ${s.make} ${s.model}`,make:s.make,model:s.model,year:parseInt(s.year),mileage:s.mileage?parseInt(s.mileage):null,price:parseFloat(s.price),description:s.description,location:s.location,phone:s.phone,images:te,documents:J,status:"approved"},{data:G,error:ee}=await Oe.from("vehicle_listings").insert(ge).select();if(ee)throw ee;x({title:"Listing Submitted",description:"Your vehicle listing has been submitted for review"}),_(!0),setTimeout(()=>{b("/profile")},5e3)}catch(te){console.error("Error submitting listing:",te),v(te),x({title:"Submission Failed",description:te.message||"There was a problem submitting your listing",variant:"destructive"})}finally{w(!1)}};if(!t)return l.jsxs("div",{className:"max-w-4xl mx-auto p-6 md:p-10 bg-slate-800 rounded-xl shadow-2xl text-center",children:[l.jsx("h1",{className:"text-4xl font-extrabold text-center mb-4 text-white",children:"Sell Your Vehicle"}),l.jsxs("div",{className:"text-center py-16",children:[l.jsx("div",{className:"text-yellow-500 text-5xl mb-4",children:""}),l.jsx("h2",{className:"text-3xl font-semibold text-gray-300 mb-4",children:"Login Required"}),l.jsx("p",{className:"text-gray-400 mb-8",children:"Please log in to create a vehicle listing"}),l.jsx(ue,{onClick:()=>b("/login"),size:"lg",className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700",children:"Log In"})]})]});if(j)return l.jsxs("div",{className:"max-w-4xl mx-auto p-6 md:p-10 bg-slate-800 rounded-xl shadow-2xl text-center",children:[l.jsx("h1",{className:"text-4xl font-extrabold text-center mb-4 text-white",children:"Listing Submitted"}),l.jsxs("div",{className:"text-center py-16",children:[l.jsx(g_,{className:"w-24 h-24 text-green-500 mx-auto mb-6"}),l.jsx("h2",{className:"text-3xl font-semibold text-gray-300 mb-4",children:"Thank You!"}),l.jsx("p",{className:"text-gray-400 mb-8",children:"Your vehicle listing has been submitted for review. We'll notify you once it's approved."}),l.jsx(ue,{onClick:()=>b("/profile"),size:"lg",className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700",children:"View My Listings"})]})]});const pe=()=>{switch(n){case 1:return l.jsxs(_e.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},exit:{opacity:0,x:50},transition:{duration:.5},children:[l.jsxs("h2",{className:D,children:[l.jsx(ut,{className:"inline-block mr-2 mb-1"}),"Vehicle Details"]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[l.jsxs("div",{children:[l.jsxs(Ye,{htmlFor:"make",children:["Make ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx(Me,{id:"make",value:s.make,onChange:T,placeholder:"e.g., Toyota",className:"bg-slate-700 border-slate-600 placeholder-slate-400",required:!0})]}),l.jsxs("div",{children:[l.jsxs(Ye,{htmlFor:"model",children:["Model ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx(Me,{id:"model",value:s.model,onChange:T,placeholder:"e.g., Camry",className:"bg-slate-700 border-slate-600 placeholder-slate-400",required:!0})]}),l.jsxs("div",{children:[l.jsxs(Ye,{htmlFor:"year",children:["Year ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx(Me,{id:"year",type:"number",value:s.year,onChange:T,placeholder:"e.g., 2020",className:"bg-slate-700 border-slate-600 placeholder-slate-400",required:!0})]}),l.jsxs("div",{children:[l.jsx(Ye,{htmlFor:"mileage",children:"Mileage"}),l.jsx(Me,{id:"mileage",type:"number",value:s.mileage,onChange:T,placeholder:"e.g., 25000",className:"bg-slate-700 border-slate-600 placeholder-slate-400"})]})]}),l.jsxs("p",{className:"text-sm text-gray-400",children:["Provide accurate details about your vehicle. Fields marked with ",l.jsx("span",{className:"text-red-500",children:"*"})," are required."]})]},"step1");case 2:return l.jsxs(_e.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},exit:{opacity:0,x:50},transition:{duration:.5},children:[l.jsxs("h2",{className:D,children:[l.jsx(Sx,{className:"inline-block mr-2 mb-1"}),"Photos & Description"]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(Ye,{htmlFor:"images",className:"text-white",children:"Upload Photos"}),l.jsx(Me,{id:"images",type:"file",multiple:!0,onChange:F,accept:"image/*",className:"bg-slate-700 border-slate-600 file:text-purple-300 file:bg-slate-600 file:border-0"}),f&&f.length>0?l.jsx("div",{className:"grid grid-cols-3 gap-4 mt-4",children:f.map((te,J)=>l.jsxs("div",{className:"relative group",children:[l.jsx("img",{src:te,alt:`Preview ${J+1}`,className:"w-full h-24 object-cover rounded-md"}),l.jsx("button",{type:"button",onClick:()=>Q(J),className:"absolute top-1 right-1 bg-red-600 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity","aria-label":"Remove image",children:l.jsx(qo,{className:"w-4 h-4"})})]},J))}):l.jsx("div",{className:"mt-2 text-sm text-gray-400",children:"No images selected. Add photos to attract more buyers."})]}),l.jsxs("div",{className:"mb-6",children:[l.jsxs(Ye,{htmlFor:"description",children:["Description ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("textarea",{id:"description",rows:"5",value:s.description,onChange:T,placeholder:"Describe your vehicle's condition, features, etc.",className:"w-full p-2 rounded-md bg-slate-700 border-slate-600 placeholder-slate-400 focus:ring-purple-500 focus:border-purple-500",required:!0})]}),l.jsxs("p",{className:"text-sm text-gray-400",children:["High-quality photos and a detailed description attract more buyers. Fields marked with ",l.jsx("span",{className:"text-red-500",children:"*"})," are required."]})]})]},"step2");case 3:return l.jsxs(_e.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},exit:{opacity:0,x:50},transition:{duration:.5},children:[l.jsxs("h2",{className:D,children:[l.jsx(od,{className:"inline-block mr-2 mb-1"}),"Contact & Price"]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[l.jsxs("div",{children:[l.jsxs(Ye,{htmlFor:"price",children:["Asking Price () ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx(Me,{id:"price",type:"number",value:s.price,onChange:T,placeholder:"e.g., 15000",className:"bg-slate-700 border-slate-600 placeholder-slate-400",required:!0})]}),l.jsxs("div",{children:[l.jsx(Ye,{htmlFor:"phone",children:"Contact Phone (Optional)"}),l.jsx(Me,{id:"phone",type:"tel",value:s.phone,onChange:T,placeholder:"Your phone number",className:"bg-slate-700 border-slate-600 placeholder-slate-400"})]})]}),l.jsxs("p",{className:"text-sm text-gray-400",children:["Set your price and how buyers can reach you. In-app chat is always available. Fields marked with ",l.jsx("span",{className:"text-red-500",children:"*"})," are required."]})]},"step3");case 4:return l.jsxs(_e.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},exit:{opacity:0,x:50},transition:{duration:.5},children:[l.jsxs("h2",{className:D,children:[l.jsx(bi,{className:"inline-block mr-2 mb-1"}),"Document Verification"]}),l.jsxs("div",{className:"mb-6",children:[l.jsx(Ye,{htmlFor:"documents",children:"Upload Vehicle Documents (e.g., Title, Registration)"}),l.jsx(Me,{id:"documents",type:"file",multiple:!0,onChange:K,accept:".pdf,.jpg,.jpeg,.png",className:"bg-slate-700 border-slate-600 file:text-purple-300 file:bg-slate-600 file:border-0"}),c.length>0&&l.jsxs("div",{className:"mt-2 text-sm text-green-400",children:[c.length," ",c.length===1?"document":"documents"," selected"]})]}),l.jsx("p",{className:"text-sm text-gray-400",children:"Upload necessary documents for verification. This builds trust with buyers."}),l.jsx(ue,{className:"mt-6 w-full bg-gradient-to-r from-green-500 to-teal-500 hover:from-green-600 hover:to-teal-600",onClick:Z,disabled:g,children:g?l.jsxs(l.Fragment,{children:[l.jsx(As,{className:"mr-2 h-4 w-4 animate-spin"})," Submitting..."]}):"Submit Listing for Review"}),k&&l.jsx("div",{className:"mt-4 p-3 bg-red-900/50 border border-red-700 rounded-md text-red-200 text-sm",children:k.message||"An error occurred while submitting your listing. Please try again."})]},"step4");default:return null}},Y=[{icon:l.jsx(ut,{}),name:"Details"},{icon:l.jsx(Sx,{}),name:"Media"},{icon:l.jsx(od,{}),name:"Price"},{icon:l.jsx(bi,{}),name:"Docs"}];return l.jsxs("div",{className:"max-w-4xl mx-auto p-6 md:p-10 bg-slate-800 rounded-xl shadow-2xl",children:[l.jsx("h1",{className:"text-4xl font-extrabold text-center mb-4 text-white",children:"Sell Your Vehicle"}),l.jsx("p",{className:"text-center text-gray-300 mb-10",children:"Follow these simple steps to list your vehicle on Your2ndRide."}),l.jsx("div",{className:"flex justify-between items-center mb-12",children:Y.map((te,J)=>l.jsxs(Ne.Fragment,{children:[l.jsxs("div",{className:`flex flex-col items-center ${n>J?"text-purple-400":"text-gray-500"}`,children:[l.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center border-2 ${n>J?"bg-purple-500 border-purple-500 text-white":n===J+1?"border-purple-500 text-purple-400":"border-gray-600"}`,children:Ne.cloneElement(te.icon,{className:"w-5 h-5"})}),l.jsx("span",{className:`mt-2 text-xs font-medium ${n>=J+1?"text-purple-300":"text-gray-400"}`,children:te.name})]}),J<Y.length-1&&l.jsx("div",{className:`flex-1 h-1 mx-2 ${n>J+1?"bg-purple-500":"bg-gray-600"}`})]},te.name))}),l.jsxs("div",{className:"min-h-[300px] overflow-hidden relative",children:[" ",l.jsx(rf,{mode:"wait",children:pe()})]}),l.jsxs("div",{className:"flex justify-between mt-12",children:[l.jsxs(ue,{variant:"outline",onClick:R,disabled:n===1||g,className:"border-purple-500 text-purple-400 hover:bg-purple-500 hover:text-white disabled:opacity-50",children:[l.jsx(zr,{className:"mr-2 h-4 w-4"})," Previous"]}),n<4?l.jsxs(ue,{onClick:E,disabled:g,className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700",children:["Next ",l.jsx(oA,{className:"ml-2 h-4 w-4"})]}):l.jsx("span",{})]})]})},xn=Ne.forwardRef(({className:e,...t},n)=>l.jsx("div",{ref:n,className:Re("rounded-xl border bg-card text-card-foreground shadow-lg",e),...t}));xn.displayName="Card";const Qn=Ne.forwardRef(({className:e,...t},n)=>l.jsx("div",{ref:n,className:Re("flex flex-col space-y-1.5 p-6",e),...t}));Qn.displayName="CardHeader";const yr=Ne.forwardRef(({className:e,...t},n)=>l.jsx("h3",{ref:n,className:Re("text-2xl font-semibold leading-none tracking-tight",e),...t}));yr.displayName="CardTitle";const Jl=Ne.forwardRef(({className:e,...t},n)=>l.jsx("p",{ref:n,className:Re("text-sm text-muted-foreground",e),...t}));Jl.displayName="CardDescription";const wn=Ne.forwardRef(({className:e,...t},n)=>l.jsx("div",{ref:n,className:Re("p-6 pt-0",e),...t}));wn.displayName="CardContent";const Fi=Ne.forwardRef(({className:e,...t},n)=>l.jsx("div",{ref:n,className:Re("flex items-center p-6 pt-0",e),...t}));Fi.displayName="CardFooter";const Y4=(e={})=>{It();const[t,n]=m.useState([]),[r,s]=m.useState(!0),[i,o]=m.useState(null),[a,c]=m.useState(0),[u,f]=m.useState({}),{status:h="approved"}=e;return m.useEffect(()=>{const w=async()=>{try{s(!0);let v=Oe.from("vehicle_listings").select("*",{count:"exact"}).eq("status",h);u.searchTerm&&(v=v.or(`title.ilike.%${u.searchTerm}%,make.ilike.%${u.searchTerm}%,model.ilike.%${u.searchTerm}%`)),u.minPrice&&(v=v.gte("price",u.minPrice)),u.maxPrice&&(v=v.lte("price",u.maxPrice)),u.minYear&&(v=v.gte("year",u.minYear)),u.maxYear&&(v=v.lte("year",u.maxYear)),u.maxMileage&&(v=v.lte("mileage",u.maxMileage)),u.vehicleType&&u.vehicleType!=="All"&&(v=v.eq("make",u.vehicleType));const{data:j,error:_,count:x}=await v;if(_)throw _;n(j||[]),c(x||0)}catch(v){console.error("Error fetching listings:",v),o(v)}finally{s(!1)}};w();const k=Oe.channel("vehicle-listings-changes").on("postgres_changes",{event:"*",schema:"public",table:"vehicle_listings",filter:`status=eq.${h}`},()=>{w()}).subscribe();return()=>{k.unsubscribe()}},[h,u]),{listings:t,loading:r,error:i,count:a,applyFilters:w=>{f(w)}}},G4=()=>{const{user:e}=It(),[t,n]=m.useState([]),[r,s]=m.useState(!0),[i,o]=m.useState(null),[a,c]=m.useState(0);return m.useEffect(()=>{if(!e){n([]),s(!1);return}const u=async()=>{try{s(!0);const{data:h,error:g,count:w}=await Oe.from("vehicle_listings").select("*",{count:"exact"}).eq("user_id",e.id).order("created_at",{ascending:!1});if(g)throw g;n(h||[]),c(w||0)}catch(h){console.error("Error fetching user listings:",h),o(h)}finally{s(!1)}};u();const f=Oe.channel("user-listings-changes").on("postgres_changes",{event:"*",schema:"public",table:"vehicle_listings",filter:`user_id=eq.${e.id}`},()=>{u()}).subscribe();return()=>{f.unsubscribe()}},[e]),{userListings:t,loading:r,error:i,count:a}},Wy=()=>{const{user:e}=It(),[t,n]=m.useState(null),[r,s]=m.useState([]),[i,o]=m.useState([]),[a,c]=m.useState(!0),[u,f]=m.useState(null);return m.useEffect(()=>{if(!e){s([]),o([]),c(!1);return}const k=async()=>{try{c(!0);const{data:j,error:_}=await Oe.rpc("get_user_wishlist",{user_id_param:e.id});if(_)throw _;const x=j||[];s(x);const b=x.map(E=>({...E.vehicle_data,wishlist_id:E.id}));o(b)}catch(j){console.error("Error fetching wishlist:",j),f(j),n(j)}finally{c(!1)}};k();const v=Oe.channel("wishlist-changes").on("postgres_changes",{event:"*",schema:"public",table:"wishlists",filter:`user_id=eq.${e.id}`},()=>{k()}).subscribe();return()=>{v.unsubscribe()}},[e]),{wishlistItems:i,isInWishlist:k=>{const v=r==null?void 0:r.find(j=>j.vehicle_id===k);return v?v.id:!1},addToWishlist:async k=>{if(!e)return n(new Error("You must be logged in to add items to your wishlist")),!1;try{const{error:v}=await Oe.from("wishlists").insert({user_id:e.id,vehicle_id:k});if(v)throw v;return!0}catch(v){return console.error("Error adding to wishlist:",v),n(v),!1}},removeFromWishlist:async k=>{if(!e)return n(new Error("You must be logged in to remove items from your wishlist")),!1;try{const v=r==null?void 0:r.find(_=>_.vehicle_id===k);if(!v)throw new Error("Item not found in wishlist");const{error:j}=await Oe.rpc("delete_wishlist_item",{wishlist_id_param:v.id,user_id_param:e.id});if(j)throw j;return!0}catch(v){return console.error("Error removing from wishlist:",v),n(v),!1}},loading:a,error:t||u}},X4=({vehicleId:e,className:t="",variant:n="outline",size:r="icon"})=>{const[s,i]=m.useState(!1),{isInWishlist:o,addToWishlist:a,removeFromWishlist:c}=Wy(),{toast:u}=tr();It();const h=!!o(e),g=async()=>{if(e){i(!0);try{h?await c(e)&&u({title:"Removed from wishlist",description:"Vehicle has been removed from your wishlist"}):await a(e)&&u({title:"Added to wishlist",description:"Vehicle has been added to your wishlist"})}catch(w){console.error("Wishlist action error:",w),u({title:"Error",description:w.message||"Something went wrong",variant:"destructive"})}finally{i(!1)}}};return l.jsx(ue,{variant:n,size:r,className:`${t} ${h?"bg-pink-600 text-white hover:bg-pink-700":""}`,onClick:g,disabled:s,"aria-label":h?"Remove from wishlist":"Add to wishlist",children:s?l.jsx(As,{className:"h-4 w-4 animate-spin"}):h?l.jsx(mm,{className:"h-4 w-4 fill-current"}):l.jsx(mm,{className:"h-4 w-4"})})},Q4=["All","Toyota","Honda","Ford","Chevrolet","BMW","Mercedes","Audi","Nissan","Hyundai"],J4=()=>{const[e,t]=m.useState(""),[n,r]=m.useState({minPrice:"",maxPrice:"",minYear:"",maxYear:"",maxMileage:"",vehicleType:"All"}),[s,i]=m.useState(!1),[o,a]=m.useState({}),{listings:c,loading:u,error:f,applyFilters:h}=Y4({status:"approved"});m.useEffect(()=>{const v={searchTerm:e,minPrice:n.minPrice?Number(n.minPrice):null,maxPrice:n.maxPrice?Number(n.maxPrice):null,minYear:n.minYear?Number(n.minYear):null,maxYear:n.maxYear?Number(n.maxYear):null,maxMileage:n.maxMileage?Number(n.maxMileage):null,vehicleType:n.vehicleType};JSON.stringify(v)!==JSON.stringify(o)&&(a(v),h(v))},[e,n,h]);const g=v=>{const{name:j,value:_}=v.target;r(x=>({...x,[j]:_}))},w=()=>{r({minPrice:"",maxPrice:"",minYear:"",maxYear:"",maxMileage:"",vehicleType:"All"}),t("")};if(u)return l.jsxs("div",{className:"flex flex-col items-center justify-center py-20",children:[l.jsx(As,{className:"w-12 h-12 text-purple-500 animate-spin mb-4"}),l.jsx("p",{className:"text-xl text-gray-300",children:"Loading vehicles..."})]});if(f)return l.jsxs("div",{className:"text-center py-16 bg-slate-800 rounded-xl shadow-lg",children:[l.jsx("div",{className:"text-red-500 text-5xl mb-4",children:""}),l.jsx("h2",{className:"text-3xl font-semibold text-gray-300 mb-4",children:"Something went wrong"}),l.jsx("p",{className:"text-gray-400 mb-8",children:f.message||"Error loading vehicles"}),l.jsx(ue,{size:"lg",className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700",children:"Try Again"})]});const k={hidden:{opacity:0,y:20},visible:v=>({opacity:1,y:0,transition:{delay:v*.1,duration:.5,ease:"easeOut"}})};return l.jsxs("div",{className:"space-y-8",children:[l.jsxs(_e.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"bg-slate-900 p-6 rounded-xl shadow-xl border border-slate-800",children:[l.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-center mb-6 text-transparent bg-clip-text bg-gradient-to-r from-purple-400 via-pink-500 to-orange-500",children:"Find Your Perfect Vehicle"}),l.jsxs("div",{className:"flex flex-col gap-4",children:[l.jsxs("div",{className:"relative flex-grow",children:[l.jsx(Hl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400"}),l.jsx(Me,{type:"text",placeholder:"Search by make, model, or location...",className:"pl-10 bg-slate-800 border-slate-700 placeholder-slate-400 w-full",value:e,onChange:v=>t(v.target.value)})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs(ue,{variant:"outline",onClick:()=>i(!s),className:"flex items-center gap-2 border-slate-700 text-slate-300",children:[l.jsx(y_,{className:"h-4 w-4"}),s?"Hide Filters":"Show Filters",s?l.jsx(qo,{className:"h-4 w-4"}):l.jsx(dy,{className:"h-4 w-4"})]}),n.minPrice||n.maxPrice||n.minYear||n.maxYear||n.maxMileage||n.vehicleType!=="All"?l.jsxs(ue,{variant:"ghost",onClick:w,className:"text-purple-400 hover:text-purple-300",children:[l.jsx(qo,{className:"h-4 w-4 mr-2"}),"Clear Filters"]}):null]})]})]}),s?l.jsxs("div",{className:"bg-slate-900 p-6 rounded-xl shadow-xl border border-slate-800 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Price Range"}),l.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[l.jsx("div",{children:l.jsx(Me,{type:"number",placeholder:"Min $",name:"minPrice",value:n.minPrice,onChange:g,className:"bg-slate-800 border-slate-700 placeholder-slate-400"})}),l.jsx("div",{children:l.jsx(Me,{type:"number",placeholder:"Max $",name:"maxPrice",value:n.maxPrice,onChange:g,className:"bg-slate-800 border-slate-700 placeholder-slate-400"})})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Year Range"}),l.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[l.jsx("div",{children:l.jsx(Me,{type:"number",placeholder:"Min Year",name:"minYear",value:n.minYear,onChange:g,className:"bg-slate-800 border-slate-700 placeholder-slate-400"})}),l.jsx("div",{children:l.jsx(Me,{type:"number",placeholder:"Max Year",name:"maxYear",value:n.maxYear,onChange:g,className:"bg-slate-800 border-slate-700 placeholder-slate-400"})})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Max Mileage"}),l.jsx(Me,{type:"number",placeholder:"Max Mileage",name:"maxMileage",value:n.maxMileage,onChange:g,className:"bg-slate-800 border-slate-700 placeholder-slate-400"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Vehicle Type"}),l.jsx("select",{name:"vehicleType",value:n.vehicleType,onChange:g,className:"w-full bg-slate-800 border border-slate-700 text-slate-300 rounded-md p-2",children:Q4.map(v=>l.jsx("option",{value:v,children:v},v))})]}),l.jsx(ue,{variant:"outline",className:"border-purple-500 text-purple-400 hover:bg-purple-500 hover:text-white",onClick:w,children:"Reset Filters"})]}):l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2.5 sm:gap-4",children:l.jsx(rf,{children:c.length===0?l.jsxs(_e.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2,duration:.5},className:"col-span-full text-center py-16 bg-slate-800 rounded-xl shadow-lg",children:[l.jsx(ut,{className:"w-24 h-24 text-gray-500 mx-auto mb-6"}),l.jsx("h2",{className:"text-3xl font-semibold text-gray-300 mb-4",children:"No Vehicles Found"}),l.jsx("p",{className:"text-gray-400 mb-8",children:"Try adjusting your filters or check back later for new listings."}),l.jsx(ue,{size:"lg",className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700",onClick:w,children:"Reset Filters"})]}):c.map((v,j)=>l.jsx(_e.div,{custom:j,variants:k,initial:"hidden",animate:"visible",layout:!0,children:l.jsxs(xn,{className:"bg-slate-900 border border-slate-800 overflow-hidden shadow-lg hover:shadow-purple-500/20 transition-all duration-300 h-full flex flex-col",children:[l.jsx(Qn,{className:"p-0 relative group",children:l.jsxs("div",{className:"w-full h-24 sm:h-40 bg-slate-800 flex items-center justify-center overflow-hidden relative",children:[l.jsx("img",{className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105",alt:v.title,src:v.images&&v.images.length>0?v.images[0]:"https://images.unsplash.com/photo-1541899481282-d53bffe3c35d"}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-end p-4",children:l.jsx("span",{className:"text-white font-medium text-sm",children:"Click to view details"})}),l.jsx("div",{className:"absolute top-2 right-2",children:l.jsx(X4,{vehicleId:v.id})})]})}),l.jsxs(wn,{className:"p-2 sm:p-3 flex-1 flex flex-col",children:[l.jsx(yr,{className:"text-[10px] sm:text-base font-bold text-white mb-0.5 line-clamp-1",children:v.title}),l.jsxs("div",{className:"flex items-center text-slate-400 text-[10px] sm:text-sm mb-0.5",children:[l.jsx(ad,{className:"w-4 h-4 mr-1"}),l.jsx("span",{children:v.location||"Location not specified"})]}),l.jsxs("div",{className:"mt-2 mb-4",children:[l.jsxs("div",{className:"text-sm sm:text-xl font-bold text-amber-400 mb-0.5 sm:mb-2",children:["$",parseFloat(v.price).toLocaleString()]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center text-slate-300 text-sm",children:[l.jsx(hy,{className:"w-4 h-4 mr-2 text-blue-400"}),l.jsx("span",{children:v.mileage?`${v.mileage.toLocaleString()} miles`:"Mileage not specified"})]}),l.jsxs("div",{className:"flex items-center text-slate-300 text-sm",children:[l.jsx(uy,{className:"w-4 h-4 mr-2 text-green-400"}),l.jsxs("span",{children:[v.make," ",v.model,"  ",v.year]})]})]})]})]}),l.jsx(Fi,{className:"p-4 pt-0",children:l.jsx(ue,{asChild:!0,className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 h-7 sm:h-9 text-[10px] sm:text-sm font-medium rounded",children:l.jsxs(Ie,{to:`/listing/${v.id}`,className:"flex items-center justify-center",children:[l.jsx(ut,{className:"mr-1 h-3 w-3 sm:h-5 sm:w-5"})," View Details"]})})})]})},v.id))})}),c.length>0&&l.jsx("div",{className:"text-center mt-8",children:l.jsx(ue,{variant:"outline",size:"lg",className:"border-purple-500 text-purple-400 hover:bg-purple-500 hover:text-white",children:"Load More Vehicles"})})]})},Z4=()=>{const e=[{name:"Alex Johnson",role:"Founder & CEO",image:"Portrait of Alex Johnson, CEO"},{name:"Maria Garcia",role:"Head of Operations",image:"Portrait of Maria Garcia, Head of Operations"},{name:"Sam Lee",role:"Lead Developer",image:"Portrait of Sam Lee, Lead Developer"}],t={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.6}}};return l.jsxs("div",{className:"space-y-16 py-10",children:[l.jsxs(_e.section,{variants:t,initial:"hidden",animate:"visible",className:"text-center",children:[l.jsx(ut,{className:"w-20 h-20 text-purple-400 mx-auto mb-6"}),l.jsx("h1",{className:"text-5xl font-extrabold mb-6 text-transparent bg-clip-text bg-gradient-to-r from-purple-400 via-pink-500 to-orange-500",children:"About Your2ndRide"}),l.jsx("p",{className:"text-xl text-gray-300 max-w-3xl mx-auto",children:"We are passionate about connecting buyers and sellers of pre-owned vehicles, making the process transparent, secure, and enjoyable for everyone. Your2ndRide is more than just a marketplace; it's a community built on trust and a shared love for cars."})]}),l.jsxs(_e.section,{variants:t,initial:"hidden",whileInView:"visible",viewport:{once:!0,amount:.2},className:"grid md:grid-cols-3 gap-8 text-center",children:[l.jsxs("div",{className:"glassmorphism-card p-8 text-gray-800 dark:text-gray-200",children:[l.jsx(bA,{className:"w-16 h-16 text-purple-500 mx-auto mb-4"}),l.jsx("h2",{className:"text-2xl font-semibold mb-3",children:"Our Mission"}),l.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"To revolutionize the used car market by providing a trustworthy, user-friendly platform that empowers both buyers and sellers with the tools and information they need."})]}),l.jsxs("div",{className:"glassmorphism-card p-8 text-gray-800 dark:text-gray-200",children:[l.jsx(fy,{className:"w-16 h-16 text-pink-500 mx-auto mb-4"}),l.jsx("h2",{className:"text-2xl font-semibold mb-3",children:"Our Vision"}),l.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"To be the most trusted and preferred online destination for buying and selling pre-owned vehicles globally, fostering a community of satisfied car enthusiasts."})]}),l.jsxs("div",{className:"glassmorphism-card p-8 text-gray-800 dark:text-gray-200",children:[l.jsx(dA,{className:"w-16 h-16 text-orange-500 mx-auto mb-4"}),l.jsx("h2",{className:"text-2xl font-semibold mb-3",children:"Our Values"}),l.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Integrity, Transparency, Customer-Centricity, Innovation, and Community. These principles guide every decision we make."})]})]}),l.jsxs(_e.section,{variants:t,initial:"hidden",whileInView:"visible",viewport:{once:!0,amount:.2},children:[l.jsx("h2",{className:"text-4xl font-bold text-center mb-12 text-transparent bg-clip-text bg-gradient-to-r from-pink-500 to-orange-500",children:"Meet Our Team"}),l.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-10",children:e.map((n,r)=>l.jsxs(_e.div,{variants:t,className:"bg-slate-800 p-6 rounded-lg shadow-xl text-center hover:shadow-purple-500/30 transition-shadow duration-300",children:[l.jsx("div",{className:"w-32 h-32 bg-slate-700 rounded-full mx-auto mb-4 flex items-center justify-center overflow-hidden",children:l.jsx("img",{className:"w-full h-full object-cover",alt:n.name,src:"https://images.unsplash.com/photo-1649015931204-15a3c789e6ea"})}),l.jsx("h3",{className:"text-xl font-semibold text-purple-300",children:n.name}),l.jsx("p",{className:"text-orange-400",children:n.role})]},r))})]})]})},e3=()=>{const e=[{icon:l.jsx(py,{className:"w-8 h-8 text-purple-400"}),title:"Email Us",detail:"support@your2ndride.com",href:"mailto:support@your2ndride.com"},{icon:l.jsx(x_,{className:"w-8 h-8 text-pink-400"}),title:"Call Us",detail:"+1 (555) 123-4567",href:"tel:+15551234567"},{icon:l.jsx(ad,{className:"w-8 h-8 text-orange-400"}),title:"Visit Us",detail:"123 Auto Drive, Car City, CA 90210",href:"#"}],t={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.6}}},n=r=>{r.preventDefault(),alert("Message sent! (This is a placeholder)"),r.target.reset()};return l.jsxs("div",{className:"py-10",children:[l.jsxs(_e.section,{variants:t,initial:"hidden",animate:"visible",className:"text-center mb-16",children:[l.jsx("h1",{className:"text-5xl font-extrabold mb-6 text-transparent bg-clip-text bg-gradient-to-r from-purple-400 via-pink-500 to-orange-500",children:"Get In Touch"}),l.jsx("p",{className:"text-xl text-gray-300 max-w-2xl mx-auto",children:"Have questions, feedback, or need support? We're here to help! Reach out to us through any of the channels below."})]}),l.jsxs("div",{className:"grid md:grid-cols-2 gap-12 items-start",children:[l.jsx(_e.section,{variants:t,initial:"hidden",whileInView:"visible",viewport:{once:!0,amount:.2},className:"space-y-8",children:e.map((r,s)=>l.jsxs("div",{className:"flex items-start space-x-6 p-6 bg-slate-800 rounded-lg shadow-lg",children:[l.jsx("div",{className:"flex-shrink-0 mt-1",children:r.icon}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-semibold text-purple-300 mb-1",children:r.title}),l.jsx("a",{href:r.href,className:"text-lg text-gray-300 hover:text-orange-400 transition-colors duration-300",children:r.detail})]})]},s))}),l.jsxs(_e.section,{variants:t,initial:"hidden",whileInView:"visible",viewport:{once:!0,amount:.2},className:"bg-slate-800 p-8 rounded-xl shadow-2xl",children:[l.jsx("h2",{className:"text-3xl font-bold mb-8 text-center text-transparent bg-clip-text bg-gradient-to-r from-pink-500 to-orange-500",children:"Send Us a Message"}),l.jsxs("form",{onSubmit:n,className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx(Ye,{htmlFor:"name",className:"text-gray-300",children:"Full Name"}),l.jsx(Me,{id:"name",type:"text",required:!0,placeholder:"Your Name",className:"bg-slate-700 border-slate-600 placeholder-slate-400 focus:ring-purple-500 focus:border-purple-500"})]}),l.jsxs("div",{children:[l.jsx(Ye,{htmlFor:"email",className:"text-gray-300",children:"Email Address"}),l.jsx(Me,{id:"email",type:"email",required:!0,placeholder:"your.email@example.com",className:"bg-slate-700 border-slate-600 placeholder-slate-400 focus:ring-purple-500 focus:border-purple-500"})]}),l.jsxs("div",{children:[l.jsx(Ye,{htmlFor:"subject",className:"text-gray-300",children:"Subject"}),l.jsx(Me,{id:"subject",type:"text",required:!0,placeholder:"Reason for contacting",className:"bg-slate-700 border-slate-600 placeholder-slate-400 focus:ring-purple-500 focus:border-purple-500"})]}),l.jsxs("div",{children:[l.jsx(Ye,{htmlFor:"message",className:"text-gray-300",children:"Message"}),l.jsx("textarea",{id:"message",rows:"5",required:!0,placeholder:"Your message here...",className:"w-full p-2 rounded-md bg-slate-700 border-slate-600 placeholder-slate-400 focus:ring-purple-500 focus:border-purple-500"})]}),l.jsxs(ue,{type:"submit",size:"lg",className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700",children:["Send Message ",l.jsx(w_,{className:"ml-2 h-5 w-5"})]})]})]})]})]})},t3=()=>{const{user:e}=It(),{wishlistItems:t,removeFromWishlist:n,loading:r,error:s}=Wy(),i={hidden:{opacity:0,scale:.9},visible:o=>({opacity:1,scale:1,transition:{delay:o*.1,duration:.5,ease:"easeOut"}})};return r?l.jsxs("div",{className:"flex flex-col items-center justify-center py-20",children:[l.jsx(As,{className:"w-12 h-12 text-pink-500 animate-spin mb-4"}),l.jsx("p",{className:"text-xl text-gray-300",children:"Loading your wishlist..."})]}):s?l.jsxs("div",{className:"text-center py-16 bg-slate-800 rounded-xl shadow-lg",children:[l.jsx("div",{className:"text-red-500 text-5xl mb-4",children:""}),l.jsx("h2",{className:"text-3xl font-semibold text-gray-300 mb-4",children:"Something went wrong"}),l.jsx("p",{className:"text-gray-400 mb-8",children:s.message||"Error loading wishlist"}),l.jsx(ue,{size:"lg",className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700",children:"Try Again"})]}):e?l.jsxs("div",{className:"space-y-10 py-10",children:[l.jsxs(_e.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center",children:[l.jsx("h1",{className:"text-5xl font-extrabold mb-6 text-transparent bg-clip-text bg-gradient-to-r from-purple-400 via-pink-500 to-orange-500",children:"My Wishlist"}),l.jsx("p",{className:"text-xl text-gray-300 max-w-2xl mx-auto",children:"Your saved vehicles. Keep an eye on your favorites and never miss a deal!"})]}),t.length===0?l.jsxs(_e.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2,duration:.5},className:"text-center py-16 bg-slate-800 rounded-xl shadow-lg",children:[l.jsx(pm,{className:"w-24 h-24 text-gray-500 mx-auto mb-6"}),l.jsx("h2",{className:"text-3xl font-semibold text-gray-300 mb-4",children:"Your Wishlist is Empty"}),l.jsx("p",{className:"text-gray-400 mb-8",children:"Start browsing and add some vehicles you love!"}),l.jsx(Ie,{to:"/buy",children:l.jsx(ue,{size:"lg",className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700",children:"Browse Cars"})})]}):l.jsx("div",{className:"grid md:grid-cols-2 gap-8",children:t.map((o,a)=>l.jsxs(_e.custom,{custom:a,variants:i,initial:"hidden",animate:"visible",component:xn,className:"bg-slate-800 border-slate-700 overflow-hidden shadow-lg hover:shadow-pink-500/30 transition-all duration-300 transform hover:-translate-y-1",children:[l.jsxs(Qn,{className:"p-0 relative",children:[l.jsx("div",{className:"w-full h-56 bg-slate-700 flex items-center justify-center",children:l.jsx("img",{className:"w-full h-full object-cover",alt:o.title,src:o.images&&o.images.length>0?o.images[0]:"https://images.unsplash.com/photo-1675023112817-52b789fd2ef0"})}),l.jsx(ue,{variant:"destructive",size:"icon",className:"absolute top-4 right-4 bg-red-600/80 hover:bg-red-700",onClick:()=>n(o.id),"aria-label":"Remove from wishlist",children:l.jsx(pm,{className:"w-5 h-5"})})]}),l.jsxs(wn,{className:"p-6",children:[l.jsx(yr,{className:"text-2xl font-bold text-pink-300 mb-2",children:o.title}),l.jsxs("div",{className:"flex items-center text-gray-400 text-sm mb-1",children:[l.jsx(od,{className:"w-4 h-4 mr-2 text-orange-400"}),l.jsxs("span",{className:"text-xl font-semibold text-orange-400",children:["$",parseFloat(o.price).toLocaleString()]})]}),l.jsxs("div",{className:"flex items-center text-gray-400 text-sm mb-1",children:[l.jsx(ut,{className:"w-4 h-4 mr-2 text-blue-400"}),o.make," ",o.model]}),l.jsxs("div",{className:"flex items-center text-gray-400 text-sm mb-1",children:[l.jsx(uy,{className:"w-4 h-4 mr-2 text-blue-400"}),"Year: ",o.year]}),l.jsxs("div",{className:"flex items-center text-gray-400 text-sm",children:[l.jsx(hy,{className:"w-4 h-4 mr-2 text-green-400"}),"Mileage: ",o.mileage?`${o.mileage.toLocaleString()} miles`:"N/A"]})]}),l.jsx(Fi,{className:"p-6 bg-slate-700/50",children:l.jsx(Ie,{to:`/listings/${o.id}`,className:"w-full",children:l.jsxs(ue,{className:"w-full bg-gradient-to-r from-pink-600 to-orange-600 hover:from-pink-700 hover:to-orange-700",children:["View Details ",l.jsx(ut,{className:"ml-2 h-4 w-4"})]})})})]},o.id))})]}):l.jsxs("div",{className:"text-center py-16 bg-slate-800 rounded-xl shadow-lg",children:[l.jsx("div",{className:"text-yellow-500 text-5xl mb-4",children:""}),l.jsx("h2",{className:"text-3xl font-semibold text-gray-300 mb-4",children:"Login Required"}),l.jsx("p",{className:"text-gray-400 mb-8",children:"Please log in to view your wishlist"}),l.jsx(Ie,{to:"/login",children:l.jsx(ue,{size:"lg",className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700",children:"Log In"})})]})},n3=[{title:"User Management",icon:l.jsx(cd,{className:"w-8 h-8"}),description:"View, edit, and manage user accounts.",path:"/admin/users",color:"text-purple-400"},{title:"Listing Management",icon:l.jsx(v_,{className:"w-8 h-8"}),description:"Approve, reject, or remove vehicle listings.",path:"/admin/listings",color:"text-pink-400"},{title:"Reports & Moderation",icon:l.jsx(b_,{className:"w-8 h-8"}),description:"Handle user reports and content moderation.",path:"/admin/reports",color:"text-orange-400"},{title:"Ban Management",icon:l.jsx(p_,{className:"w-8 h-8"}),description:"Manage banned users and appeals.",path:"/admin/bans",color:"text-red-400"},{title:"Site Settings",icon:l.jsx(ld,{className:"w-8 h-8"}),description:"Configure global site parameters.",path:"/admin/settings",color:"text-blue-400"},{title:"Analytics",icon:l.jsx(m_,{className:"w-8 h-8"}),description:"View site usage statistics and trends.",path:"/admin/analytics",color:"text-green-400"},{title:"Chat Moderation",icon:l.jsx(Ho,{className:"w-8 h-8"}),description:"Monitor and moderate user chats.",path:"/admin/chat",color:"text-teal-400"}],r3=()=>{const e={hidden:{opacity:0,y:20},visible:t=>({opacity:1,y:0,transition:{delay:t*.05,duration:.4,ease:"easeOut"}})};return l.jsxs("div",{className:"space-y-10 py-10",children:[l.jsxs(_e.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center",children:[l.jsx("h1",{className:"text-5xl font-extrabold mb-6 text-transparent bg-clip-text bg-gradient-to-r from-purple-400 via-pink-500 to-orange-500",children:"Admin Dashboard"}),l.jsx("p",{className:"text-xl text-gray-300 max-w-2xl mx-auto",children:"Welcome, Admin! Manage Your2ndRide platform efficiently from here."})]}),l.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:n3.map((t,n)=>l.jsxs(_e.custom,{custom:n,variants:e,initial:"hidden",animate:"visible",component:xn,className:"bg-slate-800 border-slate-700 overflow-hidden shadow-lg hover:shadow-purple-500/30 transition-all duration-300 transform hover:-translate-y-1 flex flex-col",children:[l.jsxs(Qn,{className:"flex flex-row items-center space-x-4 p-6",children:[l.jsx("div",{className:t.color,children:t.icon}),l.jsx(yr,{className:`text-2xl font-bold ${t.color}`,children:t.title})]}),l.jsx(wn,{className:"p-6 flex-grow",children:l.jsx("p",{className:"text-gray-400",children:t.description})}),l.jsx(Fi,{className:"p-6 bg-slate-700/50",children:l.jsx(ue,{asChild:!0,className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700",children:l.jsxs(Ie,{to:t.path,children:["Go to ",t.title.split(" ")[0]]})})})]},t.title))})]})},s3=()=>l.jsxs(_e.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.5,ease:"easeOut"},className:"flex flex-col items-center justify-center min-h-[calc(100vh-200px)] text-center px-4",children:[l.jsx(iA,{className:"w-32 h-32 text-orange-400 mb-8 animate-bounce"}),l.jsx("h1",{className:"text-6xl md:text-8xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-purple-500 via-pink-500 to-orange-500 mb-6",children:"404"}),l.jsx("h2",{className:"text-3xl md:text-4xl font-semibold text-gray-200 mb-4",children:"Oops! Page Not Found"}),l.jsx("p",{className:"text-lg text-gray-400 mb-10 max-w-md",children:"The page you're looking for seems to have taken a wrong turn. Don't worry, it happens to the best of us!"}),l.jsx(Ie,{to:"/",children:l.jsxs(ue,{size:"lg",className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white shadow-lg transform hover:scale-105 transition-transform duration-300",children:[l.jsx(fA,{className:"mr-2 h-5 w-5"}),"Go Back Home"]})})]}),i3=()=>{const e=Oi(),{toast:t}=tr(),[n,r]=m.useState(""),[s,i]=m.useState(""),[o,a]=m.useState(!1),[c,u]=m.useState(null),f=async h=>{h.preventDefault(),a(!0),u(null);try{const{data:g,error:w}=await Oe.auth.signInWithPassword({email:n,password:s});if(w)throw w;t({title:"Login Successful",description:"Welcome back to Your2ndRide!",variant:"default"}),e("/")}catch(g){u(g.message),t({title:"Login Failed",description:g.message,variant:"destructive"})}finally{a(!1)}};return l.jsx(_e.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"flex items-center justify-center py-12",children:l.jsxs(xn,{className:"w-full max-w-md bg-slate-800 border-slate-700 shadow-2xl",children:[l.jsxs(Qn,{className:"text-center",children:[l.jsx(_e.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:260,damping:20},children:l.jsx(ym,{className:"mx-auto h-16 w-16 text-purple-400 mb-4"})}),l.jsx(yr,{className:"text-3xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-purple-400 via-pink-500 to-orange-500",children:"Welcome Back!"}),l.jsx(Jl,{className:"text-gray-400",children:"Sign in to continue to Your2ndRide."})]}),l.jsx(wn,{children:l.jsxs("form",{onSubmit:f,className:"space-y-6",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs(Ye,{htmlFor:"email",className:"text-gray-300 flex items-center",children:[l.jsx(py,{className:"w-4 h-4 mr-2 text-purple-400"})," Email Address"]}),l.jsx(Me,{id:"email",type:"email",placeholder:"you@example.com",required:!0,value:n,onChange:h=>r(h.target.value),className:"bg-slate-700 border-slate-600 placeholder-slate-500 focus:ring-purple-500 focus:border-purple-500"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs(Ye,{htmlFor:"password",className:"text-gray-300 flex items-center",children:[l.jsx(gm,{className:"w-4 h-4 mr-2 text-purple-400"})," Password"]}),l.jsx(Me,{id:"password",type:"password",placeholder:"",required:!0,value:s,onChange:h=>i(h.target.value),className:"bg-slate-700 border-slate-600 placeholder-slate-500 focus:ring-purple-500 focus:border-purple-500"})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("div",{className:"flex items-center"}),l.jsx(Ie,{to:"/forgot-password",className:"text-sm text-purple-400 hover:underline",children:"Forgot password?"})]}),c&&l.jsxs("div",{className:"flex items-center space-x-2 text-red-500 text-sm",children:[l.jsx(qd,{className:"h-4 w-4"}),l.jsx("span",{children:c})]}),l.jsx(ue,{type:"submit",className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-lg py-3",disabled:o,children:o?"Logging in...":"Login"})]})}),l.jsx(Fi,{className:"flex flex-col items-center space-y-2",children:l.jsxs("p",{className:"text-sm text-gray-400",children:["Don't have an account?"," ",l.jsx(Ie,{to:"/register",className:"font-medium text-purple-400 hover:underline",children:"Sign up"})]})})]})})},o3=()=>{const e=Oi(),{toast:t}=tr(),[n,r]=m.useState(""),[s,i]=m.useState(""),[o,a]=m.useState(""),[c,u]=m.useState(""),[f,h]=m.useState(!1),[g,w]=m.useState(null),k=async v=>{if(v.preventDefault(),h(!0),w(null),o!==c){w("Passwords do not match"),h(!1);return}try{const{data:j,error:_}=await Oe.auth.signUp({email:s,password:o,options:{data:{full_name:n}}});if(_)throw _;t({title:"Registration Successful",description:"Please check your email to confirm your account.",variant:"default"}),e("/login")}catch(j){w(j.message),t({title:"Registration Failed",description:j.message,variant:"destructive"})}finally{h(!1)}};return l.jsx(_e.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"flex items-center justify-center py-12",children:l.jsxs(xn,{className:"w-full max-w-md bg-slate-800 border-slate-700 shadow-2xl",children:[l.jsxs(Qn,{className:"text-center",children:[l.jsx(_e.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:260,damping:20},children:l.jsx(vm,{className:"mx-auto h-16 w-16 text-purple-400 mb-4"})}),l.jsx(yr,{className:"text-3xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-purple-400 via-pink-500 to-orange-500",children:"Create an Account"}),l.jsx(Jl,{className:"text-gray-400",children:"Join Your2ndRide today!"})]}),l.jsx(wn,{children:l.jsxs("form",{onSubmit:k,className:"space-y-6",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs(Ye,{htmlFor:"fullName",className:"text-gray-300 flex items-center",children:[l.jsx(kA,{className:"w-4 h-4 mr-2 text-purple-400"})," Full Name"]}),l.jsx(Me,{id:"fullName",type:"text",placeholder:"John Doe",required:!0,value:n,onChange:v=>r(v.target.value),className:"bg-slate-700 border-slate-600 placeholder-slate-500 focus:ring-purple-500 focus:border-purple-500"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs(Ye,{htmlFor:"email",className:"text-gray-300 flex items-center",children:[l.jsx(py,{className:"w-4 h-4 mr-2 text-purple-400"})," Email Address"]}),l.jsx(Me,{id:"email",type:"email",placeholder:"you@example.com",required:!0,value:s,onChange:v=>i(v.target.value),className:"bg-slate-700 border-slate-600 placeholder-slate-500 focus:ring-purple-500 focus:border-purple-500"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs(Ye,{htmlFor:"password",className:"text-gray-300 flex items-center",children:[l.jsx(gm,{className:"w-4 h-4 mr-2 text-purple-400"})," Password"]}),l.jsx(Me,{id:"password",type:"password",placeholder:"",required:!0,value:o,onChange:v=>a(v.target.value),className:"bg-slate-700 border-slate-600 placeholder-slate-500 focus:ring-purple-500 focus:border-purple-500"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs(Ye,{htmlFor:"confirmPassword",className:"text-gray-300 flex items-center",children:[l.jsx(gm,{className:"w-4 h-4 mr-2 text-purple-400"})," Confirm Password"]}),l.jsx(Me,{id:"confirmPassword",type:"password",placeholder:"",required:!0,value:c,onChange:v=>u(v.target.value),className:"bg-slate-700 border-slate-600 placeholder-slate-500 focus:ring-purple-500 focus:border-purple-500"})]}),g&&l.jsxs("div",{className:"flex items-center space-x-2 text-red-500 text-sm",children:[l.jsx(qd,{className:"h-4 w-4"}),l.jsx("span",{children:g})]}),l.jsx(ue,{type:"submit",className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-lg py-3",disabled:f,children:f?"Creating Account...":"Register"})]})}),l.jsx(Fi,{className:"flex flex-col items-center space-y-2",children:l.jsxs("p",{className:"text-sm text-gray-400",children:["Already have an account?"," ",l.jsx(Ie,{to:"/login",className:"font-medium text-purple-400 hover:underline",children:"Sign in"})]})})]})})},a3={pending:"bg-yellow-500",approved:"bg-green-500",rejected:"bg-red-500"},l3=()=>{const{userListings:e,loading:t,error:n}=G4(),{toast:r}=tr(),s=async i=>{if(confirm("Are you sure you want to delete this listing?"))try{const{error:o}=await Oe.rpc("delete_vehicle_listing",{listing_id_param:i,user_id_param:Oe.auth.getUser().then(({data:a})=>a.user.id)});if(o)throw o;r({title:"Listing Deleted",description:"Your listing has been successfully deleted."})}catch(o){console.error("Error deleting listing:",o),r({title:"Error",description:"Failed to delete listing. Please try again.",variant:"destructive"})}};return t?l.jsx("div",{className:"text-center py-8",children:"Loading your listings..."}):n?l.jsx("div",{className:"text-center py-8 text-red-500",children:"Error loading listings. Please try again."}):e.length===0?l.jsxs("div",{className:"text-center py-8",children:[l.jsx("p",{className:"mb-4",children:"You don't have any vehicle listings yet."}),l.jsx(ue,{asChild:!0,children:l.jsx(Ie,{to:"/sell",children:"Create Your First Listing"})})]}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("h3",{className:"text-xl font-semibold text-purple-300",children:"Your Vehicle Listings"}),l.jsx(ue,{asChild:!0,variant:"outline",className:"border-purple-500 text-purple-300 hover:bg-purple-500/20",children:l.jsx(Ie,{to:"/sell",children:"+ Add New Listing"})})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:e.map(i=>l.jsxs(xn,{className:"bg-slate-800 border-slate-700 overflow-hidden",children:[l.jsxs("div",{className:"relative h-48 overflow-hidden",children:[i.images&&i.images[0]?l.jsx("img",{src:i.images[0],alt:i.title,className:"w-full h-full object-cover"}):l.jsx("div",{className:"w-full h-full bg-slate-700 flex items-center justify-center",children:l.jsx("p",{className:"text-slate-500",children:"No Image"})}),l.jsx(Ls,{className:`absolute top-2 right-2 ${a3[i.status]||"bg-slate-500"}`,children:i.status.charAt(0).toUpperCase()+i.status.slice(1)})]}),l.jsxs(Qn,{className:"pb-2",children:[l.jsx(yr,{className:"text-lg font-bold",children:i.title}),l.jsxs(Jl,{children:["$",i.price.toLocaleString(),"  ",i.location||"Location not specified"]})]}),l.jsx(wn,{className:"pb-2",children:l.jsx("p",{className:"text-sm text-slate-400 line-clamp-2",children:i.description||"No description provided."})}),l.jsxs(Fi,{className:"flex justify-between pt-2",children:[l.jsx(ue,{variant:"outline",size:"sm",asChild:!0,children:l.jsxs(Ie,{to:`/listing/${i.id}`,children:[l.jsx(fy,{className:"mr-1 h-4 w-4"})," View"]})}),l.jsxs("div",{className:"space-x-2",children:[l.jsx(ue,{variant:"outline",size:"sm",asChild:!0,children:l.jsxs(Ie,{to:`/edit-listing/${i.id}`,children:[l.jsx(vA,{className:"mr-1 h-4 w-4"})," Edit"]})}),l.jsxs(ue,{variant:"destructive",size:"sm",onClick:()=>s(i.id),children:[l.jsx(j_,{className:"mr-1 h-4 w-4"})," Delete"]})]})]})]},i.id))})]})};function je(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function c3(e,t){const n=m.createContext(t),r=i=>{const{children:o,...a}=i,c=m.useMemo(()=>a,Object.values(a));return l.jsx(n.Provider,{value:c,children:o})};r.displayName=e+"Provider";function s(i){const o=m.useContext(n);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[r,s]}function Wr(e,t=[]){let n=[];function r(i,o){const a=m.createContext(o),c=n.length;n=[...n,o];const u=h=>{var _;const{scope:g,children:w,...k}=h,v=((_=g==null?void 0:g[e])==null?void 0:_[c])||a,j=m.useMemo(()=>k,Object.values(k));return l.jsx(v.Provider,{value:j,children:w})};u.displayName=i+"Provider";function f(h,g){var v;const w=((v=g==null?void 0:g[e])==null?void 0:v[c])||a,k=m.useContext(w);if(k)return k;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[u,f]}const s=()=>{const i=n.map(o=>m.createContext(o));return function(a){const c=(a==null?void 0:a[e])||i;return m.useMemo(()=>({[`__scope${e}`]:{...a,[e]:c}}),[a,c])}};return s.scopeName=e,[r,u3(s,...t)]}function u3(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:c,scopeName:u})=>{const h=c(i)[`__scope${u}`];return{...a,...h}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}function $m(e){const t=d3(e),n=m.forwardRef((r,s)=>{const{children:i,...o}=r,a=m.Children.toArray(i),c=a.find(h3);if(c){const u=c.props.children,f=a.map(h=>h===c?m.Children.count(u)>1?m.Children.only(null):m.isValidElement(u)?u.props.children:null:h);return l.jsx(t,{...o,ref:s,children:m.isValidElement(u)?m.cloneElement(u,void 0,f):null})}return l.jsx(t,{...o,ref:s,children:i})});return n.displayName=`${e}.Slot`,n}function d3(e){const t=m.forwardRef((n,r)=>{const{children:s,...i}=n;if(m.isValidElement(s)){const o=m3(s),a=p3(i,s.props);return s.type!==m.Fragment&&(a.ref=r?Kd(r,o):o),m.cloneElement(s,a)}return m.Children.count(s)>1?m.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var f3=Symbol("radix.slottable");function h3(e){return m.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===f3}function p3(e,t){const n={...t};for(const r in t){const s=e[r],i=t[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const c=i(...a);return s(...a),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...e,...n}}function m3(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function g3(e){const t=e+"CollectionProvider",[n,r]=Wr(t),[s,i]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=v=>{const{scope:j,children:_}=v,x=Ne.useRef(null),b=Ne.useRef(new Map).current;return l.jsx(s,{scope:j,itemMap:b,collectionRef:x,children:_})};o.displayName=t;const a=e+"CollectionSlot",c=$m(a),u=Ne.forwardRef((v,j)=>{const{scope:_,children:x}=v,b=i(a,_),E=Ke(j,b.collectionRef);return l.jsx(c,{ref:E,children:x})});u.displayName=a;const f=e+"CollectionItemSlot",h="data-radix-collection-item",g=$m(f),w=Ne.forwardRef((v,j)=>{const{scope:_,children:x,...b}=v,E=Ne.useRef(null),R=Ke(j,E),D=i(f,_);return Ne.useEffect(()=>(D.itemMap.set(E,{ref:E,...b}),()=>void D.itemMap.delete(E))),l.jsx(g,{[h]:"",ref:R,children:x})});w.displayName=f;function k(v){const j=i(e+"CollectionConsumer",v);return Ne.useCallback(()=>{const x=j.collectionRef.current;if(!x)return[];const b=Array.from(x.querySelectorAll(`[${h}]`));return Array.from(j.itemMap.values()).sort((D,T)=>b.indexOf(D.ref.current)-b.indexOf(T.ref.current))},[j.collectionRef,j.itemMap])}return[{Provider:o,Slot:u,ItemSlot:w},k,r]}var Pt=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},y3=mg[" useId ".trim().toString()]||(()=>{}),v3=0;function Cs(e){const[t,n]=m.useState(y3());return Pt(()=>{e||n(r=>r??String(v3++))},[e]),e||(t?`radix-${t}`:"")}var x3=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],aa=x3.reduce((e,t)=>{const n=$m(`Primitive.${t}`),r=m.forwardRef((s,i)=>{const{asChild:o,...a}=s,c=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(c,{...a,ref:i})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function Lt(e){const t=m.useRef(e);return m.useEffect(()=>{t.current=e}),m.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}var w3=mg[" useInsertionEffect ".trim().toString()]||Pt;function Jo({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[s,i,o]=b3({defaultProp:t,onChange:n}),a=e!==void 0,c=a?e:s;{const f=m.useRef(e!==void 0);m.useEffect(()=>{const h=f.current;h!==a&&console.warn(`${r} is changing from ${h?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=a},[a,r])}const u=m.useCallback(f=>{var h;if(a){const g=S3(f)?f(e):f;g!==e&&((h=o.current)==null||h.call(o,g))}else i(f)},[a,e,i,o]);return[c,u]}function b3({defaultProp:e,onChange:t}){const[n,r]=m.useState(e),s=m.useRef(n),i=m.useRef(t);return w3(()=>{i.current=t},[t]),m.useEffect(()=>{var o;s.current!==n&&((o=i.current)==null||o.call(i,n),s.current=n)},[n,s]),[n,r,i]}function S3(e){return typeof e=="function"}var _3=m.createContext(void 0);function Ky(e){const t=m.useContext(_3);return e||t||"ltr"}var Jh="rovingFocusGroup.onEntryFocus",j3={bubbles:!1,cancelable:!0},Zl="RovingFocusGroup",[Vm,fk,k3]=g3(Zl),[C3,hk]=Wr(Zl,[k3]),[E3,N3]=C3(Zl),pk=m.forwardRef((e,t)=>l.jsx(Vm.Provider,{scope:e.__scopeRovingFocusGroup,children:l.jsx(Vm.Slot,{scope:e.__scopeRovingFocusGroup,children:l.jsx(P3,{...e,ref:t})})}));pk.displayName=Zl;var P3=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:f=!1,...h}=e,g=m.useRef(null),w=Ke(t,g),k=Ky(i),[v,j]=Jo({prop:o,defaultProp:a??null,onChange:c,caller:Zl}),[_,x]=m.useState(!1),b=Lt(u),E=fk(n),R=m.useRef(!1),[D,T]=m.useState(0);return m.useEffect(()=>{const F=g.current;if(F)return F.addEventListener(Jh,b),()=>F.removeEventListener(Jh,b)},[b]),l.jsx(E3,{scope:n,orientation:r,dir:k,loop:s,currentTabStopId:v,onItemFocus:m.useCallback(F=>j(F),[j]),onItemShiftTab:m.useCallback(()=>x(!0),[]),onFocusableItemAdd:m.useCallback(()=>T(F=>F+1),[]),onFocusableItemRemove:m.useCallback(()=>T(F=>F-1),[]),children:l.jsx(aa.div,{tabIndex:_||D===0?-1:0,"data-orientation":r,...h,ref:w,style:{outline:"none",...e.style},onMouseDown:je(e.onMouseDown,()=>{R.current=!0}),onFocus:je(e.onFocus,F=>{const Q=!R.current;if(F.target===F.currentTarget&&Q&&!_){const K=new CustomEvent(Jh,j3);if(F.currentTarget.dispatchEvent(K),!K.defaultPrevented){const ie=E().filter(J=>J.focusable),Z=ie.find(J=>J.active),pe=ie.find(J=>J.id===v),te=[Z,pe,...ie].filter(Boolean).map(J=>J.ref.current);yk(te,f)}}R.current=!1}),onBlur:je(e.onBlur,()=>x(!1))})})}),mk="RovingFocusGroupItem",gk=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,children:o,...a}=e,c=Cs(),u=i||c,f=N3(mk,n),h=f.currentTabStopId===u,g=fk(n),{onFocusableItemAdd:w,onFocusableItemRemove:k,currentTabStopId:v}=f;return m.useEffect(()=>{if(r)return w(),()=>k()},[r,w,k]),l.jsx(Vm.ItemSlot,{scope:n,id:u,focusable:r,active:s,children:l.jsx(aa.span,{tabIndex:h?0:-1,"data-orientation":f.orientation,...a,ref:t,onMouseDown:je(e.onMouseDown,j=>{r?f.onItemFocus(u):j.preventDefault()}),onFocus:je(e.onFocus,()=>f.onItemFocus(u)),onKeyDown:je(e.onKeyDown,j=>{if(j.key==="Tab"&&j.shiftKey){f.onItemShiftTab();return}if(j.target!==j.currentTarget)return;const _=A3(j,f.orientation,f.dir);if(_!==void 0){if(j.metaKey||j.ctrlKey||j.altKey||j.shiftKey)return;j.preventDefault();let b=g().filter(E=>E.focusable).map(E=>E.ref.current);if(_==="last")b.reverse();else if(_==="prev"||_==="next"){_==="prev"&&b.reverse();const E=b.indexOf(j.currentTarget);b=f.loop?O3(b,E+1):b.slice(E+1)}setTimeout(()=>yk(b))}}),children:typeof o=="function"?o({isCurrentTabStop:h,hasTabStop:v!=null}):o})})});gk.displayName=mk;var T3={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function R3(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function A3(e,t,n){const r=R3(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return T3[r]}function yk(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function O3(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var D3=pk,L3=gk;function I3(e,t){return m.useReducer((n,r)=>t[n][r]??n,e)}var la=e=>{const{present:t,children:n}=e,r=M3(t),s=typeof n=="function"?n({present:r.isPresent}):m.Children.only(n),i=Ke(r.ref,F3(s));return typeof n=="function"||r.isPresent?m.cloneElement(s,{ref:i}):null};la.displayName="Presence";function M3(e){const[t,n]=m.useState(),r=m.useRef(null),s=m.useRef(e),i=m.useRef("none"),o=e?"mounted":"unmounted",[a,c]=I3(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const u=Zc(r.current);i.current=a==="mounted"?u:"none"},[a]),Pt(()=>{const u=r.current,f=s.current;if(f!==e){const g=i.current,w=Zc(u);e?c("MOUNT"):w==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(f&&g!==w?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),Pt(()=>{if(t){let u;const f=t.ownerDocument.defaultView??window,h=w=>{const v=Zc(r.current).includes(w.animationName);if(w.target===t&&v&&(c("ANIMATION_END"),!s.current)){const j=t.style.animationFillMode;t.style.animationFillMode="forwards",u=f.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=j)})}},g=w=>{w.target===t&&(i.current=Zc(r.current))};return t.addEventListener("animationstart",g),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{f.clearTimeout(u),t.removeEventListener("animationstart",g),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:m.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function Zc(e){return(e==null?void 0:e.animationName)||"none"}function F3(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var af="Tabs",[$3,bU]=Wr(af,[hk]),vk=hk(),[V3,Hy]=$3(af),xk=m.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:a,activationMode:c="automatic",...u}=e,f=Ky(a),[h,g]=Jo({prop:r,onChange:s,defaultProp:i??"",caller:af});return l.jsx(V3,{scope:n,baseId:Cs(),value:h,onValueChange:g,orientation:o,dir:f,activationMode:c,children:l.jsx(aa.div,{dir:f,"data-orientation":o,...u,ref:t})})});xk.displayName=af;var wk="TabsList",bk=m.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...s}=e,i=Hy(wk,n),o=vk(n);return l.jsx(D3,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:l.jsx(aa.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:t})})});bk.displayName=wk;var Sk="TabsTrigger",_k=m.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=e,o=Hy(Sk,n),a=vk(n),c=Ck(o.baseId,r),u=Ek(o.baseId,r),f=r===o.value;return l.jsx(L3,{asChild:!0,...a,focusable:!s,active:f,children:l.jsx(aa.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":u,"data-state":f?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...i,ref:t,onMouseDown:je(e.onMouseDown,h=>{!s&&h.button===0&&h.ctrlKey===!1?o.onValueChange(r):h.preventDefault()}),onKeyDown:je(e.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(r)}),onFocus:je(e.onFocus,()=>{const h=o.activationMode!=="manual";!f&&!s&&h&&o.onValueChange(r)})})})});_k.displayName=Sk;var jk="TabsContent",kk=m.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...o}=e,a=Hy(jk,n),c=Ck(a.baseId,r),u=Ek(a.baseId,r),f=r===a.value,h=m.useRef(f);return m.useEffect(()=>{const g=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(g)},[]),l.jsx(la,{present:s||f,children:({present:g})=>l.jsx(aa.div,{"data-state":f?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":c,hidden:!g,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:h.current?"0s":void 0},children:g&&i})})});kk.displayName=jk;function Ck(e,t){return`${e}-trigger-${t}`}function Ek(e,t){return`${e}-content-${t}`}var B3=xk,Nk=bk,Pk=_k,Tk=kk;const qy=B3,lf=m.forwardRef(({className:e,...t},n)=>l.jsx(Nk,{ref:n,className:Re("inline-flex h-10 items-center justify-center rounded-md bg-slate-100 p-1 text-slate-500 dark:bg-slate-800 dark:text-slate-400",e),...t}));lf.displayName=Nk.displayName;const Es=m.forwardRef(({className:e,...t},n)=>l.jsx(Pk,{ref:n,className:Re("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-white transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-950 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-white data-[state=active]:text-slate-950 data-[state=active]:shadow-sm dark:ring-offset-slate-950 dark:focus-visible:ring-slate-300 dark:data-[state=active]:bg-slate-950 dark:data-[state=active]:text-slate-50",e),...t}));Es.displayName=Pk.displayName;const Ns=m.forwardRef(({className:e,...t},n)=>l.jsx(Tk,{ref:n,className:Re("mt-2 ring-offset-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-950 focus-visible:ring-offset-2 dark:ring-offset-slate-950 dark:focus-visible:ring-slate-300",e),...t}));Ns.displayName=Tk.displayName;const eu={full_name:"",avatar_url:"",listingsCount:0,messagesCount:0},U3=()=>{const{toast:e}=tr(),{user:t}=It(),[n,r]=m.useState(!1),[s,i]=m.useState(eu),[o,a]=m.useState({full_name:"",avatar_url:""});m.useEffect(()=>{(async()=>{var h,g,w,k;if(t)try{const{data:v,error:j}=await Oe.rpc("get_profile_data",{user_id:t.id}),{count:_,error:x}=await Oe.from("vehicle_listings").select("*",{count:"exact",head:!0}).eq("user_id",t.id).eq("status","approved");if(x&&console.error("Error fetching listings count:",x),j){console.error("Error fetching profile with RPC:",j);const{data:b,error:E}=await Oe.auth.admin.getUserById(t.id);if(E)throw E;a({full_name:((g=(h=b==null?void 0:b.user)==null?void 0:h.user_metadata)==null?void 0:g.full_name)||"",avatar_url:""}),i({...eu,listingsCount:_||0});return}v?(i({...eu,...v,listingsCount:_||0}),a({full_name:v.full_name||((w=t.user_metadata)==null?void 0:w.full_name)||"",avatar_url:v.avatar_url||""})):(a({full_name:((k=t.user_metadata)==null?void 0:k.full_name)||"",avatar_url:""}),i({...eu,listingsCount:_||0}))}catch(v){console.error("Error fetching profile:",v),e({title:"Error",description:"Failed to load profile data.",variant:"destructive"})}})()},[t,e]);const c=f=>{const{id:h,value:g}=f.target;a(w=>({...w,[h]:g}))},u=async f=>{f.preventDefault(),r(!0);try{const{error:h}=await Oe.from("profiles").upsert({id:t.id,full_name:o.full_name,avatar_url:o.avatar_url,updated_at:new Date});if(h)throw h;e({title:"Profile Updated",description:"Your profile has been successfully updated."}),i(g=>({...g,...o}))}catch(h){console.error("Error updating profile:",h),e({title:"Update Failed",description:h.message,variant:"destructive"})}finally{r(!1)}};return l.jsx(_e.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"py-12",children:l.jsxs(xn,{className:"w-full max-w-3xl mx-auto bg-slate-800 border-slate-700 shadow-2xl",children:[l.jsxs(Qn,{className:"text-center relative",children:[l.jsx(_e.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:260,damping:20},className:"absolute -top-16 left-1/2 transform -translate-x-1/2",children:l.jsx("div",{className:"w-32 h-32 rounded-full bg-gradient-to-br from-purple-500 to-pink-500 flex items-center justify-center border-4 border-slate-800 shadow-lg",children:l.jsx("img",{className:"w-28 h-28 rounded-full object-cover",alt:o.full_name||"Profile Picture",src:o.avatar_url||"https://images.unsplash.com/photo-1697256200022-f61abccad430"})})}),l.jsxs("div",{className:"pt-20",children:[" ",l.jsx(yr,{className:"text-4xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-purple-400 via-pink-500 to-orange-500",children:o.full_name||"Your Name"}),l.jsxs(Jl,{className:"text-gray-400",children:[(t==null?void 0:t.email)||"Loading..."," | Joined: ",t?new Date(t.created_at).toLocaleDateString():"Loading..."]})]})]}),l.jsxs(wn,{className:"mt-8 space-y-8",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 text-center",children:[l.jsxs("div",{className:"bg-slate-700/50 p-4 rounded-lg",children:[l.jsx(ut,{className:"mx-auto h-8 w-8 text-purple-400 mb-2"}),l.jsx("p",{className:"text-2xl font-bold",children:s.listingsCount}),l.jsx("p",{className:"text-sm text-gray-400",children:"Active Listings"})]}),l.jsxs("div",{className:"bg-slate-700/50 p-4 rounded-lg",children:[l.jsx(my,{className:"mx-auto h-8 w-8 text-pink-400 mb-2"}),l.jsx("p",{className:"text-2xl font-bold",children:s.messagesCount}),l.jsx("p",{className:"text-sm text-gray-400",children:"Unread Messages"})]})]}),l.jsxs("form",{onSubmit:u,className:"space-y-6",children:[l.jsx("h3",{className:"text-xl font-semibold text-purple-300 border-b border-slate-700 pb-2",children:"Edit Profile"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(Ye,{htmlFor:"name",className:"text-gray-300",children:"Full Name"}),l.jsx(Me,{id:"full_name",type:"text",value:o.full_name,onChange:c,className:"bg-slate-700 border-slate-600 placeholder-slate-500"})]}),l.jsxs("div",{children:[l.jsx(Ye,{htmlFor:"email",className:"text-gray-300",children:"Email (Cannot be changed)"}),l.jsx(Me,{id:"email",type:"email",value:(t==null?void 0:t.email)||"",readOnly:!0,className:"bg-slate-700 border-slate-600 placeholder-slate-500 opacity-70 cursor-not-allowed"})]})]}),l.jsxs("div",{children:[l.jsx(Ye,{htmlFor:"profilePicture",className:"text-gray-300",children:"Profile Picture URL"}),l.jsx(Me,{id:"avatar_url",type:"text",value:o.avatar_url,onChange:c,placeholder:"https://example.com/avatar.jpg",className:"bg-slate-700 border-slate-600 placeholder-slate-500"})]}),l.jsxs(ue,{type:"submit",className:"w-full md:w-auto bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700",disabled:n,children:[l.jsx(yA,{className:"mr-2 h-4 w-4"})," ",n?"Updating...":"Update Profile"]})]}),l.jsxs(qy,{defaultValue:"listings",className:"w-full mt-8",children:[l.jsxs(lf,{className:"grid w-full grid-cols-2 bg-slate-700",children:[l.jsx(Es,{value:"listings",className:"data-[state=active]:bg-slate-800",children:"Your Listings"}),l.jsx(Es,{value:"settings",className:"data-[state=active]:bg-slate-800",children:"Account Settings"})]}),l.jsx(Ns,{value:"listings",className:"mt-6",children:l.jsx(l3,{})}),l.jsx(Ns,{value:"settings",className:"mt-6",children:l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-xl font-semibold text-purple-300 border-b border-slate-700 pb-2",children:"Account Settings"}),l.jsxs(ue,{variant:"outline",className:"w-full md:w-auto justify-start text-left border-slate-600 hover:bg-slate-700 hover:text-purple-300",children:[l.jsx(__,{className:"mr-2 h-4 w-4 text-green-400"})," Change Password"]}),l.jsxs(ue,{variant:"outline",className:"w-full md:w-auto justify-start text-left border-slate-600 hover:bg-slate-700 hover:text-purple-300",children:[l.jsx(aA,{className:"mr-2 h-4 w-4 text-yellow-400"})," Notification Preferences"]}),l.jsx(Fm,{variant:"destructive",className:"w-full md:w-auto"})]})})]})]})]})})},vr=Object.create(null);vr.open="0";vr.close="1";vr.ping="2";vr.pong="3";vr.message="4";vr.upgrade="5";vr.noop="6";const ju=Object.create(null);Object.keys(vr).forEach(e=>{ju[vr[e]]=e});const Bm={type:"error",data:"parser error"},Rk=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",Ak=typeof ArrayBuffer=="function",Ok=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,Yy=({type:e,data:t},n,r)=>Rk&&t instanceof Blob?n?r(t):Hw(t,r):Ak&&(t instanceof ArrayBuffer||Ok(t))?n?r(t):Hw(new Blob([t]),r):r(vr[e]+(t||"")),Hw=(e,t)=>{const n=new FileReader;return n.onload=function(){const r=n.result.split(",")[1];t("b"+(r||""))},n.readAsDataURL(e)};function qw(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let Zh;function z3(e,t){if(Rk&&e.data instanceof Blob)return e.data.arrayBuffer().then(qw).then(t);if(Ak&&(e.data instanceof ArrayBuffer||Ok(e.data)))return t(qw(e.data));Yy(e,!1,n=>{Zh||(Zh=new TextEncoder),t(Zh.encode(n))})}const Yw="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ya=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<Yw.length;e++)Ya[Yw.charCodeAt(e)]=e;const W3=e=>{let t=e.length*.75,n=e.length,r,s=0,i,o,a,c;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const u=new ArrayBuffer(t),f=new Uint8Array(u);for(r=0;r<n;r+=4)i=Ya[e.charCodeAt(r)],o=Ya[e.charCodeAt(r+1)],a=Ya[e.charCodeAt(r+2)],c=Ya[e.charCodeAt(r+3)],f[s++]=i<<2|o>>4,f[s++]=(o&15)<<4|a>>2,f[s++]=(a&3)<<6|c&63;return u},K3=typeof ArrayBuffer=="function",Gy=(e,t)=>{if(typeof e!="string")return{type:"message",data:Dk(e,t)};const n=e.charAt(0);return n==="b"?{type:"message",data:H3(e.substring(1),t)}:ju[n]?e.length>1?{type:ju[n],data:e.substring(1)}:{type:ju[n]}:Bm},H3=(e,t)=>{if(K3){const n=W3(e);return Dk(n,t)}else return{base64:!0,data:e}},Dk=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},Lk=String.fromCharCode(30),q3=(e,t)=>{const n=e.length,r=new Array(n);let s=0;e.forEach((i,o)=>{Yy(i,!1,a=>{r[o]=a,++s===n&&t(r.join(Lk))})})},Y3=(e,t)=>{const n=e.split(Lk),r=[];for(let s=0;s<n.length;s++){const i=Gy(n[s],t);if(r.push(i),i.type==="error")break}return r};function G3(){return new TransformStream({transform(e,t){z3(e,n=>{const r=n.length;let s;if(r<126)s=new Uint8Array(1),new DataView(s.buffer).setUint8(0,r);else if(r<65536){s=new Uint8Array(3);const i=new DataView(s.buffer);i.setUint8(0,126),i.setUint16(1,r)}else{s=new Uint8Array(9);const i=new DataView(s.buffer);i.setUint8(0,127),i.setBigUint64(1,BigInt(r))}e.data&&typeof e.data!="string"&&(s[0]|=128),t.enqueue(s),t.enqueue(n)})}})}let ep;function tu(e){return e.reduce((t,n)=>t+n.length,0)}function nu(e,t){if(e[0].length===t)return e.shift();const n=new Uint8Array(t);let r=0;for(let s=0;s<t;s++)n[s]=e[0][r++],r===e[0].length&&(e.shift(),r=0);return e.length&&r<e[0].length&&(e[0]=e[0].slice(r)),n}function X3(e,t){ep||(ep=new TextDecoder);const n=[];let r=0,s=-1,i=!1;return new TransformStream({transform(o,a){for(n.push(o);;){if(r===0){if(tu(n)<1)break;const c=nu(n,1);i=(c[0]&128)===128,s=c[0]&127,s<126?r=3:s===126?r=1:r=2}else if(r===1){if(tu(n)<2)break;const c=nu(n,2);s=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),r=3}else if(r===2){if(tu(n)<8)break;const c=nu(n,8),u=new DataView(c.buffer,c.byteOffset,c.length),f=u.getUint32(0);if(f>Math.pow(2,53-32)-1){a.enqueue(Bm);break}s=f*Math.pow(2,32)+u.getUint32(4),r=3}else{if(tu(n)<s)break;const c=nu(n,s);a.enqueue(Gy(i?c:ep.decode(c),t)),r=0}if(s===0||s>e){a.enqueue(Bm);break}}}})}const Ik=4;function kt(e){if(e)return Q3(e)}function Q3(e){for(var t in kt.prototype)e[t]=kt.prototype[t];return e}kt.prototype.on=kt.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};kt.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this};kt.prototype.off=kt.prototype.removeListener=kt.prototype.removeAllListeners=kt.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var r,s=0;s<n.length;s++)if(r=n[s],r===t||r.fn===t){n.splice(s,1);break}return n.length===0&&delete this._callbacks["$"+e],this};kt.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){n=n.slice(0);for(var r=0,s=n.length;r<s;++r)n[r].apply(this,t)}return this};kt.prototype.emitReserved=kt.prototype.emit;kt.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};kt.prototype.hasListeners=function(e){return!!this.listeners(e).length};const cf=(()=>typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,n)=>n(t,0))(),On=(()=>typeof self<"u"?self:typeof window<"u"?window:Function("return this")())(),J3="arraybuffer";function Mk(e,...t){return t.reduce((n,r)=>(e.hasOwnProperty(r)&&(n[r]=e[r]),n),{})}const Z3=On.setTimeout,eF=On.clearTimeout;function uf(e,t){t.useNativeTimers?(e.setTimeoutFn=Z3.bind(On),e.clearTimeoutFn=eF.bind(On)):(e.setTimeoutFn=On.setTimeout.bind(On),e.clearTimeoutFn=On.clearTimeout.bind(On))}const tF=1.33;function nF(e){return typeof e=="string"?rF(e):Math.ceil((e.byteLength||e.size)*tF)}function rF(e){let t=0,n=0;for(let r=0,s=e.length;r<s;r++)t=e.charCodeAt(r),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(r++,n+=4);return n}function Fk(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function sF(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}function iF(e){let t={},n=e.split("&");for(let r=0,s=n.length;r<s;r++){let i=n[r].split("=");t[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return t}class oF extends Error{constructor(t,n,r){super(t),this.description=n,this.context=r,this.type="TransportError"}}class Xy extends kt{constructor(t){super(),this.writable=!1,uf(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,n,r){return super.emitReserved("error",new oF(t,n,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const n=Gy(t,this.socket.binaryType);this.onPacket(n)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,n={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const n=sF(t);return n.length?"?"+n:""}}class aF extends Xy{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const n=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let r=0;this._polling&&(r++,this.once("pollComplete",function(){--r||n()})),this.writable||(r++,this.once("drain",function(){--r||n()}))}else n()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const n=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};Y3(t,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,q3(t,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=Fk()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(t,n)}}let $k=!1;try{$k=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const lF=$k;function cF(){}class uF extends aF{constructor(t){if(super(t),typeof location<"u"){const n=location.protocol==="https:";let r=location.port;r||(r=n?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||r!==t.port}}doWrite(t,n){const r=this.request({method:"POST",data:t});r.on("success",n),r.on("error",(s,i)=>{this.onError("xhr post error",s,i)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(n,r)=>{this.onError("xhr poll error",n,r)}),this.pollXhr=t}}class mr extends kt{constructor(t,n,r){super(),this.createRequest=t,uf(this,r),this._opts=r,this._method=r.method||"GET",this._uri=n,this._data=r.data!==void 0?r.data:null,this._create()}_create(){var t;const n=Mk(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this._opts.xd;const r=this._xhr=this.createRequest(n);try{r.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let s in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(s)&&r.setRequestHeader(s,this._opts.extraHeaders[s])}}catch{}if(this._method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(r),"withCredentials"in r&&(r.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(r.timeout=this._opts.requestTimeout),r.onreadystatechange=()=>{var s;r.readyState===3&&((s=this._opts.cookieJar)===null||s===void 0||s.parseCookies(r.getResponseHeader("set-cookie"))),r.readyState===4&&(r.status===200||r.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof r.status=="number"?r.status:0)},0))},r.send(this._data)}catch(s){this.setTimeoutFn(()=>{this._onError(s)},0);return}typeof document<"u"&&(this._index=mr.requestsCount++,mr.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=cF,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete mr.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}mr.requestsCount=0;mr.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Gw);else if(typeof addEventListener=="function"){const e="onpagehide"in On?"pagehide":"unload";addEventListener(e,Gw,!1)}}function Gw(){for(let e in mr.requests)mr.requests.hasOwnProperty(e)&&mr.requests[e].abort()}const dF=function(){const e=Vk({xdomain:!1});return e&&e.responseType!==null}();class fF extends uF{constructor(t){super(t);const n=t&&t.forceBase64;this.supportsBinary=dF&&!n}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new mr(Vk,this.uri(),t)}}function Vk(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||lF))return new XMLHttpRequest}catch{}if(!t)try{return new On[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const Bk=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class hF extends Xy{get name(){return"websocket"}doOpen(){const t=this.uri(),n=this.opts.protocols,r=Bk?{}:Mk(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,n,r)}catch(s){return this.emitReserved("error",s)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const r=t[n],s=n===t.length-1;Yy(r,this.supportsBinary,i=>{try{this.doWrite(r,i)}catch{}s&&cf(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=Fk()),this.supportsBinary||(n.b64=1),this.createUri(t,n)}}const tp=On.WebSocket||On.MozWebSocket;class pF extends hF{createSocket(t,n,r){return Bk?new tp(t,n,r):n?new tp(t,n):new tp(t)}doWrite(t,n){this.ws.send(n)}}class mF extends Xy{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{const n=X3(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=t.readable.pipeThrough(n).getReader(),s=G3();s.readable.pipeTo(t.writable),this._writer=s.writable.getWriter();const i=()=>{r.read().then(({done:a,value:c})=>{a||(this.onPacket(c),i())}).catch(a=>{})};i();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this._writer.write(o).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const r=t[n],s=n===t.length-1;this._writer.write(r).then(()=>{s&&cf(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}}const gF={websocket:pF,webtransport:mF,polling:fF},yF=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,vF=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Um(e){if(e.length>8e3)throw"URI too long";const t=e,n=e.indexOf("["),r=e.indexOf("]");n!=-1&&r!=-1&&(e=e.substring(0,n)+e.substring(n,r).replace(/:/g,";")+e.substring(r,e.length));let s=yF.exec(e||""),i={},o=14;for(;o--;)i[vF[o]]=s[o]||"";return n!=-1&&r!=-1&&(i.source=t,i.host=i.host.substring(1,i.host.length-1).replace(/;/g,":"),i.authority=i.authority.replace("[","").replace("]","").replace(/;/g,":"),i.ipv6uri=!0),i.pathNames=xF(i,i.path),i.queryKey=wF(i,i.query),i}function xF(e,t){const n=/\/{2,9}/g,r=t.replace(n,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&r.splice(0,1),t.slice(-1)=="/"&&r.splice(r.length-1,1),r}function wF(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,s,i){s&&(n[s]=i)}),n}const zm=typeof addEventListener=="function"&&typeof removeEventListener=="function",ku=[];zm&&addEventListener("offline",()=>{ku.forEach(e=>e())},!1);class Ps extends kt{constructor(t,n){if(super(),this.binaryType=J3,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(n=t,t=null),t){const r=Um(t);n.hostname=r.host,n.secure=r.protocol==="https"||r.protocol==="wss",n.port=r.port,r.query&&(n.query=r.query)}else n.host&&(n.hostname=Um(n.host).host);uf(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},n.transports.forEach(r=>{const s=r.prototype.name;this.transports.push(s),this._transportsByName[s]=r}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=iF(this.opts.query)),zm&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},ku.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const n=Object.assign({},this.opts.query);n.EIO=Ik,n.transport=t,this.id&&(n.sid=this.id);const r=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](r)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const t=this.opts.rememberUpgrade&&Ps.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const n=this.createTransport(t);n.open(),this.setTransport(n)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",n=>this._onClose("transport close",n))}onOpen(){this.readyState="open",Ps.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const n=new Error("server error");n.code=t.data,this._onError(n);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let r=0;r<this.writeBuffer.length;r++){const s=this.writeBuffer[r].data;if(s&&(n+=nF(s)),r>0&&n>this._maxPayload)return this.writeBuffer.slice(0,r);n+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,cf(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,n,r){return this._sendPacket("message",t,n,r),this}send(t,n,r){return this._sendPacket("message",t,n,r),this}_sendPacket(t,n,r,s){if(typeof n=="function"&&(s=n,n=void 0),typeof r=="function"&&(s=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;const i={type:t,data:n,options:r};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),s&&this.once("flush",s),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),t()},r=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():t()}):this.upgrading?r():t()),this}_onError(t){if(Ps.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),zm&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const r=ku.indexOf(this._offlineEventListener);r!==-1&&ku.splice(r,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,n),this.writeBuffer=[],this._prevBufferLen=0}}}Ps.protocol=Ik;class bF extends Ps{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let n=this.createTransport(t),r=!1;Ps.priorWebsocketSuccess=!1;const s=()=>{r||(n.send([{type:"ping",data:"probe"}]),n.once("packet",h=>{if(!r)if(h.type==="pong"&&h.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;Ps.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(f(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const g=new Error("probe error");g.transport=n.name,this.emitReserved("upgradeError",g)}}))};function i(){r||(r=!0,f(),n.close(),n=null)}const o=h=>{const g=new Error("probe error: "+h);g.transport=n.name,i(),this.emitReserved("upgradeError",g)};function a(){o("transport closed")}function c(){o("socket closed")}function u(h){n&&h.name!==n.name&&i()}const f=()=>{n.removeListener("open",s),n.removeListener("error",o),n.removeListener("close",a),this.off("close",c),this.off("upgrading",u)};n.once("open",s),n.once("error",o),n.once("close",a),this.once("close",c),this.once("upgrading",u),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{r||n.open()},200):n.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const n=[];for(let r=0;r<t.length;r++)~this.transports.indexOf(t[r])&&n.push(t[r]);return n}}let SF=class extends bF{constructor(t,n={}){const r=typeof t=="object"?t:n;(!r.transports||r.transports&&typeof r.transports[0]=="string")&&(r.transports=(r.transports||["polling","websocket","webtransport"]).map(s=>gF[s]).filter(s=>!!s)),super(t,r)}};function _F(e,t="",n){let r=e;n=n||typeof location<"u"&&location,e==null&&(e=n.protocol+"//"+n.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=n.protocol+e:e=n.host+e),/^(https?|wss?):\/\//.test(e)||(typeof n<"u"?e=n.protocol+"//"+e:e="https://"+e),r=Um(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const i=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+i+":"+r.port+t,r.href=r.protocol+"://"+i+(n&&n.port===r.port?"":":"+r.port),r}const jF=typeof ArrayBuffer=="function",kF=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,Uk=Object.prototype.toString,CF=typeof Blob=="function"||typeof Blob<"u"&&Uk.call(Blob)==="[object BlobConstructor]",EF=typeof File=="function"||typeof File<"u"&&Uk.call(File)==="[object FileConstructor]";function Qy(e){return jF&&(e instanceof ArrayBuffer||kF(e))||CF&&e instanceof Blob||EF&&e instanceof File}function Cu(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let n=0,r=e.length;n<r;n++)if(Cu(e[n]))return!0;return!1}if(Qy(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return Cu(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&Cu(e[n]))return!0;return!1}function NF(e){const t=[],n=e.data,r=e;return r.data=Wm(n,t),r.attachments=t.length,{packet:r,buffers:t}}function Wm(e,t){if(!e)return e;if(Qy(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}else if(Array.isArray(e)){const n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=Wm(e[r],t);return n}else if(typeof e=="object"&&!(e instanceof Date)){const n={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=Wm(e[r],t));return n}return e}function PF(e,t){return e.data=Km(e.data,t),delete e.attachments,e}function Km(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=Km(e[n],t);else if(typeof e=="object")for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=Km(e[n],t));return e}const TF=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],RF=5;var Ue;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(Ue||(Ue={}));class AF{constructor(t){this.replacer=t}encode(t){return(t.type===Ue.EVENT||t.type===Ue.ACK)&&Cu(t)?this.encodeAsBinary({type:t.type===Ue.EVENT?Ue.BINARY_EVENT:Ue.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let n=""+t.type;return(t.type===Ue.BINARY_EVENT||t.type===Ue.BINARY_ACK)&&(n+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(n+=t.nsp+","),t.id!=null&&(n+=t.id),t.data!=null&&(n+=JSON.stringify(t.data,this.replacer)),n}encodeAsBinary(t){const n=NF(t),r=this.encodeAsString(n.packet),s=n.buffers;return s.unshift(r),s}}function Xw(e){return Object.prototype.toString.call(e)==="[object Object]"}class Jy extends kt{constructor(t){super(),this.reviver=t}add(t){let n;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(t);const r=n.type===Ue.BINARY_EVENT;r||n.type===Ue.BINARY_ACK?(n.type=r?Ue.EVENT:Ue.ACK,this.reconstructor=new OF(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(Qy(t)||t.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(t),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let n=0;const r={type:Number(t.charAt(0))};if(Ue[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===Ue.BINARY_EVENT||r.type===Ue.BINARY_ACK){const i=n+1;for(;t.charAt(++n)!=="-"&&n!=t.length;);const o=t.substring(i,n);if(o!=Number(o)||t.charAt(n)!=="-")throw new Error("Illegal attachments");r.attachments=Number(o)}if(t.charAt(n+1)==="/"){const i=n+1;for(;++n&&!(t.charAt(n)===","||n===t.length););r.nsp=t.substring(i,n)}else r.nsp="/";const s=t.charAt(n+1);if(s!==""&&Number(s)==s){const i=n+1;for(;++n;){const o=t.charAt(n);if(o==null||Number(o)!=o){--n;break}if(n===t.length)break}r.id=Number(t.substring(i,n+1))}if(t.charAt(++n)){const i=this.tryParse(t.substr(n));if(Jy.isPayloadValid(r.type,i))r.data=i;else throw new Error("invalid payload")}return r}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,n){switch(t){case Ue.CONNECT:return Xw(n);case Ue.DISCONNECT:return n===void 0;case Ue.CONNECT_ERROR:return typeof n=="string"||Xw(n);case Ue.EVENT:case Ue.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&TF.indexOf(n[0])===-1);case Ue.ACK:case Ue.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class OF{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const n=PF(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const DF=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Jy,Encoder:AF,get PacketType(){return Ue},protocol:RF},Symbol.toStringTag,{value:"Module"}));function qn(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const LF=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class zk extends kt{constructor(t,n,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=n,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[qn(t,"open",this.onopen.bind(this)),qn(t,"packet",this.onpacket.bind(this)),qn(t,"error",this.onerror.bind(this)),qn(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...n){var r,s,i;if(LF.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(n.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const o={type:Ue.EVENT,data:n};if(o.options={},o.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const f=this.ids++,h=n.pop();this._registerAckCallback(f,h),o.id=f}const a=(s=(r=this.io.engine)===null||r===void 0?void 0:r.transport)===null||s===void 0?void 0:s.writable,c=this.connected&&!(!((i=this.io.engine)===null||i===void 0)&&i._hasPingExpired());return this.flags.volatile&&!a||(c?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(t,n){var r;const s=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(s===void 0){this.acks[t]=n;return}const i=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let a=0;a<this.sendBuffer.length;a++)this.sendBuffer[a].id===t&&this.sendBuffer.splice(a,1);n.call(this,new Error("operation has timed out"))},s),o=(...a)=>{this.io.clearTimeoutFn(i),n.apply(this,a)};o.withError=!0,this.acks[t]=o}emitWithAck(t,...n){return new Promise((r,s)=>{const i=(o,a)=>o?s(o):r(a);i.withError=!0,n.push(i),this.emit(t,...n)})}_addToQueue(t){let n;typeof t[t.length-1]=="function"&&(n=t.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((s,...i)=>r!==this._queue[0]?void 0:(s!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(s)):(this._queue.shift(),n&&n(null,...i)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!t||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:Ue.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(r=>String(r.id)===t)){const r=this.acks[t];delete this.acks[t],r.withError&&r.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case Ue.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Ue.EVENT:case Ue.BINARY_EVENT:this.onevent(t);break;case Ue.ACK:case Ue.BINARY_ACK:this.onack(t);break;case Ue.DISCONNECT:this.ondisconnect();break;case Ue.CONNECT_ERROR:this.destroy();const r=new Error(t.data.message);r.data=t.data.data,this.emitReserved("connect_error",r);break}}onevent(t){const n=t.data||[];t.id!=null&&n.push(this.ack(t.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const r of n)r.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const n=this;let r=!1;return function(...s){r||(r=!0,n.packet({type:Ue.ACK,id:t,data:s}))}}onack(t){const n=this.acks[t.id];typeof n=="function"&&(delete this.acks[t.id],n.withError&&t.data.unshift(null),n.apply(this,t.data))}onconnect(t,n){this.id=t,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Ue.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const n=this._anyListeners;for(let r=0;r<n.length;r++)if(t===n[r])return n.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const n=this._anyOutgoingListeners;for(let r=0;r<n.length;r++)if(t===n[r])return n.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const r of n)r.apply(this,t.data)}}}function ca(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}ca.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=Math.floor(t*10)&1?e+n:e-n}return Math.min(e,this.max)|0};ca.prototype.reset=function(){this.attempts=0};ca.prototype.setMin=function(e){this.ms=e};ca.prototype.setMax=function(e){this.max=e};ca.prototype.setJitter=function(e){this.jitter=e};class Hm extends kt{constructor(t,n){var r;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(n=t,t=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,uf(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((r=n.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new ca({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=t;const s=n.parser||DF;this.encoder=new s.Encoder,this.decoder=new s.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var n;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(n=this.backoff)===null||n===void 0||n.setMin(t),this)}randomizationFactor(t){var n;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(n=this.backoff)===null||n===void 0||n.setJitter(t),this)}reconnectionDelayMax(t){var n;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(n=this.backoff)===null||n===void 0||n.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new SF(this.uri,this.opts);const n=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const s=qn(n,"open",function(){r.onopen(),t&&t()}),i=a=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",a),t?t(a):this.maybeReconnectOnOpen()},o=qn(n,"error",i);if(this._timeout!==!1){const a=this._timeout,c=this.setTimeoutFn(()=>{s(),i(new Error("timeout")),n.close()},a);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}return this.subs.push(s),this.subs.push(o),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(qn(t,"ping",this.onping.bind(this)),qn(t,"data",this.ondata.bind(this)),qn(t,"error",this.onerror.bind(this)),qn(t,"close",this.onclose.bind(this)),qn(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(n){this.onclose("parse error",n)}}ondecoded(t){cf(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,n){let r=this.nsps[t];return r?this._autoConnect&&!r.active&&r.connect():(r=new zk(this,t,n),this.nsps[t]=r),r}_destroy(t){const n=Object.keys(this.nsps);for(const r of n)if(this.nsps[r].active)return;this._close()}_packet(t){const n=this.encoder.encode(t);for(let r=0;r<n.length;r++)this.engine.write(n[r],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,n){var r;this.cleanup(),(r=this.engine)===null||r===void 0||r.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(s=>{s?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",s)):t.onreconnect()}))},n);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const $a={};function Eu(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const n=_F(e,t.path||"/socket.io"),r=n.source,s=n.id,i=n.path,o=$a[s]&&i in $a[s].nsps,a=t.forceNew||t["force new connection"]||t.multiplex===!1||o;let c;return a?c=new Hm(r,t):($a[s]||($a[s]=new Hm(r,t)),c=$a[s]),n.query&&!t.query&&(t.query=n.queryKey),c.socket(n.path,t)}Object.assign(Eu,{Manager:Hm,Socket:zk,io:Eu,connect:Eu});let Ft;Ft||(Ft=Eu("http://localhost:5000",{autoConnect:!1}));const Wk=e=>{const{user:t}=It(),[n,r]=m.useState([]),[s,i]=m.useState(!0),[o,a]=m.useState(null),[c,u]=m.useState(!1),f=m.useRef(!0),h=m.useRef(new Set);m.useEffect(()=>{if(!t||!e)return;f.current=!0,Ft.connected||Ft.connect();const k=()=>{f.current&&(u(!0),console.log("Connected to chat server"),Ft.emit("joinRoom",e))},v=x=>{f.current&&(console.error("Connection error:",x),a("Failed to connect to chat server"),u(!1))},j=()=>{f.current&&(u(!1),console.log("Disconnected from chat server"))},_=async x=>{if(f.current&&!(x.sender===t.id&&h.current.has(x.id)))try{await Ro.messages.add({...x,roomId:e}),g()}catch(b){console.error("Error saving received message:",b)}};return g(),Ft.on("connect",k),Ft.on("connect_error",v),Ft.on("disconnect",j),Ft.on("receiveMessage",_),Ft.connected&&k(),()=>{f.current=!1,Ft.off("connect",k),Ft.off("connect_error",v),Ft.off("disconnect",j),Ft.off("receiveMessage",_),Ft.connected&&Ft.emit("leaveRoom",e)}},[t,e]);const g=m.useCallback(async()=>{i(!0);try{const k=await Ro.messages.where("roomId").equals(e).toArray();k.sort((v,j)=>new Date(v.timestamp)-new Date(j.timestamp)),r(k),a(null)}catch(k){console.error("Error loading messages:",k),a("Failed to load messages")}finally{i(!1)}},[e]),w=m.useCallback(async k=>{var v;if(!(!t||!e||!k.trim()||!c))try{const j=`${Date.now()}-${Math.random().toString(36).substr(2,9)}`,_={id:j,sender:t.id,senderName:((v=t.user_metadata)==null?void 0:v.full_name)||t.email,content:k,timestamp:new Date().toISOString()};return h.current.add(j),await Ro.messages.add({..._,roomId:e}),await g(),Ft.emit("sendMessage",{roomId:e,message:_}),!0}catch(j){return console.error("Error sending message:",j),a("Failed to send message"),!1}},[t,e,c,g]);return{messages:n,loading:s,error:o,connected:c,sendMessage:w,refreshMessages:g}};function IF(){const{user:e}=It(),{unreadChats:t,markRoomAsRead:n}=ak(),[r,s]=m.useState([]),[i,o]=m.useState(null),[a,c]=m.useState(!0),[u,f]=m.useState(""),[h,g]=m.useState(""),{messages:w,sendMessage:k,connected:v}=Wk(i?i.roomId:null);m.useEffect(()=>{if(!e)return;(async()=>{c(!0);try{const R=await Ro.messages.toArray(),D=new Map;R.forEach(K=>{D.has(K.roomId)||D.set(K.roomId,{roomId:K.roomId,messages:[]}),D.get(K.roomId).messages.push(K)});const F=Array.from(D.values()).map(K=>(K.messages.sort((ie,Z)=>new Date(Z.timestamp)-new Date(ie.timestamp)),{...K,latestMessage:K.messages[0],listingId:K.roomId.split("_")[1]})).sort((K,ie)=>new Date(ie.latestMessage.timestamp)-new Date(K.latestMessage.timestamp)).map(async K=>{try{const{data:ie}=await Oe.from("vehicle_listings").select("id, title, user_id, price").eq("id",K.listingId).single();if(ie){const{data:Z}=await Oe.from("profiles").select("full_name").eq("id",ie.user_id).single();return{...K,listing:{...ie,seller_name:(Z==null?void 0:Z.full_name)||"Unknown Seller"}}}return null}catch(ie){return console.error("Error fetching listing details:",ie),null}}),Q=(await Promise.all(F)).filter(Boolean);s(Q)}catch(R){console.error("Error loading chats:",R)}finally{c(!1)}})()},[e]);const j=async E=>{E.preventDefault(),!(!u.trim()||!i)&&(await k(u),f(""))},_=E=>{const R=new Date(E),D=new Date;return R.toDateString()===D.toDateString()?R.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):R.toLocaleDateString([],{month:"short",day:"numeric"})},x=r.filter(E=>E.listing.title.toLowerCase().includes(h.toLowerCase())||E.listing.seller_name.toLowerCase().includes(h.toLowerCase())),b=E=>{o(E),E&&t[E.roomId]&&n(E.roomId)};return e?l.jsxs("div",{className:"container max-w-5xl py-6",children:[l.jsx("h1",{className:"text-2xl font-bold mb-6",children:"My Conversations"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"md:col-span-1 border rounded-lg overflow-hidden",children:[l.jsx("div",{className:"p-3 border-b",children:l.jsxs("div",{className:"relative",children:[l.jsx(Hl,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),l.jsx(Me,{placeholder:"Search conversations...",className:"pl-8",value:h,onChange:E=>g(E.target.value)})]})}),l.jsx("div",{className:"h-[500px] overflow-y-auto",children:a?l.jsx("div",{className:"flex items-center justify-center h-full",children:l.jsx(As,{className:"h-8 w-8 animate-spin text-primary"})}):x.length===0?l.jsxs("div",{className:"flex flex-col items-center justify-center h-full p-4 text-center",children:[l.jsx(Ho,{className:"h-10 w-10 text-purple-400 mb-2"}),l.jsx("p",{className:"text-slate-300",children:"No conversations yet"}),l.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Start chatting with sellers from vehicle listings"})]}):l.jsx("div",{children:x.map(E=>l.jsxs("div",{className:`p-3 border-b cursor-pointer transition-colors ${(i==null?void 0:i.roomId)===E.roomId?"bg-slate-800":"hover:bg-slate-900/50"}`,onClick:()=>b(E),children:[l.jsxs("div",{className:"flex justify-between items-start mb-1",children:[l.jsxs("h3",{className:"font-medium truncate text-slate-200",children:[E.listing.title,t[E.roomId]&&l.jsx(Ls,{className:"ml-2 px-1.5 py-0.5 bg-red-500 text-white text-xs font-bold",variant:"destructive",children:t[E.roomId]})]}),l.jsx("span",{className:"text-xs text-slate-400 whitespace-nowrap ml-2",children:_(E.latestMessage.timestamp)})]}),l.jsx("p",{className:"text-sm text-slate-300 mb-1",children:E.listing.seller_name}),l.jsxs("p",{className:"text-sm truncate text-slate-300",children:[E.latestMessage.sender===e.id?"You: ":"",E.latestMessage.content]})]},E.roomId))})})]}),l.jsx("div",{className:"md:col-span-2 border rounded-lg overflow-hidden flex flex-col h-[600px]",children:i?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"p-3 border-b",children:[l.jsx("h3",{className:"font-medium",children:i.listing.title}),l.jsx("p",{className:"text-sm text-muted-foreground",children:i.listing.seller_name}),!v&&l.jsx("p",{className:"text-xs text-amber-500 mt-1",children:"Connecting to chat server..."})]}),l.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:w.length===0?l.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[l.jsx("p",{className:"text-slate-300",children:"No messages yet"}),l.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Start the conversation!"})]}):w.map((E,R)=>l.jsxs("div",{className:`flex flex-col max-w-[80%] ${E.sender===e.id?"ml-auto items-end":"mr-auto items-start"}`,children:[l.jsx("div",{className:`rounded-lg px-3 py-2 ${E.sender===e.id?"bg-primary text-primary-foreground":"bg-slate-800 text-white font-medium"}`,children:E.content}),l.jsxs("div",{className:"text-xs text-slate-400 mt-1 flex items-center gap-1",children:[l.jsx("span",{children:E.sender===e.id?"You":i.listing.seller_name}),l.jsx("span",{children:""}),l.jsx("span",{children:_(E.timestamp)})]})]},R))}),l.jsxs("form",{onSubmit:j,className:"p-3 border-t flex gap-2",children:[l.jsx(Me,{value:u,onChange:E=>f(E.target.value),placeholder:"Type your message...",disabled:!v,className:"flex-1 text-white bg-slate-700 border-slate-600 placeholder:text-slate-400"}),l.jsx(ue,{type:"submit",disabled:!v||!u.trim(),children:"Send"})]})]}):l.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[l.jsx(Ho,{className:"h-12 w-12 text-purple-400 mb-3"}),l.jsx("h3",{className:"text-lg font-medium text-slate-200 mb-1",children:"No conversation selected"}),l.jsx("p",{className:"text-slate-400",children:"Select a conversation from the list to view messages"})]})})]}),l.jsx("div",{className:"mt-6 text-sm text-slate-400",children:l.jsx("p",{children:"Note: All messages are stored locally on your device and are not saved on our servers."})})]}):l.jsx("div",{className:"container max-w-5xl py-10",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Chat"}),l.jsx("p",{children:"Please log in to view your chats."})]})})}const MF=e=>{const[t,n]=m.useState(null),[r,s]=m.useState(!0),[i,o]=m.useState(null);return m.useEffect(()=>{if(!e){n(null),s(!1);return}const a=async()=>{try{s(!0);const{data:u,error:f}=await Oe.from("vehicle_listings").select("*").eq("id",e).single();if(f)throw f;const{data:h,error:g}=await Oe.from("profiles").select("id, full_name, avatar_url, created_at").eq("id",u.user_id).single(),w={...u,profiles:g?null:h},k=f||g&&g.code!=="PGRST116";if(k)throw k;n(w)}catch(u){console.error("Error fetching listing details:",u),o(u)}finally{s(!1)}};a();const c=Oe.channel(`listing-${e}-changes`).on("postgres_changes",{event:"*",schema:"public",table:"vehicle_listings",filter:`id=eq.${e}`},()=>{a()}).subscribe();return()=>{c.unsubscribe()}},[e]),{listing:t,loading:r,error:i}},Kk=6048e5,FF=864e5,Qw=Symbol.for("constructDateFrom");function Is(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&Qw in e?e[Qw](t):e instanceof Date?new e.constructor(t):new Date(t)}function rr(e,t){return Is(t||e,e)}let $F={};function df(){return $F}function Ml(e,t){var a,c,u,f;const n=df(),r=(t==null?void 0:t.weekStartsOn)??((c=(a=t==null?void 0:t.locale)==null?void 0:a.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((f=(u=n.locale)==null?void 0:u.options)==null?void 0:f.weekStartsOn)??0,s=rr(e,t==null?void 0:t.in),i=s.getDay(),o=(i<r?7:0)+i-r;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function vd(e,t){return Ml(e,{...t,weekStartsOn:1})}function Hk(e,t){const n=rr(e,t==null?void 0:t.in),r=n.getFullYear(),s=Is(n,0);s.setFullYear(r+1,0,4),s.setHours(0,0,0,0);const i=vd(s),o=Is(n,0);o.setFullYear(r,0,4),o.setHours(0,0,0,0);const a=vd(o);return n.getTime()>=i.getTime()?r+1:n.getTime()>=a.getTime()?r:r-1}function Jw(e){const t=rr(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function VF(e,...t){const n=Is.bind(null,e||t.find(r=>typeof r=="object"));return t.map(n)}function Zw(e,t){const n=rr(e,t==null?void 0:t.in);return n.setHours(0,0,0,0),n}function BF(e,t,n){const[r,s]=VF(n==null?void 0:n.in,e,t),i=Zw(r),o=Zw(s),a=+i-Jw(i),c=+o-Jw(o);return Math.round((a-c)/FF)}function UF(e,t){const n=Hk(e,t),r=Is((t==null?void 0:t.in)||e,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),vd(r)}function zF(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function WF(e){return!(!zF(e)&&typeof e!="number"||isNaN(+rr(e)))}function KF(e,t){const n=rr(e,t==null?void 0:t.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const HF={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},qF=(e,t,n)=>{let r;const s=HF[e];return typeof s=="string"?r=s:t===1?r=s.one:r=s.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function np(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const YF={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},GF={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},XF={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},QF={date:np({formats:YF,defaultWidth:"full"}),time:np({formats:GF,defaultWidth:"full"}),dateTime:np({formats:XF,defaultWidth:"full"})},JF={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},ZF=(e,t,n,r)=>JF[e];function Va(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,a=n!=null&&n.width?String(n.width):o;s=e.formattingValues[a]||e.formattingValues[o]}else{const o=e.defaultWidth,a=n!=null&&n.width?String(n.width):e.defaultWidth;s=e.values[a]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return s[i]}}const e5={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},t5={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},n5={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},r5={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},s5={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},i5={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},o5=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},a5={ordinalNumber:o5,era:Va({values:e5,defaultWidth:"wide"}),quarter:Va({values:t5,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Va({values:n5,defaultWidth:"wide"}),day:Va({values:r5,defaultWidth:"wide"}),dayPeriod:Va({values:s5,defaultWidth:"wide",formattingValues:i5,defaultFormattingWidth:"wide"})};function Ba(e){return(t,n={})=>{const r=n.width,s=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],i=t.match(s);if(!i)return null;const o=i[0],a=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(a)?c5(a,h=>h.test(o)):l5(a,h=>h.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;const f=t.slice(o.length);return{value:u,rest:f}}}function l5(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function c5(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function u5(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const s=r[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;const a=t.slice(s.length);return{value:o,rest:a}}}const d5=/^(\d+)(th|st|nd|rd)?/i,f5=/\d+/i,h5={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},p5={any:[/^b/i,/^(a|c)/i]},m5={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},g5={any:[/1/i,/2/i,/3/i,/4/i]},y5={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},v5={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},x5={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},w5={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},b5={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},S5={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},_5={ordinalNumber:u5({matchPattern:d5,parsePattern:f5,valueCallback:e=>parseInt(e,10)}),era:Ba({matchPatterns:h5,defaultMatchWidth:"wide",parsePatterns:p5,defaultParseWidth:"any"}),quarter:Ba({matchPatterns:m5,defaultMatchWidth:"wide",parsePatterns:g5,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Ba({matchPatterns:y5,defaultMatchWidth:"wide",parsePatterns:v5,defaultParseWidth:"any"}),day:Ba({matchPatterns:x5,defaultMatchWidth:"wide",parsePatterns:w5,defaultParseWidth:"any"}),dayPeriod:Ba({matchPatterns:b5,defaultMatchWidth:"any",parsePatterns:S5,defaultParseWidth:"any"})},j5={code:"en-US",formatDistance:qF,formatLong:QF,formatRelative:ZF,localize:a5,match:_5,options:{weekStartsOn:0,firstWeekContainsDate:1}};function k5(e,t){const n=rr(e,t==null?void 0:t.in);return BF(n,KF(n))+1}function C5(e,t){const n=rr(e,t==null?void 0:t.in),r=+vd(n)-+UF(n);return Math.round(r/Kk)+1}function qk(e,t){var f,h,g,w;const n=rr(e,t==null?void 0:t.in),r=n.getFullYear(),s=df(),i=(t==null?void 0:t.firstWeekContainsDate)??((h=(f=t==null?void 0:t.locale)==null?void 0:f.options)==null?void 0:h.firstWeekContainsDate)??s.firstWeekContainsDate??((w=(g=s.locale)==null?void 0:g.options)==null?void 0:w.firstWeekContainsDate)??1,o=Is((t==null?void 0:t.in)||e,0);o.setFullYear(r+1,0,i),o.setHours(0,0,0,0);const a=Ml(o,t),c=Is((t==null?void 0:t.in)||e,0);c.setFullYear(r,0,i),c.setHours(0,0,0,0);const u=Ml(c,t);return+n>=+a?r+1:+n>=+u?r:r-1}function E5(e,t){var a,c,u,f;const n=df(),r=(t==null?void 0:t.firstWeekContainsDate)??((c=(a=t==null?void 0:t.locale)==null?void 0:a.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((f=(u=n.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??1,s=qk(e,t),i=Is((t==null?void 0:t.in)||e,0);return i.setFullYear(s,0,r),i.setHours(0,0,0,0),Ml(i,t)}function N5(e,t){const n=rr(e,t==null?void 0:t.in),r=+Ml(n,t)-+E5(n,t);return Math.round(r/Kk)+1}function Xe(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const ts={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return Xe(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):Xe(n+1,2)},d(e,t){return Xe(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return Xe(e.getHours()%12||12,t.length)},H(e,t){return Xe(e.getHours(),t.length)},m(e,t){return Xe(e.getMinutes(),t.length)},s(e,t){return Xe(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return Xe(s,t.length)}},eo={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},eb={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return ts.y(e,t)},Y:function(e,t,n,r){const s=qk(e,r),i=s>0?s:1-s;if(t==="YY"){const o=i%100;return Xe(o,2)}return t==="Yo"?n.ordinalNumber(i,{unit:"year"}):Xe(i,t.length)},R:function(e,t){const n=Hk(e);return Xe(n,t.length)},u:function(e,t){const n=e.getFullYear();return Xe(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return Xe(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return Xe(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return ts.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return Xe(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const s=N5(e,r);return t==="wo"?n.ordinalNumber(s,{unit:"week"}):Xe(s,t.length)},I:function(e,t,n){const r=C5(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):Xe(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):ts.d(e,t)},D:function(e,t,n){const r=k5(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Xe(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const s=e.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return Xe(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const s=e.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return Xe(i,t.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),s=r===0?7:r;switch(t){case"i":return String(s);case"ii":return Xe(s,t.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let s;switch(r===12?s=eo.noon:r===0?s=eo.midnight:s=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let s;switch(r>=17?s=eo.evening:r>=12?s=eo.afternoon:r>=4?s=eo.morning:s=eo.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return ts.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):ts.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Xe(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):Xe(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):ts.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):ts.s(e,t)},S:function(e,t){return ts.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return nb(r);case"XXXX":case"XX":return fi(r);case"XXXXX":case"XXX":default:return fi(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return nb(r);case"xxxx":case"xx":return fi(r);case"xxxxx":case"xxx":default:return fi(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+tb(r,":");case"OOOO":default:return"GMT"+fi(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+tb(r,":");case"zzzz":default:return"GMT"+fi(r,":")}},t:function(e,t,n){const r=Math.trunc(+e/1e3);return Xe(r,t.length)},T:function(e,t,n){return Xe(+e,t.length)}};function tb(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),s=Math.trunc(r/60),i=r%60;return i===0?n+String(s):n+String(s)+t+Xe(i,2)}function nb(e,t){return e%60===0?(e>0?"-":"+")+Xe(Math.abs(e)/60,2):fi(e,t)}function fi(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),s=Xe(Math.trunc(r/60),2),i=Xe(r%60,2);return n+s+t+i}const rb=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},Yk=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},P5=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return rb(e,t);let i;switch(r){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",rb(r,t)).replace("{{time}}",Yk(s,t))},T5={p:Yk,P:P5},R5=/^D+$/,A5=/^Y+$/,O5=["D","DD","YY","YYYY"];function D5(e){return R5.test(e)}function L5(e){return A5.test(e)}function I5(e,t,n){const r=M5(e,t,n);if(console.warn(r),O5.includes(e))throw new RangeError(r)}function M5(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const F5=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,$5=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,V5=/^'([^]*?)'?$/,B5=/''/g,U5=/[a-zA-Z]/;function z5(e,t,n){var f,h,g,w,k,v,j,_;const r=df(),s=(n==null?void 0:n.locale)??r.locale??j5,i=(n==null?void 0:n.firstWeekContainsDate)??((h=(f=n==null?void 0:n.locale)==null?void 0:f.options)==null?void 0:h.firstWeekContainsDate)??r.firstWeekContainsDate??((w=(g=r.locale)==null?void 0:g.options)==null?void 0:w.firstWeekContainsDate)??1,o=(n==null?void 0:n.weekStartsOn)??((v=(k=n==null?void 0:n.locale)==null?void 0:k.options)==null?void 0:v.weekStartsOn)??r.weekStartsOn??((_=(j=r.locale)==null?void 0:j.options)==null?void 0:_.weekStartsOn)??0,a=rr(e,n==null?void 0:n.in);if(!WF(a))throw new RangeError("Invalid time value");let c=t.match($5).map(x=>{const b=x[0];if(b==="p"||b==="P"){const E=T5[b];return E(x,s.formatLong)}return x}).join("").match(F5).map(x=>{if(x==="''")return{isToken:!1,value:"'"};const b=x[0];if(b==="'")return{isToken:!1,value:W5(x)};if(eb[b])return{isToken:!0,value:x};if(b.match(U5))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:x}});s.localize.preprocessor&&(c=s.localize.preprocessor(a,c));const u={firstWeekContainsDate:i,weekStartsOn:o,locale:s};return c.map(x=>{if(!x.isToken)return x.value;const b=x.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&L5(b)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&D5(b))&&I5(b,t,String(e));const E=eb[b[0]];return E(a,b,s.localize,u)}).join("")}function W5(e){const t=e.match(V5);return t?t[1].replace(B5,"'"):e}function Gk(e){const t=K5(e),n=m.forwardRef((r,s)=>{const{children:i,...o}=r,a=m.Children.toArray(i),c=a.find(q5);if(c){const u=c.props.children,f=a.map(h=>h===c?m.Children.count(u)>1?m.Children.only(null):m.isValidElement(u)?u.props.children:null:h);return l.jsx(t,{...o,ref:s,children:m.isValidElement(u)?m.cloneElement(u,void 0,f):null})}return l.jsx(t,{...o,ref:s,children:i})});return n.displayName=`${e}.Slot`,n}function K5(e){const t=m.forwardRef((n,r)=>{const{children:s,...i}=n;if(m.isValidElement(s)){const o=G5(s),a=Y5(i,s.props);return s.type!==m.Fragment&&(a.ref=r?Kd(r,o):o),m.cloneElement(s,a)}return m.Children.count(s)>1?m.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var H5=Symbol("radix.slottable");function q5(e){return m.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===H5}function Y5(e,t){const n={...t};for(const r in t){const s=e[r],i=t[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const c=i(...a);return s(...a),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...e,...n}}function G5(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var X5=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Kr=X5.reduce((e,t)=>{const n=Gk(`Primitive.${t}`),r=m.forwardRef((s,i)=>{const{asChild:o,...a}=s,c=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(c,{...a,ref:i})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function Q5(e,t){e&&Br.flushSync(()=>e.dispatchEvent(t))}function Zy(e,t=globalThis==null?void 0:globalThis.document){const n=Lt(e);m.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var J5="DismissableLayer",qm="dismissableLayer.update",Z5="dismissableLayer.pointerDownOutside",e$="dismissableLayer.focusOutside",sb,Xk=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Qk=m.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...c}=e,u=m.useContext(Xk),[f,h]=m.useState(null),g=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,w]=m.useState({}),k=Ke(t,T=>h(T)),v=Array.from(u.layers),[j]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),_=v.indexOf(j),x=f?v.indexOf(f):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,E=x>=_,R=r$(T=>{const F=T.target,Q=[...u.branches].some(K=>K.contains(F));!E||Q||(s==null||s(T),o==null||o(T),T.defaultPrevented||a==null||a())},g),D=s$(T=>{const F=T.target;[...u.branches].some(K=>K.contains(F))||(i==null||i(T),o==null||o(T),T.defaultPrevented||a==null||a())},g);return Zy(T=>{x===u.layers.size-1&&(r==null||r(T),!T.defaultPrevented&&a&&(T.preventDefault(),a()))},g),m.useEffect(()=>{if(f)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(sb=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(f)),u.layers.add(f),ib(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=sb)}},[f,g,n,u]),m.useEffect(()=>()=>{f&&(u.layers.delete(f),u.layersWithOutsidePointerEventsDisabled.delete(f),ib())},[f,u]),m.useEffect(()=>{const T=()=>w({});return document.addEventListener(qm,T),()=>document.removeEventListener(qm,T)},[]),l.jsx(Kr.div,{...c,ref:k,style:{pointerEvents:b?E?"auto":"none":void 0,...e.style},onFocusCapture:je(e.onFocusCapture,D.onFocusCapture),onBlurCapture:je(e.onBlurCapture,D.onBlurCapture),onPointerDownCapture:je(e.onPointerDownCapture,R.onPointerDownCapture)})});Qk.displayName=J5;var t$="DismissableLayerBranch",n$=m.forwardRef((e,t)=>{const n=m.useContext(Xk),r=m.useRef(null),s=Ke(t,r);return m.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),l.jsx(Kr.div,{...e,ref:s})});n$.displayName=t$;function r$(e,t=globalThis==null?void 0:globalThis.document){const n=Lt(e),r=m.useRef(!1),s=m.useRef(()=>{});return m.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let c=function(){Jk(Z5,n,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function s$(e,t=globalThis==null?void 0:globalThis.document){const n=Lt(e),r=m.useRef(!1);return m.useEffect(()=>{const s=i=>{i.target&&!r.current&&Jk(e$,n,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function ib(){const e=new CustomEvent(qm);document.dispatchEvent(e)}function Jk(e,t,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?Q5(s,i):s.dispatchEvent(i)}var rp="focusScope.autoFocusOnMount",sp="focusScope.autoFocusOnUnmount",ob={bubbles:!1,cancelable:!0},i$="FocusScope",Zk=m.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=e,[a,c]=m.useState(null),u=Lt(s),f=Lt(i),h=m.useRef(null),g=Ke(t,v=>c(v)),w=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(r){let v=function(b){if(w.paused||!a)return;const E=b.target;a.contains(E)?h.current=E:rs(h.current,{select:!0})},j=function(b){if(w.paused||!a)return;const E=b.relatedTarget;E!==null&&(a.contains(E)||rs(h.current,{select:!0}))},_=function(b){if(document.activeElement===document.body)for(const R of b)R.removedNodes.length>0&&rs(a)};document.addEventListener("focusin",v),document.addEventListener("focusout",j);const x=new MutationObserver(_);return a&&x.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",j),x.disconnect()}}},[r,a,w.paused]),m.useEffect(()=>{if(a){lb.add(w);const v=document.activeElement;if(!a.contains(v)){const _=new CustomEvent(rp,ob);a.addEventListener(rp,u),a.dispatchEvent(_),_.defaultPrevented||(o$(d$(eC(a)),{select:!0}),document.activeElement===v&&rs(a))}return()=>{a.removeEventListener(rp,u),setTimeout(()=>{const _=new CustomEvent(sp,ob);a.addEventListener(sp,f),a.dispatchEvent(_),_.defaultPrevented||rs(v??document.body,{select:!0}),a.removeEventListener(sp,f),lb.remove(w)},0)}}},[a,u,f,w]);const k=m.useCallback(v=>{if(!n&&!r||w.paused)return;const j=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,_=document.activeElement;if(j&&_){const x=v.currentTarget,[b,E]=a$(x);b&&E?!v.shiftKey&&_===E?(v.preventDefault(),n&&rs(b,{select:!0})):v.shiftKey&&_===b&&(v.preventDefault(),n&&rs(E,{select:!0})):_===x&&v.preventDefault()}},[n,r,w.paused]);return l.jsx(Kr.div,{tabIndex:-1,...o,ref:g,onKeyDown:k})});Zk.displayName=i$;function o$(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(rs(r,{select:t}),document.activeElement!==n)return}function a$(e){const t=eC(e),n=ab(t,e),r=ab(t.reverse(),e);return[n,r]}function eC(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function ab(e,t){for(const n of e)if(!l$(n,{upTo:t}))return n}function l$(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function c$(e){return e instanceof HTMLInputElement&&"select"in e}function rs(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&c$(e)&&t&&e.select()}}var lb=u$();function u$(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=cb(e,t),e.unshift(t)},remove(t){var n;e=cb(e,t),(n=e[0])==null||n.resume()}}}function cb(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function d$(e){return e.filter(t=>t.tagName!=="A")}var f$="Portal",tC=m.forwardRef((e,t)=>{var a;const{container:n,...r}=e,[s,i]=m.useState(!1);Pt(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?oy.createPortal(l.jsx(Kr.div,{...r,ref:t}),o):null});tC.displayName=f$;var ip=0;function nC(){m.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??ub()),document.body.insertAdjacentElement("beforeend",e[1]??ub()),ip++,()=>{ip===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),ip--}},[])}function ub(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var dr=function(){return dr=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},dr.apply(this,arguments)};function rC(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function h$(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,i;r<s;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}var Nu="right-scroll-bar-position",Pu="width-before-scroll-bar",p$="with-scroll-bars-hidden",m$="--removed-body-scroll-bar-size";function op(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function g$(e,t){var n=m.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=t,n.facade}var y$=typeof window<"u"?m.useLayoutEffect:m.useEffect,db=new WeakMap;function v$(e,t){var n=g$(t||null,function(r){return e.forEach(function(s){return op(s,r)})});return y$(function(){var r=db.get(n);if(r){var s=new Set(r),i=new Set(e),o=n.current;s.forEach(function(a){i.has(a)||op(a,null)}),i.forEach(function(a){s.has(a)||op(a,o)})}db.set(n,e)},[e]),n}function x$(e){return e}function w$(e,t){t===void 0&&(t=x$);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(i){var o=t(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var c=function(){var f=o;o=[],f.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(f){o.push(f),u()},filter:function(f){return o=o.filter(f),n}}}};return s}function b$(e){e===void 0&&(e={});var t=w$(null);return t.options=dr({async:!0,ssr:!1},e),t}var sC=function(e){var t=e.sideCar,n=rC(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return m.createElement(r,dr({},n))};sC.isSideCarExport=!0;function S$(e,t){return e.useMedium(t),sC}var iC=b$(),ap=function(){},ff=m.forwardRef(function(e,t){var n=m.useRef(null),r=m.useState({onScrollCapture:ap,onWheelCapture:ap,onTouchMoveCapture:ap}),s=r[0],i=r[1],o=e.forwardProps,a=e.children,c=e.className,u=e.removeScrollBar,f=e.enabled,h=e.shards,g=e.sideCar,w=e.noIsolation,k=e.inert,v=e.allowPinchZoom,j=e.as,_=j===void 0?"div":j,x=e.gapMode,b=rC(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),E=g,R=v$([n,t]),D=dr(dr({},b),s);return m.createElement(m.Fragment,null,f&&m.createElement(E,{sideCar:iC,removeScrollBar:u,shards:h,noIsolation:w,inert:k,setCallbacks:i,allowPinchZoom:!!v,lockRef:n,gapMode:x}),o?m.cloneElement(m.Children.only(a),dr(dr({},D),{ref:R})):m.createElement(_,dr({},D,{className:c,ref:R}),a))});ff.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};ff.classNames={fullWidth:Pu,zeroRight:Nu};var fb,_$=function(){if(fb)return fb;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function j$(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=_$();return t&&e.setAttribute("nonce",t),e}function k$(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function C$(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var E$=function(){var e=0,t=null;return{add:function(n){e==0&&(t=j$())&&(k$(t,n),C$(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},N$=function(){var e=E$();return function(t,n){m.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},oC=function(){var e=N$(),t=function(n){var r=n.styles,s=n.dynamic;return e(r,s),null};return t},P$={left:0,top:0,right:0,gap:0},lp=function(e){return parseInt(e||"",10)||0},T$=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[lp(n),lp(r),lp(s)]},R$=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return P$;var t=T$(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},A$=oC(),Ao="data-scroll-locked",O$=function(e,t,n,r){var s=e.left,i=e.top,o=e.right,a=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(p$,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Ao,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Nu,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Pu,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Nu," .").concat(Nu,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Pu," .").concat(Pu,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Ao,`] {
    `).concat(m$,": ").concat(a,`px;
  }
`)},hb=function(){var e=parseInt(document.body.getAttribute(Ao)||"0",10);return isFinite(e)?e:0},D$=function(){m.useEffect(function(){return document.body.setAttribute(Ao,(hb()+1).toString()),function(){var e=hb()-1;e<=0?document.body.removeAttribute(Ao):document.body.setAttribute(Ao,e.toString())}},[])},L$=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,s=r===void 0?"margin":r;D$();var i=m.useMemo(function(){return R$(s)},[s]);return m.createElement(A$,{styles:O$(i,!t,s,n?"":"!important")})},Ym=!1;if(typeof window<"u")try{var ru=Object.defineProperty({},"passive",{get:function(){return Ym=!0,!0}});window.addEventListener("test",ru,ru),window.removeEventListener("test",ru,ru)}catch{Ym=!1}var to=Ym?{passive:!1}:!1,I$=function(e){return e.tagName==="TEXTAREA"},aC=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!I$(e)&&n[t]==="visible")},M$=function(e){return aC(e,"overflowY")},F$=function(e){return aC(e,"overflowX")},pb=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=lC(e,r);if(s){var i=cC(e,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},$$=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},V$=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},lC=function(e,t){return e==="v"?M$(t):F$(t)},cC=function(e,t){return e==="v"?$$(t):V$(t)},B$=function(e,t){return e==="h"&&t==="rtl"?-1:1},U$=function(e,t,n,r,s){var i=B$(e,window.getComputedStyle(t).direction),o=i*r,a=n.target,c=t.contains(a),u=!1,f=o>0,h=0,g=0;do{var w=cC(e,a),k=w[0],v=w[1],j=w[2],_=v-j-i*k;(k||_)&&lC(e,a)&&(h+=_,g+=k),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!c&&a!==document.body||c&&(t.contains(a)||t===a));return(f&&(s&&Math.abs(h)<1||!s&&o>h)||!f&&(s&&Math.abs(g)<1||!s&&-o>g))&&(u=!0),u},su=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},mb=function(e){return[e.deltaX,e.deltaY]},gb=function(e){return e&&"current"in e?e.current:e},z$=function(e,t){return e[0]===t[0]&&e[1]===t[1]},W$=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},K$=0,no=[];function H$(e){var t=m.useRef([]),n=m.useRef([0,0]),r=m.useRef(),s=m.useState(K$++)[0],i=m.useState(oC)[0],o=m.useRef(e);m.useEffect(function(){o.current=e},[e]),m.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var v=h$([e.lockRef.current],(e.shards||[]).map(gb),!0).filter(Boolean);return v.forEach(function(j){return j.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),v.forEach(function(j){return j.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var a=m.useCallback(function(v,j){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!o.current.allowPinchZoom;var _=su(v),x=n.current,b="deltaX"in v?v.deltaX:x[0]-_[0],E="deltaY"in v?v.deltaY:x[1]-_[1],R,D=v.target,T=Math.abs(b)>Math.abs(E)?"h":"v";if("touches"in v&&T==="h"&&D.type==="range")return!1;var F=pb(T,D);if(!F)return!0;if(F?R=T:(R=T==="v"?"h":"v",F=pb(T,D)),!F)return!1;if(!r.current&&"changedTouches"in v&&(b||E)&&(r.current=R),!R)return!0;var Q=r.current||R;return U$(Q,j,v,Q==="h"?b:E,!0)},[]),c=m.useCallback(function(v){var j=v;if(!(!no.length||no[no.length-1]!==i)){var _="deltaY"in j?mb(j):su(j),x=t.current.filter(function(R){return R.name===j.type&&(R.target===j.target||j.target===R.shadowParent)&&z$(R.delta,_)})[0];if(x&&x.should){j.cancelable&&j.preventDefault();return}if(!x){var b=(o.current.shards||[]).map(gb).filter(Boolean).filter(function(R){return R.contains(j.target)}),E=b.length>0?a(j,b[0]):!o.current.noIsolation;E&&j.cancelable&&j.preventDefault()}}},[]),u=m.useCallback(function(v,j,_,x){var b={name:v,delta:j,target:_,should:x,shadowParent:q$(_)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(E){return E!==b})},1)},[]),f=m.useCallback(function(v){n.current=su(v),r.current=void 0},[]),h=m.useCallback(function(v){u(v.type,mb(v),v.target,a(v,e.lockRef.current))},[]),g=m.useCallback(function(v){u(v.type,su(v),v.target,a(v,e.lockRef.current))},[]);m.useEffect(function(){return no.push(i),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:g}),document.addEventListener("wheel",c,to),document.addEventListener("touchmove",c,to),document.addEventListener("touchstart",f,to),function(){no=no.filter(function(v){return v!==i}),document.removeEventListener("wheel",c,to),document.removeEventListener("touchmove",c,to),document.removeEventListener("touchstart",f,to)}},[]);var w=e.removeScrollBar,k=e.inert;return m.createElement(m.Fragment,null,k?m.createElement(i,{styles:W$(s)}):null,w?m.createElement(L$,{gapMode:e.gapMode}):null)}function q$(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Y$=S$(iC,H$);var uC=m.forwardRef(function(e,t){return m.createElement(ff,dr({},e,{ref:t,sideCar:Y$}))});uC.classNames=ff.classNames;const dC=uC;var G$=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},ro=new WeakMap,iu=new WeakMap,ou={},cp=0,fC=function(e){return e&&(e.host||fC(e.parentNode))},X$=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=fC(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},Q$=function(e,t,n,r){var s=X$(t,Array.isArray(e)?e:[e]);ou[n]||(ou[n]=new WeakMap);var i=ou[n],o=[],a=new Set,c=new Set(s),u=function(h){!h||a.has(h)||(a.add(h),u(h.parentNode))};s.forEach(u);var f=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(g){if(a.has(g))f(g);else try{var w=g.getAttribute(r),k=w!==null&&w!=="false",v=(ro.get(g)||0)+1,j=(i.get(g)||0)+1;ro.set(g,v),i.set(g,j),o.push(g),v===1&&k&&iu.set(g,!0),j===1&&g.setAttribute(n,"true"),k||g.setAttribute(r,"true")}catch(_){console.error("aria-hidden: cannot operate on ",g,_)}})};return f(t),a.clear(),cp++,function(){o.forEach(function(h){var g=ro.get(h)-1,w=i.get(h)-1;ro.set(h,g),i.set(h,w),g||(iu.has(h)||h.removeAttribute(r),iu.delete(h)),w||h.removeAttribute(n)}),cp--,cp||(ro=new WeakMap,ro=new WeakMap,iu=new WeakMap,ou={})}},hC=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),s=t||G$(e);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),Q$(r,s,n,"aria-hidden")):function(){return null}},hf="Dialog",[pC,_U]=Wr(hf),[J$,sr]=pC(hf),mC=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=e,a=m.useRef(null),c=m.useRef(null),[u,f]=Jo({prop:r,defaultProp:s??!1,onChange:i,caller:hf});return l.jsx(J$,{scope:t,triggerRef:a,contentRef:c,contentId:Cs(),titleId:Cs(),descriptionId:Cs(),open:u,onOpenChange:f,onOpenToggle:m.useCallback(()=>f(h=>!h),[f]),modal:o,children:n})};mC.displayName=hf;var gC="DialogTrigger",Z$=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=sr(gC,n),i=Ke(t,s.triggerRef);return l.jsx(Kr.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":nv(s.open),...r,ref:i,onClick:je(e.onClick,s.onOpenToggle)})});Z$.displayName=gC;var ev="DialogPortal",[eV,yC]=pC(ev,{forceMount:void 0}),vC=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:s}=e,i=sr(ev,t);return l.jsx(eV,{scope:t,forceMount:n,children:m.Children.map(r,o=>l.jsx(la,{present:n||i.open,children:l.jsx(tC,{asChild:!0,container:s,children:o})}))})};vC.displayName=ev;var xd="DialogOverlay",xC=m.forwardRef((e,t)=>{const n=yC(xd,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,i=sr(xd,e.__scopeDialog);return i.modal?l.jsx(la,{present:r||i.open,children:l.jsx(nV,{...s,ref:t})}):null});xC.displayName=xd;var tV=Gk("DialogOverlay.RemoveScroll"),nV=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=sr(xd,n);return l.jsx(dC,{as:tV,allowPinchZoom:!0,shards:[s.contentRef],children:l.jsx(Kr.div,{"data-state":nv(s.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Ei="DialogContent",wC=m.forwardRef((e,t)=>{const n=yC(Ei,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,i=sr(Ei,e.__scopeDialog);return l.jsx(la,{present:r||i.open,children:i.modal?l.jsx(rV,{...s,ref:t}):l.jsx(sV,{...s,ref:t})})});wC.displayName=Ei;var rV=m.forwardRef((e,t)=>{const n=sr(Ei,e.__scopeDialog),r=m.useRef(null),s=Ke(t,n.contentRef,r);return m.useEffect(()=>{const i=r.current;if(i)return hC(i)},[]),l.jsx(bC,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:je(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:je(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:je(e.onFocusOutside,i=>i.preventDefault())})}),sV=m.forwardRef((e,t)=>{const n=sr(Ei,e.__scopeDialog),r=m.useRef(!1),s=m.useRef(!1);return l.jsx(bC,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),bC=m.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=e,a=sr(Ei,n),c=m.useRef(null),u=Ke(t,c);return nC(),l.jsxs(l.Fragment,{children:[l.jsx(Zk,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:l.jsx(Qk,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":nv(a.open),...o,ref:u,onDismiss:()=>a.onOpenChange(!1)})}),l.jsxs(l.Fragment,{children:[l.jsx(iV,{titleId:a.titleId}),l.jsx(aV,{contentRef:c,descriptionId:a.descriptionId})]})]})}),tv="DialogTitle",SC=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=sr(tv,n);return l.jsx(Kr.h2,{id:s.titleId,...r,ref:t})});SC.displayName=tv;var _C="DialogDescription",jC=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=sr(_C,n);return l.jsx(Kr.p,{id:s.descriptionId,...r,ref:t})});jC.displayName=_C;var kC="DialogClose",CC=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=sr(kC,n);return l.jsx(Kr.button,{type:"button",...r,ref:t,onClick:je(e.onClick,()=>s.onOpenChange(!1))})});CC.displayName=kC;function nv(e){return e?"open":"closed"}var EC="DialogTitleWarning",[jU,NC]=c3(EC,{contentName:Ei,titleName:tv,docsSlug:"dialog"}),iV=({titleId:e})=>{const t=NC(EC),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return m.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},oV="DialogDescriptionWarning",aV=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${NC(oV).contentName}}.`;return m.useEffect(()=>{var i;const s=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},lV=mC,cV=vC,PC=xC,TC=wC,RC=SC,AC=jC,uV=CC;const dl=lV,dV=cV,OC=m.forwardRef(({className:e,...t},n)=>l.jsx(PC,{ref:n,className:Re("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));OC.displayName=PC.displayName;const Oo=m.forwardRef(({className:e,children:t,...n},r)=>l.jsxs(dV,{children:[l.jsx(OC,{}),l.jsxs(TC,{ref:r,className:Re("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border border-slate-200 bg-white p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg dark:border-slate-800 dark:bg-slate-950",e),...n,children:[t,l.jsxs(uV,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-white transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-slate-950 focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-slate-100 data-[state=open]:text-slate-500 dark:ring-offset-slate-950 dark:focus:ring-slate-300 dark:data-[state=open]:bg-slate-800 dark:data-[state=open]:text-slate-400",children:[l.jsx(qo,{className:"h-4 w-4"}),l.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Oo.displayName=TC.displayName;const Do=({className:e,...t})=>l.jsx("div",{className:Re("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Do.displayName="DialogHeader";const Lo=({className:e,...t})=>l.jsx("div",{className:Re("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Lo.displayName="DialogFooter";const Io=m.forwardRef(({className:e,...t},n)=>l.jsx(RC,{ref:n,className:Re("text-lg font-semibold leading-none tracking-tight",e),...t}));Io.displayName=RC.displayName;const fl=m.forwardRef(({className:e,...t},n)=>l.jsx(AC,{ref:n,className:Re("text-sm text-slate-500 dark:text-slate-400",e),...t}));fl.displayName=AC.displayName;function fV({isOpen:e,onClose:t,listingId:n,sellerId:r,sellerName:s,listingTitle:i}){const[o,a]=m.useState(""),{user:c}=It(),u=m.useRef(null),f=m.useRef(null),h=`listing_${n}_${(c==null?void 0:c.id)<r?`${c==null?void 0:c.id}_${r}`:`${r}_${c==null?void 0:c.id}`}`,{messages:g,loading:w,error:k,connected:v,sendMessage:j}=Wk(h);m.useEffect(()=>{var b;(b=u.current)==null||b.scrollIntoView({behavior:"smooth"})},[g]),m.useEffect(()=>{e&&setTimeout(()=>{var b;(b=f.current)==null||b.focus()},100)},[e]);const _=async b=>{if(b.preventDefault(),!o.trim())return;await j(o)&&a("")},x=b=>new Date(b).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return l.jsx(dl,{open:e,onOpenChange:t,children:l.jsxs(Oo,{className:"sm:max-w-md md:max-w-lg",children:[l.jsxs(Do,{children:[l.jsxs(Io,{className:"text-lg",children:["Chat about: ",i]}),!v&&l.jsxs("div",{className:"flex items-center gap-2 text-amber-500 text-sm mt-1",children:[l.jsx(qd,{size:16}),l.jsx("span",{children:"Connecting to chat server..."})]})]}),l.jsx("div",{className:"flex flex-col h-[350px] overflow-y-auto border rounded-md p-3 mb-4",children:w?l.jsx("div",{className:"flex items-center justify-center h-full",children:l.jsx(As,{className:"h-8 w-8 animate-spin text-primary"})}):k?l.jsx("div",{className:"flex items-center justify-center h-full text-destructive",children:l.jsx("p",{children:k})}):g.length===0?l.jsx("div",{className:"flex items-center justify-center h-full text-muted-foreground",children:l.jsx("p",{children:"No messages yet. Start the conversation!"})}):l.jsxs("div",{className:"space-y-3",children:[g.map((b,E)=>l.jsxs("div",{className:`flex flex-col max-w-[80%] ${b.sender===(c==null?void 0:c.id)?"ml-auto items-end":"mr-auto items-start"}`,children:[l.jsx("div",{className:`rounded-lg px-3 py-2 ${b.sender===(c==null?void 0:c.id)?"bg-primary text-primary-foreground":"bg-slate-800 text-white font-medium"}`,children:b.content}),l.jsxs("div",{className:"text-xs text-slate-400 mt-1 flex items-center gap-1",children:[l.jsx("span",{children:b.sender===(c==null?void 0:c.id)?"You":s}),l.jsx("span",{children:""}),l.jsx("span",{children:x(b.timestamp)})]})]},E)),l.jsx("div",{ref:u})]})}),l.jsxs("form",{onSubmit:_,className:"flex gap-2",children:[l.jsx(Me,{ref:f,value:o,onChange:b=>a(b.target.value),placeholder:"Type your message...",className:"flex-1 text-white bg-slate-700 border-slate-600 placeholder:text-slate-400",disabled:!v||w}),l.jsx(ue,{type:"submit",disabled:!v||!o.trim()||w,children:l.jsx(w_,{className:"h-4 w-4"})})]}),l.jsx(Lo,{className:"text-xs text-muted-foreground",children:l.jsx("p",{children:"Messages are stored only on your device"})})]})})}function hV({listing:e}){const[t,n]=m.useState(!1),{user:r}=It();return!r||r.id===e.user_id?null:l.jsxs(l.Fragment,{children:[l.jsxs(ue,{onClick:()=>n(!0),variant:"outline",size:"sm",className:"flex items-center gap-1",children:[l.jsx(Ho,{className:"h-4 w-4"}),l.jsx("span",{children:"Chat with Seller"})]}),l.jsx(fV,{isOpen:t,onClose:()=>n(!1),listingId:e.id,sellerId:e.user_id,sellerName:e.seller_name||"Seller",listingTitle:e.title})]})}const pV=e=>{if(!e)return[];const t=e.match(/[\-\*]\s*([^\n]+)/g);return t&&t.length>0?t.map(n=>n.replace(/^[\-\*]\s*/,"").trim()):["Well-maintained vehicle","Ready for test drive","Available for immediate purchase"]},mV=()=>{var x,b,E,R,D;const{id:e}=H2(),t=Oi(),{toast:n}=tr(),{user:r}=It(),{listing:s,loading:i,error:o}=MF(e),{isInWishlist:a,addToWishlist:c,removeFromWishlist:u}=Wy(),[f,h]=m.useState(!1),[g,w]=m.useState(0);if(i)return l.jsxs("div",{className:"text-center py-20",children:[l.jsx(As,{className:"w-24 h-24 text-purple-400 mx-auto mb-4 animate-spin"}),l.jsx("h1",{className:"text-3xl font-bold text-gray-300",children:"Loading Vehicle Details"}),l.jsx("p",{className:"text-gray-400",children:"Please wait while we fetch the information..."})]});if(o||!s)return l.jsxs("div",{className:"text-center py-20",children:[l.jsx(ut,{className:"w-24 h-24 text-orange-400 mx-auto mb-4 animate-pulse"}),l.jsx("h1",{className:"text-3xl font-bold text-gray-300",children:"Listing Not Found"}),l.jsx("p",{className:"text-gray-400",children:(o==null?void 0:o.message)||"The vehicle you're looking for might have been sold or removed."}),l.jsx(ue,{asChild:!0,className:"mt-8",children:l.jsx(Ie,{to:"/buy",children:"Back to Listings"})})]});const k=pV(s.description),v=a(s.id),j=()=>{if(!r){n({title:"Authentication Required",description:"Please log in to contact the seller.",variant:"destructive"}),t("/login",{state:{from:`/listing/${e}`}});return}s.phone?n({title:"Contact Information",description:`Seller's phone: ${s.phone}`}):n({title:"Contact Seller",description:"Chat functionality will be implemented soon to connect you with the seller!"})},_=async()=>{if(!r){n({title:"Authentication Required",description:"Please log in to add items to your wishlist.",variant:"destructive"}),t("/login",{state:{from:`/listing/${e}`}});return}try{if(h(!0),v)if(await u(s.id))n({title:"Removed from Wishlist",description:`${s.title} has been removed from your wishlist.`});else throw new Error("Failed to remove from wishlist");else if(await c(s.id))n({title:"Added to Wishlist",description:`${s.title} has been added to your wishlist.`});else throw new Error("Failed to add to wishlist")}catch(T){n({title:"Error",description:T.message,variant:"destructive"})}finally{h(!1)}};return l.jsxs(_e.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"py-8",children:[l.jsx("div",{className:"mb-8",children:l.jsx(ue,{variant:"outline",asChild:!0,className:"border-purple-500 text-purple-400 hover:bg-purple-500 hover:text-white",children:l.jsxs(Ie,{to:"/buy",children:[l.jsx(zr,{className:"mr-2 h-4 w-4"})," Back to Listings"]})})}),l.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[l.jsx("div",{className:"lg:col-span-2 space-y-8",children:l.jsxs(xn,{className:"bg-slate-800 border-slate-700 shadow-xl",children:[l.jsxs(Qn,{children:[l.jsx("div",{className:"w-full h-96 bg-slate-700 rounded-lg mb-4 overflow-hidden",children:s.images&&s.images.length>0?l.jsx(_e.img,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},className:"w-full h-full object-cover",alt:`${s.make} ${s.model}`,src:s.images[g]},g):l.jsx("div",{className:"w-full h-full flex items-center justify-center bg-slate-700",children:l.jsx(ut,{className:"w-24 h-24 text-slate-500"})})}),l.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[s.images&&s.images.map((T,F)=>l.jsx("div",{className:`w-full h-24 bg-slate-600 rounded overflow-hidden cursor-pointer transition-all duration-200 ${g===F?"ring-2 ring-purple-500 scale-95":"hover:ring-1 hover:ring-purple-400 hover:scale-105"}`,onClick:()=>w(F),children:l.jsx("img",{className:"w-full h-full object-cover",alt:`${s.make} ${s.model} view ${F+1}`,src:T})},F)),(!s.images||s.images.length<4)&&[...Array(4-(((x=s.images)==null?void 0:x.length)||0))].map((T,F)=>l.jsx("div",{className:"w-full h-24 bg-slate-600 rounded flex items-center justify-center text-slate-500",children:l.jsx(ut,{className:"w-8 h-8"})},`placeholder-${F}`))]})]}),l.jsxs(wn,{children:[l.jsx(yr,{className:"text-4xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-purple-400 via-pink-500 to-orange-500 mb-4",children:s.title}),l.jsxs("div",{className:"flex flex-wrap gap-4 text-gray-300 mb-6",children:[l.jsxs("span",{className:"flex items-center",children:[l.jsx(uy,{className:"w-5 h-5 mr-2 text-blue-400"})," Year: ",s.year]}),l.jsxs("span",{className:"flex items-center",children:[l.jsx(hy,{className:"w-5 h-5 mr-2 text-green-400"})," Mileage: ",s.mileage.toLocaleString()," miles"]}),l.jsxs("span",{className:"flex items-center",children:[l.jsx(ad,{className:"w-5 h-5 mr-2 text-orange-400"})," Location: ",s.location]}),l.jsxs("span",{className:"flex items-center",children:[l.jsx(ut,{className:"w-5 h-5 mr-2 text-purple-400"})," ",s.make," ",s.model]})]}),l.jsx("h3",{className:"text-2xl font-semibold text-purple-300 mb-3",children:"Description"}),l.jsx("p",{className:"text-gray-400 leading-relaxed",children:s.description}),l.jsx("h3",{className:"text-2xl font-semibold text-purple-300 mt-8 mb-3",children:"Features"}),l.jsx("ul",{className:"grid grid-cols-2 gap-x-4 gap-y-2 text-gray-400",children:k.map((T,F)=>l.jsxs("li",{className:"flex items-center",children:[l.jsx(S_,{className:"w-5 h-5 mr-2 text-teal-400"})," ",T]},F))})]})]})}),l.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[l.jsxs(xn,{className:"bg-slate-800 border-slate-700 shadow-xl sticky top-24",children:[l.jsx(Qn,{children:l.jsxs("p",{className:"text-4xl font-bold text-orange-400 text-center",children:["",parseFloat(s.price).toLocaleString()]})}),l.jsxs(wn,{className:"space-y-4",children:[l.jsx(ue,{onClick:j,size:"lg",className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700",children:s.phone?l.jsxs(l.Fragment,{children:[l.jsx(x_,{className:"mr-2 h-5 w-5"})," Call Seller"]}):l.jsxs(l.Fragment,{children:[l.jsx(my,{className:"mr-2 h-5 w-5"})," Contact Seller"]})}),l.jsx("div",{className:"mt-2",children:l.jsx(hV,{listing:{...s,seller_name:((b=s.profiles)==null?void 0:b.full_name)||"Seller"}})}),l.jsx(ue,{onClick:_,variant:"outline",size:"lg",className:"w-full border-purple-500 text-purple-400 hover:bg-purple-500 hover:text-white",disabled:f,children:f?l.jsx(As,{className:"mr-2 h-5 w-5 animate-spin"}):v?l.jsxs(l.Fragment,{children:[l.jsx(pm,{className:"mr-2 h-5 w-5"})," Remove from Wishlist"]}):l.jsxs(l.Fragment,{children:[l.jsx(mm,{className:"mr-2 h-5 w-5"})," Add to Wishlist"]})})]})]}),l.jsxs(xn,{className:"bg-slate-800 border-slate-700 shadow-xl",children:[l.jsx(Qn,{children:l.jsx(yr,{className:"text-xl text-purple-300",children:"Seller Information"})}),l.jsxs(wn,{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center",children:[(E=s.profiles)!=null&&E.avatar_url?l.jsx("img",{src:s.profiles.avatar_url,alt:"Seller",className:"w-10 h-10 rounded-full mr-3 object-cover"}):l.jsx(k_,{className:"w-10 h-10 mr-3 text-gray-400"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-semibold text-gray-200",children:((R=s.profiles)==null?void 0:R.full_name)||"Seller"}),l.jsxs("p",{className:"text-sm text-gray-400",children:["Member since ",(D=s.profiles)!=null&&D.created_at?z5(new Date(s.profiles.created_at),"MMMM yyyy"):""]})]})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx(ad,{className:"w-5 h-5 mr-1 text-orange-400"}),l.jsx("p",{className:"text-gray-300",children:s.location})]}),r&&r.id!==s.user_id&&l.jsx(ue,{variant:"link",className:"text-purple-400 p-0 h-auto",children:"View Seller Profile"})]})]})]})]})]})};function yb(e,[t,n]){return Math.min(n,Math.max(t,e))}function wd(e){const t=gV(e),n=m.forwardRef((r,s)=>{const{children:i,...o}=r,a=m.Children.toArray(i),c=a.find(vV);if(c){const u=c.props.children,f=a.map(h=>h===c?m.Children.count(u)>1?m.Children.only(null):m.isValidElement(u)?u.props.children:null:h);return l.jsx(t,{...o,ref:s,children:m.isValidElement(u)?m.cloneElement(u,void 0,f):null})}return l.jsx(t,{...o,ref:s,children:i})});return n.displayName=`${e}.Slot`,n}function gV(e){const t=m.forwardRef((n,r)=>{const{children:s,...i}=n;if(m.isValidElement(s)){const o=wV(s),a=xV(i,s.props);return s.type!==m.Fragment&&(a.ref=r?Kd(r,o):o),m.cloneElement(s,a)}return m.Children.count(s)>1?m.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var yV=Symbol("radix.slottable");function vV(e){return m.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===yV}function xV(e,t){const n={...t};for(const r in t){const s=e[r],i=t[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const c=i(...a);return s(...a),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...e,...n}}function wV(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function bV(e){const t=e+"CollectionProvider",[n,r]=Wr(t),[s,i]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=v=>{const{scope:j,children:_}=v,x=Ne.useRef(null),b=Ne.useRef(new Map).current;return l.jsx(s,{scope:j,itemMap:b,collectionRef:x,children:_})};o.displayName=t;const a=e+"CollectionSlot",c=wd(a),u=Ne.forwardRef((v,j)=>{const{scope:_,children:x}=v,b=i(a,_),E=Ke(j,b.collectionRef);return l.jsx(c,{ref:E,children:x})});u.displayName=a;const f=e+"CollectionItemSlot",h="data-radix-collection-item",g=wd(f),w=Ne.forwardRef((v,j)=>{const{scope:_,children:x,...b}=v,E=Ne.useRef(null),R=Ke(j,E),D=i(f,_);return Ne.useEffect(()=>(D.itemMap.set(E,{ref:E,...b}),()=>void D.itemMap.delete(E))),l.jsx(g,{[h]:"",ref:R,children:x})});w.displayName=f;function k(v){const j=i(e+"CollectionConsumer",v);return Ne.useCallback(()=>{const x=j.collectionRef.current;if(!x)return[];const b=Array.from(x.querySelectorAll(`[${h}]`));return Array.from(j.itemMap.values()).sort((D,T)=>b.indexOf(D.ref.current)-b.indexOf(T.ref.current))},[j.collectionRef,j.itemMap])}return[{Provider:o,Slot:u,ItemSlot:w},k,r]}var SV=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],bt=SV.reduce((e,t)=>{const n=wd(`Primitive.${t}`),r=m.forwardRef((s,i)=>{const{asChild:o,...a}=s,c=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(c,{...a,ref:i})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function _V(e,t){e&&Br.flushSync(()=>e.dispatchEvent(t))}var jV="DismissableLayer",Gm="dismissableLayer.update",kV="dismissableLayer.pointerDownOutside",CV="dismissableLayer.focusOutside",vb,DC=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),LC=m.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...c}=e,u=m.useContext(DC),[f,h]=m.useState(null),g=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,w]=m.useState({}),k=Ke(t,T=>h(T)),v=Array.from(u.layers),[j]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),_=v.indexOf(j),x=f?v.indexOf(f):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,E=x>=_,R=PV(T=>{const F=T.target,Q=[...u.branches].some(K=>K.contains(F));!E||Q||(s==null||s(T),o==null||o(T),T.defaultPrevented||a==null||a())},g),D=TV(T=>{const F=T.target;[...u.branches].some(K=>K.contains(F))||(i==null||i(T),o==null||o(T),T.defaultPrevented||a==null||a())},g);return Zy(T=>{x===u.layers.size-1&&(r==null||r(T),!T.defaultPrevented&&a&&(T.preventDefault(),a()))},g),m.useEffect(()=>{if(f)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(vb=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(f)),u.layers.add(f),xb(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=vb)}},[f,g,n,u]),m.useEffect(()=>()=>{f&&(u.layers.delete(f),u.layersWithOutsidePointerEventsDisabled.delete(f),xb())},[f,u]),m.useEffect(()=>{const T=()=>w({});return document.addEventListener(Gm,T),()=>document.removeEventListener(Gm,T)},[]),l.jsx(bt.div,{...c,ref:k,style:{pointerEvents:b?E?"auto":"none":void 0,...e.style},onFocusCapture:je(e.onFocusCapture,D.onFocusCapture),onBlurCapture:je(e.onBlurCapture,D.onBlurCapture),onPointerDownCapture:je(e.onPointerDownCapture,R.onPointerDownCapture)})});LC.displayName=jV;var EV="DismissableLayerBranch",NV=m.forwardRef((e,t)=>{const n=m.useContext(DC),r=m.useRef(null),s=Ke(t,r);return m.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),l.jsx(bt.div,{...e,ref:s})});NV.displayName=EV;function PV(e,t=globalThis==null?void 0:globalThis.document){const n=Lt(e),r=m.useRef(!1),s=m.useRef(()=>{});return m.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let c=function(){IC(kV,n,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function TV(e,t=globalThis==null?void 0:globalThis.document){const n=Lt(e),r=m.useRef(!1);return m.useEffect(()=>{const s=i=>{i.target&&!r.current&&IC(CV,n,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function xb(){const e=new CustomEvent(Gm);document.dispatchEvent(e)}function IC(e,t,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?_V(s,i):s.dispatchEvent(i)}var up="focusScope.autoFocusOnMount",dp="focusScope.autoFocusOnUnmount",wb={bubbles:!1,cancelable:!0},RV="FocusScope",MC=m.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=e,[a,c]=m.useState(null),u=Lt(s),f=Lt(i),h=m.useRef(null),g=Ke(t,v=>c(v)),w=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(r){let v=function(b){if(w.paused||!a)return;const E=b.target;a.contains(E)?h.current=E:ss(h.current,{select:!0})},j=function(b){if(w.paused||!a)return;const E=b.relatedTarget;E!==null&&(a.contains(E)||ss(h.current,{select:!0}))},_=function(b){if(document.activeElement===document.body)for(const R of b)R.removedNodes.length>0&&ss(a)};document.addEventListener("focusin",v),document.addEventListener("focusout",j);const x=new MutationObserver(_);return a&&x.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",j),x.disconnect()}}},[r,a,w.paused]),m.useEffect(()=>{if(a){Sb.add(w);const v=document.activeElement;if(!a.contains(v)){const _=new CustomEvent(up,wb);a.addEventListener(up,u),a.dispatchEvent(_),_.defaultPrevented||(AV(MV(FC(a)),{select:!0}),document.activeElement===v&&ss(a))}return()=>{a.removeEventListener(up,u),setTimeout(()=>{const _=new CustomEvent(dp,wb);a.addEventListener(dp,f),a.dispatchEvent(_),_.defaultPrevented||ss(v??document.body,{select:!0}),a.removeEventListener(dp,f),Sb.remove(w)},0)}}},[a,u,f,w]);const k=m.useCallback(v=>{if(!n&&!r||w.paused)return;const j=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,_=document.activeElement;if(j&&_){const x=v.currentTarget,[b,E]=OV(x);b&&E?!v.shiftKey&&_===E?(v.preventDefault(),n&&ss(b,{select:!0})):v.shiftKey&&_===b&&(v.preventDefault(),n&&ss(E,{select:!0})):_===x&&v.preventDefault()}},[n,r,w.paused]);return l.jsx(bt.div,{tabIndex:-1,...o,ref:g,onKeyDown:k})});MC.displayName=RV;function AV(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(ss(r,{select:t}),document.activeElement!==n)return}function OV(e){const t=FC(e),n=bb(t,e),r=bb(t.reverse(),e);return[n,r]}function FC(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function bb(e,t){for(const n of e)if(!DV(n,{upTo:t}))return n}function DV(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function LV(e){return e instanceof HTMLInputElement&&"select"in e}function ss(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&LV(e)&&t&&e.select()}}var Sb=IV();function IV(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=_b(e,t),e.unshift(t)},remove(t){var n;e=_b(e,t),(n=e[0])==null||n.resume()}}}function _b(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function MV(e){return e.filter(t=>t.tagName!=="A")}const FV=["top","right","bottom","left"],Ms=Math.min,gn=Math.max,bd=Math.round,au=Math.floor,gr=e=>({x:e,y:e}),$V={left:"right",right:"left",bottom:"top",top:"bottom"},VV={start:"end",end:"start"};function Xm(e,t,n){return gn(e,Ms(t,n))}function Fr(e,t){return typeof e=="function"?e(t):e}function $r(e){return e.split("-")[0]}function ua(e){return e.split("-")[1]}function rv(e){return e==="x"?"y":"x"}function sv(e){return e==="y"?"height":"width"}function Ar(e){return["top","bottom"].includes($r(e))?"y":"x"}function iv(e){return rv(Ar(e))}function BV(e,t,n){n===void 0&&(n=!1);const r=ua(e),s=iv(e),i=sv(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=Sd(o)),[o,Sd(o)]}function UV(e){const t=Sd(e);return[Qm(e),t,Qm(t)]}function Qm(e){return e.replace(/start|end/g,t=>VV[t])}function zV(e,t,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return n?t?s:r:t?r:s;case"left":case"right":return t?i:o;default:return[]}}function WV(e,t,n,r){const s=ua(e);let i=zV($r(e),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),t&&(i=i.concat(i.map(Qm)))),i}function Sd(e){return e.replace(/left|right|bottom|top/g,t=>$V[t])}function KV(e){return{top:0,right:0,bottom:0,left:0,...e}}function $C(e){return typeof e!="number"?KV(e):{top:e,right:e,bottom:e,left:e}}function _d(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function jb(e,t,n){let{reference:r,floating:s}=e;const i=Ar(t),o=iv(t),a=sv(o),c=$r(t),u=i==="y",f=r.x+r.width/2-s.width/2,h=r.y+r.height/2-s.height/2,g=r[a]/2-s[a]/2;let w;switch(c){case"top":w={x:f,y:r.y-s.height};break;case"bottom":w={x:f,y:r.y+r.height};break;case"right":w={x:r.x+r.width,y:h};break;case"left":w={x:r.x-s.width,y:h};break;default:w={x:r.x,y:r.y}}switch(ua(t)){case"start":w[o]-=g*(n&&u?-1:1);break;case"end":w[o]+=g*(n&&u?-1:1);break}return w}const HV=async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:s}),{x:f,y:h}=jb(u,r,c),g=r,w={},k=0;for(let v=0;v<a.length;v++){const{name:j,fn:_}=a[v],{x,y:b,data:E,reset:R}=await _({x:f,y:h,initialPlacement:r,placement:g,strategy:s,middlewareData:w,rects:u,platform:o,elements:{reference:e,floating:t}});f=x??f,h=b??h,w={...w,[j]:{...w[j],...E}},R&&k<=50&&(k++,typeof R=="object"&&(R.placement&&(g=R.placement),R.rects&&(u=R.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:s}):R.rects),{x:f,y:h}=jb(u,g,c)),v=-1)}return{x:f,y:h,placement:g,strategy:s,middlewareData:w}};async function Fl(e,t){var n;t===void 0&&(t={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:f="viewport",elementContext:h="floating",altBoundary:g=!1,padding:w=0}=Fr(t,e),k=$C(w),j=a[g?h==="floating"?"reference":"floating":h],_=_d(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(j)))==null||n?j:j.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:u,rootBoundary:f,strategy:c})),x=h==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,b=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),E=await(i.isElement==null?void 0:i.isElement(b))?await(i.getScale==null?void 0:i.getScale(b))||{x:1,y:1}:{x:1,y:1},R=_d(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:x,offsetParent:b,strategy:c}):x);return{top:(_.top-R.top+k.top)/E.y,bottom:(R.bottom-_.bottom+k.bottom)/E.y,left:(_.left-R.left+k.left)/E.x,right:(R.right-_.right+k.right)/E.x}}const qV=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:c}=t,{element:u,padding:f=0}=Fr(e,t)||{};if(u==null)return{};const h=$C(f),g={x:n,y:r},w=iv(s),k=sv(w),v=await o.getDimensions(u),j=w==="y",_=j?"top":"left",x=j?"bottom":"right",b=j?"clientHeight":"clientWidth",E=i.reference[k]+i.reference[w]-g[w]-i.floating[k],R=g[w]-i.reference[w],D=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let T=D?D[b]:0;(!T||!await(o.isElement==null?void 0:o.isElement(D)))&&(T=a.floating[b]||i.floating[k]);const F=E/2-R/2,Q=T/2-v[k]/2-1,K=Ms(h[_],Q),ie=Ms(h[x],Q),Z=K,pe=T-v[k]-ie,Y=T/2-v[k]/2+F,te=Xm(Z,Y,pe),J=!c.arrow&&ua(s)!=null&&Y!==te&&i.reference[k]/2-(Y<Z?K:ie)-v[k]/2<0,ge=J?Y<Z?Y-Z:Y-pe:0;return{[w]:g[w]+ge,data:{[w]:te,centerOffset:Y-te-ge,...J&&{alignmentOffset:ge}},reset:J}}}),YV=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:c,elements:u}=t,{mainAxis:f=!0,crossAxis:h=!0,fallbackPlacements:g,fallbackStrategy:w="bestFit",fallbackAxisSideDirection:k="none",flipAlignment:v=!0,...j}=Fr(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const _=$r(s),x=Ar(a),b=$r(a)===a,E=await(c.isRTL==null?void 0:c.isRTL(u.floating)),R=g||(b||!v?[Sd(a)]:UV(a)),D=k!=="none";!g&&D&&R.push(...WV(a,v,k,E));const T=[a,...R],F=await Fl(t,j),Q=[];let K=((r=i.flip)==null?void 0:r.overflows)||[];if(f&&Q.push(F[_]),h){const te=BV(s,o,E);Q.push(F[te[0]],F[te[1]])}if(K=[...K,{placement:s,overflows:Q}],!Q.every(te=>te<=0)){var ie,Z;const te=(((ie=i.flip)==null?void 0:ie.index)||0)+1,J=T[te];if(J){var pe;const G=h==="alignment"?x!==Ar(J):!1,ee=((pe=K[0])==null?void 0:pe.overflows[0])>0;if(!G||ee)return{data:{index:te,overflows:K},reset:{placement:J}}}let ge=(Z=K.filter(G=>G.overflows[0]<=0).sort((G,ee)=>G.overflows[1]-ee.overflows[1])[0])==null?void 0:Z.placement;if(!ge)switch(w){case"bestFit":{var Y;const G=(Y=K.filter(ee=>{if(D){const ae=Ar(ee.placement);return ae===x||ae==="y"}return!0}).map(ee=>[ee.placement,ee.overflows.filter(ae=>ae>0).reduce((ae,me)=>ae+me,0)]).sort((ee,ae)=>ee[1]-ae[1])[0])==null?void 0:Y[0];G&&(ge=G);break}case"initialPlacement":ge=a;break}if(s!==ge)return{reset:{placement:ge}}}return{}}}};function kb(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Cb(e){return FV.some(t=>e[t]>=0)}const GV=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...s}=Fr(e,t);switch(r){case"referenceHidden":{const i=await Fl(t,{...s,elementContext:"reference"}),o=kb(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:Cb(o)}}}case"escaped":{const i=await Fl(t,{...s,altBoundary:!0}),o=kb(i,n.floating);return{data:{escapedOffsets:o,escaped:Cb(o)}}}default:return{}}}}};async function XV(e,t){const{placement:n,platform:r,elements:s}=e,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=$r(n),a=ua(n),c=Ar(n)==="y",u=["left","top"].includes(o)?-1:1,f=i&&c?-1:1,h=Fr(t,e);let{mainAxis:g,crossAxis:w,alignmentAxis:k}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof k=="number"&&(w=a==="end"?k*-1:k),c?{x:w*f,y:g*u}:{x:g*u,y:w*f}}const QV=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=t,c=await XV(t,e);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:o}}}}},JV=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:s}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:j=>{let{x:_,y:x}=j;return{x:_,y:x}}},...c}=Fr(e,t),u={x:n,y:r},f=await Fl(t,c),h=Ar($r(s)),g=rv(h);let w=u[g],k=u[h];if(i){const j=g==="y"?"top":"left",_=g==="y"?"bottom":"right",x=w+f[j],b=w-f[_];w=Xm(x,w,b)}if(o){const j=h==="y"?"top":"left",_=h==="y"?"bottom":"right",x=k+f[j],b=k-f[_];k=Xm(x,k,b)}const v=a.fn({...t,[g]:w,[h]:k});return{...v,data:{x:v.x-n,y:v.y-r,enabled:{[g]:i,[h]:o}}}}}},ZV=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=t,{offset:a=0,mainAxis:c=!0,crossAxis:u=!0}=Fr(e,t),f={x:n,y:r},h=Ar(s),g=rv(h);let w=f[g],k=f[h];const v=Fr(a,t),j=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(c){const b=g==="y"?"height":"width",E=i.reference[g]-i.floating[b]+j.mainAxis,R=i.reference[g]+i.reference[b]-j.mainAxis;w<E?w=E:w>R&&(w=R)}if(u){var _,x;const b=g==="y"?"width":"height",E=["top","left"].includes($r(s)),R=i.reference[h]-i.floating[b]+(E&&((_=o.offset)==null?void 0:_[h])||0)+(E?0:j.crossAxis),D=i.reference[h]+i.reference[b]+(E?0:((x=o.offset)==null?void 0:x[h])||0)-(E?j.crossAxis:0);k<R?k=R:k>D&&(k=D)}return{[g]:w,[h]:k}}}},eB=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:s,rects:i,platform:o,elements:a}=t,{apply:c=()=>{},...u}=Fr(e,t),f=await Fl(t,u),h=$r(s),g=ua(s),w=Ar(s)==="y",{width:k,height:v}=i.floating;let j,_;h==="top"||h==="bottom"?(j=h,_=g===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(_=h,j=g==="end"?"top":"bottom");const x=v-f.top-f.bottom,b=k-f.left-f.right,E=Ms(v-f[j],x),R=Ms(k-f[_],b),D=!t.middlewareData.shift;let T=E,F=R;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(F=b),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(T=x),D&&!g){const K=gn(f.left,0),ie=gn(f.right,0),Z=gn(f.top,0),pe=gn(f.bottom,0);w?F=k-2*(K!==0||ie!==0?K+ie:gn(f.left,f.right)):T=v-2*(Z!==0||pe!==0?Z+pe:gn(f.top,f.bottom))}await c({...t,availableWidth:F,availableHeight:T});const Q=await o.getDimensions(a.floating);return k!==Q.width||v!==Q.height?{reset:{rects:!0}}:{}}}};function pf(){return typeof window<"u"}function da(e){return VC(e)?(e.nodeName||"").toLowerCase():"#document"}function bn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function br(e){var t;return(t=(VC(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function VC(e){return pf()?e instanceof Node||e instanceof bn(e).Node:!1}function Zn(e){return pf()?e instanceof Element||e instanceof bn(e).Element:!1}function xr(e){return pf()?e instanceof HTMLElement||e instanceof bn(e).HTMLElement:!1}function Eb(e){return!pf()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof bn(e).ShadowRoot}function ec(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=er(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(s)}function tB(e){return["table","td","th"].includes(da(e))}function mf(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function ov(e){const t=av(),n=Zn(e)?er(e):e;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function nB(e){let t=Fs(e);for(;xr(t)&&!Zo(t);){if(ov(t))return t;if(mf(t))return null;t=Fs(t)}return null}function av(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Zo(e){return["html","body","#document"].includes(da(e))}function er(e){return bn(e).getComputedStyle(e)}function gf(e){return Zn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Fs(e){if(da(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Eb(e)&&e.host||br(e);return Eb(t)?t.host:t}function BC(e){const t=Fs(e);return Zo(t)?e.ownerDocument?e.ownerDocument.body:e.body:xr(t)&&ec(t)?t:BC(t)}function $l(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=BC(e),i=s===((r=e.ownerDocument)==null?void 0:r.body),o=bn(s);if(i){const a=Jm(o);return t.concat(o,o.visualViewport||[],ec(s)?s:[],a&&n?$l(a):[])}return t.concat(s,$l(s,[],n))}function Jm(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function UC(e){const t=er(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=xr(e),i=s?e.offsetWidth:n,o=s?e.offsetHeight:r,a=bd(n)!==i||bd(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function lv(e){return Zn(e)?e:e.contextElement}function Mo(e){const t=lv(e);if(!xr(t))return gr(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:i}=UC(t);let o=(i?bd(n.width):n.width)/r,a=(i?bd(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const rB=gr(0);function zC(e){const t=bn(e);return!av()||!t.visualViewport?rB:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function sB(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==bn(e)?!1:t}function Ni(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),i=lv(e);let o=gr(1);t&&(r?Zn(r)&&(o=Mo(r)):o=Mo(e));const a=sB(i,n,r)?zC(i):gr(0);let c=(s.left+a.x)/o.x,u=(s.top+a.y)/o.y,f=s.width/o.x,h=s.height/o.y;if(i){const g=bn(i),w=r&&Zn(r)?bn(r):r;let k=g,v=Jm(k);for(;v&&r&&w!==k;){const j=Mo(v),_=v.getBoundingClientRect(),x=er(v),b=_.left+(v.clientLeft+parseFloat(x.paddingLeft))*j.x,E=_.top+(v.clientTop+parseFloat(x.paddingTop))*j.y;c*=j.x,u*=j.y,f*=j.x,h*=j.y,c+=b,u+=E,k=bn(v),v=Jm(k)}}return _d({width:f,height:h,x:c,y:u})}function cv(e,t){const n=gf(e).scrollLeft;return t?t.left+n:Ni(br(e)).left+n}function WC(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),s=r.left+t.scrollLeft-(n?0:cv(e,r)),i=r.top+t.scrollTop;return{x:s,y:i}}function iB(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const i=s==="fixed",o=br(r),a=t?mf(t.floating):!1;if(r===o||a&&i)return n;let c={scrollLeft:0,scrollTop:0},u=gr(1);const f=gr(0),h=xr(r);if((h||!h&&!i)&&((da(r)!=="body"||ec(o))&&(c=gf(r)),xr(r))){const w=Ni(r);u=Mo(r),f.x=w.x+r.clientLeft,f.y=w.y+r.clientTop}const g=o&&!h&&!i?WC(o,c,!0):gr(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+f.x+g.x,y:n.y*u.y-c.scrollTop*u.y+f.y+g.y}}function oB(e){return Array.from(e.getClientRects())}function aB(e){const t=br(e),n=gf(e),r=e.ownerDocument.body,s=gn(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=gn(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+cv(e);const a=-n.scrollTop;return er(r).direction==="rtl"&&(o+=gn(t.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function lB(e,t){const n=bn(e),r=br(e),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,c=0;if(s){i=s.width,o=s.height;const u=av();(!u||u&&t==="fixed")&&(a=s.offsetLeft,c=s.offsetTop)}return{width:i,height:o,x:a,y:c}}function cB(e,t){const n=Ni(e,!0,t==="fixed"),r=n.top+e.clientTop,s=n.left+e.clientLeft,i=xr(e)?Mo(e):gr(1),o=e.clientWidth*i.x,a=e.clientHeight*i.y,c=s*i.x,u=r*i.y;return{width:o,height:a,x:c,y:u}}function Nb(e,t,n){let r;if(t==="viewport")r=lB(e,n);else if(t==="document")r=aB(br(e));else if(Zn(t))r=cB(t,n);else{const s=zC(e);r={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return _d(r)}function KC(e,t){const n=Fs(e);return n===t||!Zn(n)||Zo(n)?!1:er(n).position==="fixed"||KC(n,t)}function uB(e,t){const n=t.get(e);if(n)return n;let r=$l(e,[],!1).filter(a=>Zn(a)&&da(a)!=="body"),s=null;const i=er(e).position==="fixed";let o=i?Fs(e):e;for(;Zn(o)&&!Zo(o);){const a=er(o),c=ov(o);!c&&a.position==="fixed"&&(s=null),(i?!c&&!s:!c&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||ec(o)&&!c&&KC(e,o))?r=r.filter(f=>f!==o):s=a,o=Fs(o)}return t.set(e,r),r}function dB(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const o=[...n==="clippingAncestors"?mf(t)?[]:uB(t,this._c):[].concat(n),r],a=o[0],c=o.reduce((u,f)=>{const h=Nb(t,f,s);return u.top=gn(h.top,u.top),u.right=Ms(h.right,u.right),u.bottom=Ms(h.bottom,u.bottom),u.left=gn(h.left,u.left),u},Nb(t,a,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function fB(e){const{width:t,height:n}=UC(e);return{width:t,height:n}}function hB(e,t,n){const r=xr(t),s=br(t),i=n==="fixed",o=Ni(e,!0,i,t);let a={scrollLeft:0,scrollTop:0};const c=gr(0);function u(){c.x=cv(s)}if(r||!r&&!i)if((da(t)!=="body"||ec(s))&&(a=gf(t)),r){const w=Ni(t,!0,i,t);c.x=w.x+t.clientLeft,c.y=w.y+t.clientTop}else s&&u();i&&!r&&s&&u();const f=s&&!r&&!i?WC(s,a):gr(0),h=o.left+a.scrollLeft-c.x-f.x,g=o.top+a.scrollTop-c.y-f.y;return{x:h,y:g,width:o.width,height:o.height}}function fp(e){return er(e).position==="static"}function Pb(e,t){if(!xr(e)||er(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return br(e)===n&&(n=n.ownerDocument.body),n}function HC(e,t){const n=bn(e);if(mf(e))return n;if(!xr(e)){let s=Fs(e);for(;s&&!Zo(s);){if(Zn(s)&&!fp(s))return s;s=Fs(s)}return n}let r=Pb(e,t);for(;r&&tB(r)&&fp(r);)r=Pb(r,t);return r&&Zo(r)&&fp(r)&&!ov(r)?n:r||nB(e)||n}const pB=async function(e){const t=this.getOffsetParent||HC,n=this.getDimensions,r=await n(e.floating);return{reference:hB(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function mB(e){return er(e).direction==="rtl"}const gB={convertOffsetParentRelativeRectToViewportRelativeRect:iB,getDocumentElement:br,getClippingRect:dB,getOffsetParent:HC,getElementRects:pB,getClientRects:oB,getDimensions:fB,getScale:Mo,isElement:Zn,isRTL:mB};function qC(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function yB(e,t){let n=null,r;const s=br(e);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,c){a===void 0&&(a=!1),c===void 0&&(c=1),i();const u=e.getBoundingClientRect(),{left:f,top:h,width:g,height:w}=u;if(a||t(),!g||!w)return;const k=au(h),v=au(s.clientWidth-(f+g)),j=au(s.clientHeight-(h+w)),_=au(f),b={rootMargin:-k+"px "+-v+"px "+-j+"px "+-_+"px",threshold:gn(0,Ms(1,c))||1};let E=!0;function R(D){const T=D[0].intersectionRatio;if(T!==c){if(!E)return o();T?o(!1,T):r=setTimeout(()=>{o(!1,1e-7)},1e3)}T===1&&!qC(u,e.getBoundingClientRect())&&o(),E=!1}try{n=new IntersectionObserver(R,{...b,root:s.ownerDocument})}catch{n=new IntersectionObserver(R,b)}n.observe(e)}return o(!0),i}function vB(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=lv(e),f=s||i?[...u?$l(u):[],...$l(t)]:[];f.forEach(_=>{s&&_.addEventListener("scroll",n,{passive:!0}),i&&_.addEventListener("resize",n)});const h=u&&a?yB(u,n):null;let g=-1,w=null;o&&(w=new ResizeObserver(_=>{let[x]=_;x&&x.target===u&&w&&(w.unobserve(t),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var b;(b=w)==null||b.observe(t)})),n()}),u&&!c&&w.observe(u),w.observe(t));let k,v=c?Ni(e):null;c&&j();function j(){const _=Ni(e);v&&!qC(v,_)&&n(),v=_,k=requestAnimationFrame(j)}return n(),()=>{var _;f.forEach(x=>{s&&x.removeEventListener("scroll",n),i&&x.removeEventListener("resize",n)}),h==null||h(),(_=w)==null||_.disconnect(),w=null,c&&cancelAnimationFrame(k)}}const xB=QV,wB=JV,bB=YV,SB=eB,_B=GV,Tb=qV,jB=ZV,kB=(e,t,n)=>{const r=new Map,s={platform:gB,...n},i={...s.platform,_c:r};return HV(e,t,{...s,platform:i})};var Tu=typeof document<"u"?m.useLayoutEffect:m.useEffect;function jd(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!jd(e[r],t[r]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&e.$$typeof)&&!jd(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function YC(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Rb(e,t){const n=YC(e);return Math.round(t*n)/n}function hp(e){const t=m.useRef(e);return Tu(()=>{t.current=e}),t}function CB(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:c,open:u}=e,[f,h]=m.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[g,w]=m.useState(r);jd(g,r)||w(r);const[k,v]=m.useState(null),[j,_]=m.useState(null),x=m.useCallback(G=>{G!==D.current&&(D.current=G,v(G))},[]),b=m.useCallback(G=>{G!==T.current&&(T.current=G,_(G))},[]),E=i||k,R=o||j,D=m.useRef(null),T=m.useRef(null),F=m.useRef(f),Q=c!=null,K=hp(c),ie=hp(s),Z=hp(u),pe=m.useCallback(()=>{if(!D.current||!T.current)return;const G={placement:t,strategy:n,middleware:g};ie.current&&(G.platform=ie.current),kB(D.current,T.current,G).then(ee=>{const ae={...ee,isPositioned:Z.current!==!1};Y.current&&!jd(F.current,ae)&&(F.current=ae,Br.flushSync(()=>{h(ae)}))})},[g,t,n,ie,Z]);Tu(()=>{u===!1&&F.current.isPositioned&&(F.current.isPositioned=!1,h(G=>({...G,isPositioned:!1})))},[u]);const Y=m.useRef(!1);Tu(()=>(Y.current=!0,()=>{Y.current=!1}),[]),Tu(()=>{if(E&&(D.current=E),R&&(T.current=R),E&&R){if(K.current)return K.current(E,R,pe);pe()}},[E,R,pe,K,Q]);const te=m.useMemo(()=>({reference:D,floating:T,setReference:x,setFloating:b}),[x,b]),J=m.useMemo(()=>({reference:E,floating:R}),[E,R]),ge=m.useMemo(()=>{const G={position:n,left:0,top:0};if(!J.floating)return G;const ee=Rb(J.floating,f.x),ae=Rb(J.floating,f.y);return a?{...G,transform:"translate("+ee+"px, "+ae+"px)",...YC(J.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:ee,top:ae}},[n,a,J.floating,f.x,f.y]);return m.useMemo(()=>({...f,update:pe,refs:te,elements:J,floatingStyles:ge}),[f,pe,te,J,ge])}const EB=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:s}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?Tb({element:r.current,padding:s}).fn(n):{}:r?Tb({element:r,padding:s}).fn(n):{}}}},NB=(e,t)=>({...xB(e),options:[e,t]}),PB=(e,t)=>({...wB(e),options:[e,t]}),TB=(e,t)=>({...jB(e),options:[e,t]}),RB=(e,t)=>({...bB(e),options:[e,t]}),AB=(e,t)=>({...SB(e),options:[e,t]}),OB=(e,t)=>({..._B(e),options:[e,t]}),DB=(e,t)=>({...EB(e),options:[e,t]});var LB="Arrow",GC=m.forwardRef((e,t)=>{const{children:n,width:r=10,height:s=5,...i}=e;return l.jsx(bt.svg,{...i,ref:t,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:l.jsx("polygon",{points:"0,0 30,0 15,10"})})});GC.displayName=LB;var IB=GC;function MB(e){const[t,n]=m.useState(void 0);return Pt(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,a=u.blockSize}else o=e.offsetWidth,a=e.offsetHeight;n({width:o,height:a})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var uv="Popper",[XC,QC]=Wr(uv),[FB,JC]=XC(uv),ZC=e=>{const{__scopePopper:t,children:n}=e,[r,s]=m.useState(null);return l.jsx(FB,{scope:t,anchor:r,onAnchorChange:s,children:n})};ZC.displayName=uv;var eE="PopperAnchor",tE=m.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...s}=e,i=JC(eE,n),o=m.useRef(null),a=Ke(t,o);return m.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:l.jsx(bt.div,{...s,ref:a})});tE.displayName=eE;var dv="PopperContent",[$B,VB]=XC(dv),nE=m.forwardRef((e,t)=>{var Se,Ge,fe,ze,Te,we;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:f=0,sticky:h="partial",hideWhenDetached:g=!1,updatePositionStrategy:w="optimized",onPlaced:k,...v}=e,j=JC(dv,n),[_,x]=m.useState(null),b=Ke(t,Ct=>x(Ct)),[E,R]=m.useState(null),D=MB(E),T=(D==null?void 0:D.width)??0,F=(D==null?void 0:D.height)??0,Q=r+(i!=="center"?"-"+i:""),K=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},ie=Array.isArray(u)?u:[u],Z=ie.length>0,pe={padding:K,boundary:ie.filter(UB),altBoundary:Z},{refs:Y,floatingStyles:te,placement:J,isPositioned:ge,middlewareData:G}=CB({strategy:"fixed",placement:Q,whileElementsMounted:(...Ct)=>vB(...Ct,{animationFrame:w==="always"}),elements:{reference:j.anchor},middleware:[NB({mainAxis:s+F,alignmentAxis:o}),c&&PB({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?TB():void 0,...pe}),c&&RB({...pe}),AB({...pe,apply:({elements:Ct,rects:Cn,availableWidth:dn,availableHeight:Ks})=>{const{width:Hs,height:bf}=Cn.reference,$i=Ct.floating.style;$i.setProperty("--radix-popper-available-width",`${dn}px`),$i.setProperty("--radix-popper-available-height",`${Ks}px`),$i.setProperty("--radix-popper-anchor-width",`${Hs}px`),$i.setProperty("--radix-popper-anchor-height",`${bf}px`)}}),E&&DB({element:E,padding:a}),zB({arrowWidth:T,arrowHeight:F}),g&&OB({strategy:"referenceHidden",...pe})]}),[ee,ae]=iE(J),me=Lt(k);Pt(()=>{ge&&(me==null||me())},[ge,me]);const Pe=(Se=G.arrow)==null?void 0:Se.x,Ae=(Ge=G.arrow)==null?void 0:Ge.y,nt=((fe=G.arrow)==null?void 0:fe.centerOffset)!==0,[Tt,Je]=m.useState();return Pt(()=>{_&&Je(window.getComputedStyle(_).zIndex)},[_]),l.jsx("div",{ref:Y.setFloating,"data-radix-popper-content-wrapper":"",style:{...te,transform:ge?te.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Tt,"--radix-popper-transform-origin":[(ze=G.transformOrigin)==null?void 0:ze.x,(Te=G.transformOrigin)==null?void 0:Te.y].join(" "),...((we=G.hide)==null?void 0:we.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:l.jsx($B,{scope:n,placedSide:ee,onArrowChange:R,arrowX:Pe,arrowY:Ae,shouldHideArrow:nt,children:l.jsx(bt.div,{"data-side":ee,"data-align":ae,...v,ref:b,style:{...v.style,animation:ge?void 0:"none"}})})})});nE.displayName=dv;var rE="PopperArrow",BB={top:"bottom",right:"left",bottom:"top",left:"right"},sE=m.forwardRef(function(t,n){const{__scopePopper:r,...s}=t,i=VB(rE,r),o=BB[i.placedSide];return l.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:l.jsx(IB,{...s,ref:n,style:{...s.style,display:"block"}})})});sE.displayName=rE;function UB(e){return e!==null}var zB=e=>({name:"transformOrigin",options:e,fn(t){var j,_,x;const{placement:n,rects:r,middlewareData:s}=t,o=((j=s.arrow)==null?void 0:j.centerOffset)!==0,a=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,f]=iE(n),h={start:"0%",center:"50%",end:"100%"}[f],g=(((_=s.arrow)==null?void 0:_.x)??0)+a/2,w=(((x=s.arrow)==null?void 0:x.y)??0)+c/2;let k="",v="";return u==="bottom"?(k=o?h:`${g}px`,v=`${-c}px`):u==="top"?(k=o?h:`${g}px`,v=`${r.floating.height+c}px`):u==="right"?(k=`${-c}px`,v=o?h:`${w}px`):u==="left"&&(k=`${r.floating.width+c}px`,v=o?h:`${w}px`),{data:{x:k,y:v}}}});function iE(e){const[t,n="center"]=e.split("-");return[t,n]}var WB=ZC,KB=tE,HB=nE,qB=sE,YB="Portal",oE=m.forwardRef((e,t)=>{var a;const{container:n,...r}=e,[s,i]=m.useState(!1);Pt(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?oy.createPortal(l.jsx(bt.div,{...r,ref:t}),o):null});oE.displayName=YB;function GB(e){const t=m.useRef({value:e,previous:e});return m.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var aE=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),XB="VisuallyHidden",QB=m.forwardRef((e,t)=>l.jsx(bt.span,{...e,ref:t,style:{...aE,...e.style}}));QB.displayName=XB;var JB=[" ","Enter","ArrowUp","ArrowDown"],ZB=[" ","Enter"],Pi="Select",[yf,vf,e6]=bV(Pi),[fa,kU]=Wr(Pi,[e6,QC]),xf=QC(),[t6,zs]=fa(Pi),[n6,r6]=fa(Pi),lE=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:s,onOpenChange:i,value:o,defaultValue:a,onValueChange:c,dir:u,name:f,autoComplete:h,disabled:g,required:w,form:k}=e,v=xf(t),[j,_]=m.useState(null),[x,b]=m.useState(null),[E,R]=m.useState(!1),D=Ky(u),[T,F]=Jo({prop:r,defaultProp:s??!1,onChange:i,caller:Pi}),[Q,K]=Jo({prop:o,defaultProp:a,onChange:c,caller:Pi}),ie=m.useRef(null),Z=j?k||!!j.closest("form"):!0,[pe,Y]=m.useState(new Set),te=Array.from(pe).map(J=>J.props.value).join(";");return l.jsx(WB,{...v,children:l.jsxs(t6,{required:w,scope:t,trigger:j,onTriggerChange:_,valueNode:x,onValueNodeChange:b,valueNodeHasChildren:E,onValueNodeHasChildrenChange:R,contentId:Cs(),value:Q,onValueChange:K,open:T,onOpenChange:F,dir:D,triggerPointerDownPosRef:ie,disabled:g,children:[l.jsx(yf.Provider,{scope:t,children:l.jsx(n6,{scope:e.__scopeSelect,onNativeOptionAdd:m.useCallback(J=>{Y(ge=>new Set(ge).add(J))},[]),onNativeOptionRemove:m.useCallback(J=>{Y(ge=>{const G=new Set(ge);return G.delete(J),G})},[]),children:n})}),Z?l.jsxs(AE,{"aria-hidden":!0,required:w,tabIndex:-1,name:f,autoComplete:h,value:Q,onChange:J=>K(J.target.value),disabled:g,form:k,children:[Q===void 0?l.jsx("option",{value:""}):null,Array.from(pe)]},te):null]})})};lE.displayName=Pi;var cE="SelectTrigger",uE=m.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...s}=e,i=xf(n),o=zs(cE,n),a=o.disabled||r,c=Ke(t,o.onTriggerChange),u=vf(n),f=m.useRef("touch"),[h,g,w]=DE(v=>{const j=u().filter(b=>!b.disabled),_=j.find(b=>b.value===o.value),x=LE(j,v,_);x!==void 0&&o.onValueChange(x.value)}),k=v=>{a||(o.onOpenChange(!0),w()),v&&(o.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return l.jsx(KB,{asChild:!0,...i,children:l.jsx(bt.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":OE(o.value)?"":void 0,...s,ref:c,onClick:je(s.onClick,v=>{v.currentTarget.focus(),f.current!=="mouse"&&k(v)}),onPointerDown:je(s.onPointerDown,v=>{f.current=v.pointerType;const j=v.target;j.hasPointerCapture(v.pointerId)&&j.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(k(v),v.preventDefault())}),onKeyDown:je(s.onKeyDown,v=>{const j=h.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&g(v.key),!(j&&v.key===" ")&&JB.includes(v.key)&&(k(),v.preventDefault())})})})});uE.displayName=cE;var dE="SelectValue",fE=m.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:o="",...a}=e,c=zs(dE,n),{onValueNodeHasChildrenChange:u}=c,f=i!==void 0,h=Ke(t,c.onValueNodeChange);return Pt(()=>{u(f)},[u,f]),l.jsx(bt.span,{...a,ref:h,style:{pointerEvents:"none"},children:OE(c.value)?l.jsx(l.Fragment,{children:o}):i})});fE.displayName=dE;var s6="SelectIcon",hE=m.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...s}=e;return l.jsx(bt.span,{"aria-hidden":!0,...s,ref:t,children:r||""})});hE.displayName=s6;var i6="SelectPortal",pE=e=>l.jsx(oE,{asChild:!0,...e});pE.displayName=i6;var Ti="SelectContent",mE=m.forwardRef((e,t)=>{const n=zs(Ti,e.__scopeSelect),[r,s]=m.useState();if(Pt(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?Br.createPortal(l.jsx(gE,{scope:e.__scopeSelect,children:l.jsx(yf.Slot,{scope:e.__scopeSelect,children:l.jsx("div",{children:e.children})})}),i):null}return l.jsx(yE,{...e,ref:t})});mE.displayName=Ti;var zn=10,[gE,Ws]=fa(Ti),o6="SelectContentImpl",a6=wd("SelectContent.RemoveScroll"),yE=m.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:a,sideOffset:c,align:u,alignOffset:f,arrowPadding:h,collisionBoundary:g,collisionPadding:w,sticky:k,hideWhenDetached:v,avoidCollisions:j,..._}=e,x=zs(Ti,n),[b,E]=m.useState(null),[R,D]=m.useState(null),T=Ke(t,Se=>E(Se)),[F,Q]=m.useState(null),[K,ie]=m.useState(null),Z=vf(n),[pe,Y]=m.useState(!1),te=m.useRef(!1);m.useEffect(()=>{if(b)return hC(b)},[b]),nC();const J=m.useCallback(Se=>{const[Ge,...fe]=Z().map(we=>we.ref.current),[ze]=fe.slice(-1),Te=document.activeElement;for(const we of Se)if(we===Te||(we==null||we.scrollIntoView({block:"nearest"}),we===Ge&&R&&(R.scrollTop=0),we===ze&&R&&(R.scrollTop=R.scrollHeight),we==null||we.focus(),document.activeElement!==Te))return},[Z,R]),ge=m.useCallback(()=>J([F,b]),[J,F,b]);m.useEffect(()=>{pe&&ge()},[pe,ge]);const{onOpenChange:G,triggerPointerDownPosRef:ee}=x;m.useEffect(()=>{if(b){let Se={x:0,y:0};const Ge=ze=>{var Te,we;Se={x:Math.abs(Math.round(ze.pageX)-(((Te=ee.current)==null?void 0:Te.x)??0)),y:Math.abs(Math.round(ze.pageY)-(((we=ee.current)==null?void 0:we.y)??0))}},fe=ze=>{Se.x<=10&&Se.y<=10?ze.preventDefault():b.contains(ze.target)||G(!1),document.removeEventListener("pointermove",Ge),ee.current=null};return ee.current!==null&&(document.addEventListener("pointermove",Ge),document.addEventListener("pointerup",fe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ge),document.removeEventListener("pointerup",fe,{capture:!0})}}},[b,G,ee]),m.useEffect(()=>{const Se=()=>G(!1);return window.addEventListener("blur",Se),window.addEventListener("resize",Se),()=>{window.removeEventListener("blur",Se),window.removeEventListener("resize",Se)}},[G]);const[ae,me]=DE(Se=>{const Ge=Z().filter(Te=>!Te.disabled),fe=Ge.find(Te=>Te.ref.current===document.activeElement),ze=LE(Ge,Se,fe);ze&&setTimeout(()=>ze.ref.current.focus())}),Pe=m.useCallback((Se,Ge,fe)=>{const ze=!te.current&&!fe;(x.value!==void 0&&x.value===Ge||ze)&&(Q(Se),ze&&(te.current=!0))},[x.value]),Ae=m.useCallback(()=>b==null?void 0:b.focus(),[b]),nt=m.useCallback((Se,Ge,fe)=>{const ze=!te.current&&!fe;(x.value!==void 0&&x.value===Ge||ze)&&ie(Se)},[x.value]),Tt=r==="popper"?Zm:vE,Je=Tt===Zm?{side:a,sideOffset:c,align:u,alignOffset:f,arrowPadding:h,collisionBoundary:g,collisionPadding:w,sticky:k,hideWhenDetached:v,avoidCollisions:j}:{};return l.jsx(gE,{scope:n,content:b,viewport:R,onViewportChange:D,itemRefCallback:Pe,selectedItem:F,onItemLeave:Ae,itemTextRefCallback:nt,focusSelectedItem:ge,selectedItemText:K,position:r,isPositioned:pe,searchRef:ae,children:l.jsx(dC,{as:a6,allowPinchZoom:!0,children:l.jsx(MC,{asChild:!0,trapped:x.open,onMountAutoFocus:Se=>{Se.preventDefault()},onUnmountAutoFocus:je(s,Se=>{var Ge;(Ge=x.trigger)==null||Ge.focus({preventScroll:!0}),Se.preventDefault()}),children:l.jsx(LC,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:Se=>Se.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:l.jsx(Tt,{role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:Se=>Se.preventDefault(),..._,...Je,onPlaced:()=>Y(!0),ref:T,style:{display:"flex",flexDirection:"column",outline:"none",..._.style},onKeyDown:je(_.onKeyDown,Se=>{const Ge=Se.ctrlKey||Se.altKey||Se.metaKey;if(Se.key==="Tab"&&Se.preventDefault(),!Ge&&Se.key.length===1&&me(Se.key),["ArrowUp","ArrowDown","Home","End"].includes(Se.key)){let ze=Z().filter(Te=>!Te.disabled).map(Te=>Te.ref.current);if(["ArrowUp","End"].includes(Se.key)&&(ze=ze.slice().reverse()),["ArrowUp","ArrowDown"].includes(Se.key)){const Te=Se.target,we=ze.indexOf(Te);ze=ze.slice(we+1)}setTimeout(()=>J(ze)),Se.preventDefault()}})})})})})})});yE.displayName=o6;var l6="SelectItemAlignedPosition",vE=m.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...s}=e,i=zs(Ti,n),o=Ws(Ti,n),[a,c]=m.useState(null),[u,f]=m.useState(null),h=Ke(t,T=>f(T)),g=vf(n),w=m.useRef(!1),k=m.useRef(!0),{viewport:v,selectedItem:j,selectedItemText:_,focusSelectedItem:x}=o,b=m.useCallback(()=>{if(i.trigger&&i.valueNode&&a&&u&&v&&j&&_){const T=i.trigger.getBoundingClientRect(),F=u.getBoundingClientRect(),Q=i.valueNode.getBoundingClientRect(),K=_.getBoundingClientRect();if(i.dir!=="rtl"){const Te=K.left-F.left,we=Q.left-Te,Ct=T.left-we,Cn=T.width+Ct,dn=Math.max(Cn,F.width),Ks=window.innerWidth-zn,Hs=yb(we,[zn,Math.max(zn,Ks-dn)]);a.style.minWidth=Cn+"px",a.style.left=Hs+"px"}else{const Te=F.right-K.right,we=window.innerWidth-Q.right-Te,Ct=window.innerWidth-T.right-we,Cn=T.width+Ct,dn=Math.max(Cn,F.width),Ks=window.innerWidth-zn,Hs=yb(we,[zn,Math.max(zn,Ks-dn)]);a.style.minWidth=Cn+"px",a.style.right=Hs+"px"}const ie=g(),Z=window.innerHeight-zn*2,pe=v.scrollHeight,Y=window.getComputedStyle(u),te=parseInt(Y.borderTopWidth,10),J=parseInt(Y.paddingTop,10),ge=parseInt(Y.borderBottomWidth,10),G=parseInt(Y.paddingBottom,10),ee=te+J+pe+G+ge,ae=Math.min(j.offsetHeight*5,ee),me=window.getComputedStyle(v),Pe=parseInt(me.paddingTop,10),Ae=parseInt(me.paddingBottom,10),nt=T.top+T.height/2-zn,Tt=Z-nt,Je=j.offsetHeight/2,Se=j.offsetTop+Je,Ge=te+J+Se,fe=ee-Ge;if(Ge<=nt){const Te=ie.length>0&&j===ie[ie.length-1].ref.current;a.style.bottom="0px";const we=u.clientHeight-v.offsetTop-v.offsetHeight,Ct=Math.max(Tt,Je+(Te?Ae:0)+we+ge),Cn=Ge+Ct;a.style.height=Cn+"px"}else{const Te=ie.length>0&&j===ie[0].ref.current;a.style.top="0px";const Ct=Math.max(nt,te+v.offsetTop+(Te?Pe:0)+Je)+fe;a.style.height=Ct+"px",v.scrollTop=Ge-nt+v.offsetTop}a.style.margin=`${zn}px 0`,a.style.minHeight=ae+"px",a.style.maxHeight=Z+"px",r==null||r(),requestAnimationFrame(()=>w.current=!0)}},[g,i.trigger,i.valueNode,a,u,v,j,_,i.dir,r]);Pt(()=>b(),[b]);const[E,R]=m.useState();Pt(()=>{u&&R(window.getComputedStyle(u).zIndex)},[u]);const D=m.useCallback(T=>{T&&k.current===!0&&(b(),x==null||x(),k.current=!1)},[b,x]);return l.jsx(u6,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:w,onScrollButtonChange:D,children:l.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:E},children:l.jsx(bt.div,{...s,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});vE.displayName=l6;var c6="SelectPopperPosition",Zm=m.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=zn,...i}=e,o=xf(n);return l.jsx(HB,{...o,...i,ref:t,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Zm.displayName=c6;var[u6,fv]=fa(Ti,{}),eg="SelectViewport",xE=m.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...s}=e,i=Ws(eg,n),o=fv(eg,n),a=Ke(t,i.onViewportChange),c=m.useRef(0);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),l.jsx(yf.Slot,{scope:n,children:l.jsx(bt.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:je(s.onScroll,u=>{const f=u.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:g}=o;if(g!=null&&g.current&&h){const w=Math.abs(c.current-f.scrollTop);if(w>0){const k=window.innerHeight-zn*2,v=parseFloat(h.style.minHeight),j=parseFloat(h.style.height),_=Math.max(v,j);if(_<k){const x=_+w,b=Math.min(k,x),E=x-b;h.style.height=b+"px",h.style.bottom==="0px"&&(f.scrollTop=E>0?E:0,h.style.justifyContent="flex-end")}}}c.current=f.scrollTop})})})]})});xE.displayName=eg;var wE="SelectGroup",[d6,f6]=fa(wE),h6=m.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=Cs();return l.jsx(d6,{scope:n,id:s,children:l.jsx(bt.div,{role:"group","aria-labelledby":s,...r,ref:t})})});h6.displayName=wE;var bE="SelectLabel",SE=m.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=f6(bE,n);return l.jsx(bt.div,{id:s.id,...r,ref:t})});SE.displayName=bE;var kd="SelectItem",[p6,_E]=fa(kd),jE=m.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...o}=e,a=zs(kd,n),c=Ws(kd,n),u=a.value===r,[f,h]=m.useState(i??""),[g,w]=m.useState(!1),k=Ke(t,x=>{var b;return(b=c.itemRefCallback)==null?void 0:b.call(c,x,r,s)}),v=Cs(),j=m.useRef("touch"),_=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return l.jsx(p6,{scope:n,value:r,disabled:s,textId:v,isSelected:u,onItemTextChange:m.useCallback(x=>{h(b=>b||((x==null?void 0:x.textContent)??"").trim())},[]),children:l.jsx(yf.ItemSlot,{scope:n,value:r,disabled:s,textValue:f,children:l.jsx(bt.div,{role:"option","aria-labelledby":v,"data-highlighted":g?"":void 0,"aria-selected":u&&g,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:k,onFocus:je(o.onFocus,()=>w(!0)),onBlur:je(o.onBlur,()=>w(!1)),onClick:je(o.onClick,()=>{j.current!=="mouse"&&_()}),onPointerUp:je(o.onPointerUp,()=>{j.current==="mouse"&&_()}),onPointerDown:je(o.onPointerDown,x=>{j.current=x.pointerType}),onPointerMove:je(o.onPointerMove,x=>{var b;j.current=x.pointerType,s?(b=c.onItemLeave)==null||b.call(c):j.current==="mouse"&&x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:je(o.onPointerLeave,x=>{var b;x.currentTarget===document.activeElement&&((b=c.onItemLeave)==null||b.call(c))}),onKeyDown:je(o.onKeyDown,x=>{var E;((E=c.searchRef)==null?void 0:E.current)!==""&&x.key===" "||(ZB.includes(x.key)&&_(),x.key===" "&&x.preventDefault())})})})})});jE.displayName=kd;var Ga="SelectItemText",kE=m.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,...i}=e,o=zs(Ga,n),a=Ws(Ga,n),c=_E(Ga,n),u=r6(Ga,n),[f,h]=m.useState(null),g=Ke(t,_=>h(_),c.onItemTextChange,_=>{var x;return(x=a.itemTextRefCallback)==null?void 0:x.call(a,_,c.value,c.disabled)}),w=f==null?void 0:f.textContent,k=m.useMemo(()=>l.jsx("option",{value:c.value,disabled:c.disabled,children:w},c.value),[c.disabled,c.value,w]),{onNativeOptionAdd:v,onNativeOptionRemove:j}=u;return Pt(()=>(v(k),()=>j(k)),[v,j,k]),l.jsxs(l.Fragment,{children:[l.jsx(bt.span,{id:c.textId,...i,ref:g}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Br.createPortal(i.children,o.valueNode):null]})});kE.displayName=Ga;var CE="SelectItemIndicator",EE=m.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return _E(CE,n).isSelected?l.jsx(bt.span,{"aria-hidden":!0,...r,ref:t}):null});EE.displayName=CE;var tg="SelectScrollUpButton",NE=m.forwardRef((e,t)=>{const n=Ws(tg,e.__scopeSelect),r=fv(tg,e.__scopeSelect),[s,i]=m.useState(!1),o=Ke(t,r.onScrollButtonChange);return Pt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const u=c.scrollTop>0;i(u)};const c=n.viewport;return a(),c.addEventListener("scroll",a),()=>c.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?l.jsx(TE,{...e,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=n;a&&c&&(a.scrollTop=a.scrollTop-c.offsetHeight)}}):null});NE.displayName=tg;var ng="SelectScrollDownButton",PE=m.forwardRef((e,t)=>{const n=Ws(ng,e.__scopeSelect),r=fv(ng,e.__scopeSelect),[s,i]=m.useState(!1),o=Ke(t,r.onScrollButtonChange);return Pt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const u=c.scrollHeight-c.clientHeight,f=Math.ceil(c.scrollTop)<u;i(f)};const c=n.viewport;return a(),c.addEventListener("scroll",a),()=>c.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?l.jsx(TE,{...e,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=n;a&&c&&(a.scrollTop=a.scrollTop+c.offsetHeight)}}):null});PE.displayName=ng;var TE=m.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=e,i=Ws("SelectScrollButton",n),o=m.useRef(null),a=vf(n),c=m.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return m.useEffect(()=>()=>c(),[c]),Pt(()=>{var f;const u=a().find(h=>h.ref.current===document.activeElement);(f=u==null?void 0:u.ref.current)==null||f.scrollIntoView({block:"nearest"})},[a]),l.jsx(bt.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:je(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:je(s.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:je(s.onPointerLeave,()=>{c()})})}),m6="SelectSeparator",RE=m.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return l.jsx(bt.div,{"aria-hidden":!0,...r,ref:t})});RE.displayName=m6;var rg="SelectArrow",g6=m.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=xf(n),i=zs(rg,n),o=Ws(rg,n);return i.open&&o.position==="popper"?l.jsx(qB,{...s,...r,ref:t}):null});g6.displayName=rg;var y6="SelectBubbleInput",AE=m.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const s=m.useRef(null),i=Ke(r,s),o=GB(t);return m.useEffect(()=>{const a=s.current;if(!a)return;const c=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&f){const h=new Event("change",{bubbles:!0});f.call(a,t),a.dispatchEvent(h)}},[o,t]),l.jsx(bt.select,{...n,style:{...aE,...n.style},ref:i,defaultValue:t})});AE.displayName=y6;function OE(e){return e===""||e===void 0}function DE(e){const t=Lt(e),n=m.useRef(""),r=m.useRef(0),s=m.useCallback(o=>{const a=n.current+o;t(a),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(a)},[t]),i=m.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return m.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function LE(e,t,n){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let o=v6(e,Math.max(i,0));s.length===1&&(o=o.filter(u=>u!==n));const c=o.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function v6(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var x6=lE,IE=uE,w6=fE,b6=hE,S6=pE,ME=mE,_6=xE,FE=SE,$E=jE,j6=kE,k6=EE,VE=NE,BE=PE,UE=RE;const Ab=x6,Ob=w6,sg=m.forwardRef(({className:e,children:t,...n},r)=>l.jsxs(IE,{ref:r,className:Re("flex h-10 w-full items-center justify-between rounded-md border border-slate-200 bg-white px-3 py-2 text-sm ring-offset-white placeholder:text-slate-500 focus:outline-none focus:ring-2 focus:ring-slate-950 focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1 dark:border-slate-800 dark:bg-slate-950 dark:ring-offset-slate-950 dark:placeholder:text-slate-400 dark:focus:ring-slate-300",e),...n,children:[t,l.jsx(b6,{asChild:!0,children:l.jsx(dy,{className:"h-4 w-4 opacity-50"})})]}));sg.displayName=IE.displayName;const zE=m.forwardRef(({className:e,...t},n)=>l.jsx(VE,{ref:n,className:Re("flex cursor-default items-center justify-center py-1",e),...t,children:l.jsx(cA,{className:"h-4 w-4"})}));zE.displayName=VE.displayName;const WE=m.forwardRef(({className:e,...t},n)=>l.jsx(BE,{ref:n,className:Re("flex cursor-default items-center justify-center py-1",e),...t,children:l.jsx(dy,{className:"h-4 w-4"})}));WE.displayName=BE.displayName;const ig=m.forwardRef(({className:e,children:t,position:n="popper",...r},s)=>l.jsx(S6,{children:l.jsxs(ME,{ref:s,className:Re("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border border-slate-200 bg-white text-slate-950 shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 dark:border-slate-800 dark:bg-slate-950 dark:text-slate-50",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[l.jsx(zE,{}),l.jsx(_6,{className:Re("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),l.jsx(WE,{})]})}));ig.displayName=ME.displayName;const C6=m.forwardRef(({className:e,...t},n)=>l.jsx(FE,{ref:n,className:Re("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));C6.displayName=FE.displayName;const oo=m.forwardRef(({className:e,children:t,...n},r)=>l.jsxs($E,{ref:r,className:Re("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-slate-100 focus:text-slate-900 data-[disabled]:pointer-events-none data-[disabled]:opacity-50 dark:focus:bg-slate-800 dark:focus:text-slate-50",e),...n,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(k6,{children:l.jsx(lA,{className:"h-4 w-4"})})}),l.jsx(j6,{children:t})]}));oo.displayName=$E.displayName;const E6=m.forwardRef(({className:e,...t},n)=>l.jsx(UE,{ref:n,className:Re("-mx-1 my-1 h-px bg-slate-100 dark:bg-slate-800",e),...t}));E6.displayName=UE.displayName;const hv=m.forwardRef(({className:e,...t},n)=>l.jsx("div",{className:"relative w-full overflow-auto",children:l.jsx("table",{ref:n,className:Re("w-full caption-bottom text-sm",e),...t})}));hv.displayName="Table";const pv=m.forwardRef(({className:e,...t},n)=>l.jsx("thead",{ref:n,className:Re("[&_tr]:border-b",e),...t}));pv.displayName="TableHeader";const mv=m.forwardRef(({className:e,...t},n)=>l.jsx("tbody",{ref:n,className:Re("[&_tr:last-child]:border-0",e),...t}));mv.displayName="TableBody";const N6=m.forwardRef(({className:e,...t},n)=>l.jsx("tfoot",{ref:n,className:Re("border-t bg-slate-100/50 font-medium dark:bg-slate-800/50 [&>tr]:last:border-b-0",e),...t}));N6.displayName="TableFooter";const Vl=m.forwardRef(({className:e,...t},n)=>l.jsx("tr",{ref:n,className:Re("border-b transition-colors hover:bg-slate-100/50 data-[state=selected]:bg-slate-100 dark:hover:bg-slate-800/50 dark:data-[state=selected]:bg-slate-800",e),...t}));Vl.displayName="TableRow";const Dn=m.forwardRef(({className:e,...t},n)=>l.jsx("th",{ref:n,className:Re("h-12 px-4 text-left align-middle font-medium text-slate-500 dark:text-slate-400 [&:has([role=checkbox])]:pr-0",e),...t}));Dn.displayName="TableHead";const Ln=m.forwardRef(({className:e,...t},n)=>l.jsx("td",{ref:n,className:Re("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Ln.displayName="TableCell";const P6=m.forwardRef(({className:e,...t},n)=>l.jsx("caption",{ref:n,className:Re("mt-4 text-sm text-slate-500 dark:text-slate-400",e),...t}));P6.displayName="TableCaption";const T6=()=>{const{toast:e}=tr(),[t,n]=m.useState(""),[r,s]=m.useState("all"),[i,o]=m.useState(null),[a,c]=m.useState(!1),[u,f]=m.useState(""),[h,g]=m.useState(!1),[w,k]=m.useState("all"),[v,j]=m.useState([]),[_,x]=m.useState(!0),[b,E]=m.useState(null),[R,D]=m.useState(0);m.useEffect(()=>{const K=async()=>{try{x(!0);const{data:Z,error:pe}=await Oe.rpc("get_all_profiles");if(pe)throw pe;j(Z||[]),D((Z==null?void 0:Z.length)||0)}catch(Z){console.error("Error fetching profiles:",Z),E(Z),e({title:"Error",description:"Failed to load user profiles",variant:"destructive"})}finally{x(!1)}};K();const ie=Oe.channel("profiles-changes").on("postgres_changes",{event:"*",schema:"public",table:"profiles"},()=>{K()}).subscribe();return()=>{ie.unsubscribe()}},[e]);const T=v.filter(K=>{var Y,te;const ie=t===""||((Y=K.full_name)==null?void 0:Y.toLowerCase().includes(t.toLowerCase()))||((te=K.email)==null?void 0:te.toLowerCase().includes(t.toLowerCase())),Z=r==="all"||K.role===r,pe=w==="all"||w==="admin"&&K.role==="admin"||w==="user"&&K.role==="user";return ie&&Z&&pe}),F=async()=>{if(!(!i||!u)){g(!0);try{const{data:K,error:ie}=await Oe.rpc("set_user_role",{user_id:i.id,new_role:u});if(ie)throw ie;e({title:"Role Updated",description:`User ${i.full_name||i.email} is now a ${u}.`,variant:"default"}),c(!1)}catch(K){console.error("Error updating role:",K),e({title:"Error",description:K.message,variant:"destructive"})}finally{g(!1)}}},Q=K=>{o(K),f(K.role||"user"),c(!0)};return l.jsxs(_e.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"py-10",children:[l.jsxs("div",{className:"mb-8 flex justify-between items-center",children:[l.jsx(ue,{variant:"outline",asChild:!0,className:"border-purple-500 text-purple-400 hover:bg-purple-500 hover:text-white",children:l.jsxs(Ie,{to:"/admin",children:[l.jsx(zr,{className:"mr-2 h-4 w-4"})," Back to Dashboard"]})}),l.jsx("div",{className:"flex items-center space-x-2",children:l.jsxs(Ls,{variant:"outline",className:"px-3 py-1 text-sm bg-slate-700 text-white",children:[l.jsx(cd,{className:"w-4 h-4 mr-2"}),R," Total Users"]})})]}),l.jsxs("div",{className:"text-center mb-8",children:[l.jsx(cd,{className:"mx-auto h-16 w-16 text-purple-400 mb-4"}),l.jsx("h1",{className:"text-4xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-purple-400 via-pink-500 to-orange-500 mb-6",children:"User Management"}),l.jsx("p",{className:"text-xl text-gray-300 max-w-2xl mx-auto",children:"Manage user accounts, roles, and permissions from this dashboard."})]}),l.jsx(xn,{className:"bg-slate-800 border-slate-700 shadow-xl overflow-hidden",children:l.jsxs(wn,{className:"p-6",children:[l.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-6 space-y-4 md:space-y-0",children:[l.jsxs("div",{className:"relative w-full md:w-1/3",children:[l.jsx(Hl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),l.jsx(Me,{placeholder:"Search users...",value:t,onChange:K=>n(K.target.value),className:"pl-10 bg-slate-700 border-slate-600 text-white"})]}),l.jsxs("div",{className:"flex items-center space-x-4 w-full md:w-auto",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(y_,{size:18,className:"text-gray-400"}),l.jsxs(Ab,{value:r,onValueChange:s,children:[l.jsx(sg,{className:"w-[180px] bg-slate-700 border-slate-600 text-white",children:l.jsx(Ob,{placeholder:"Filter by role"})}),l.jsxs(ig,{className:"bg-slate-700 border-slate-600 text-white",children:[l.jsx(oo,{value:"all",children:"All Roles"}),l.jsx(oo,{value:"admin",children:"Admin"}),l.jsx(oo,{value:"user",children:"User"})]})]})]}),l.jsxs(ue,{variant:"outline",className:"border-slate-600 text-gray-300 hover:bg-slate-700",onClick:()=>n(""),children:[l.jsx(Yd,{size:18,className:"mr-2"})," Reset"]})]})]}),l.jsxs(qy,{defaultValue:"all",className:"w-full",value:w,onValueChange:k,children:[l.jsxs(lf,{className:"bg-slate-700 mb-6",children:[l.jsx(Es,{value:"all",className:"data-[state=active]:bg-purple-600",children:"All Users"}),l.jsx(Es,{value:"admin",className:"data-[state=active]:bg-purple-600",children:"Admins"}),l.jsx(Es,{value:"user",className:"data-[state=active]:bg-purple-600",children:"Regular Users"})]}),l.jsx(Ns,{value:"all",className:"mt-0",children:pp(T,_,Q)}),l.jsx(Ns,{value:"admin",className:"mt-0",children:pp(T,_,Q)}),l.jsx(Ns,{value:"user",className:"mt-0",children:pp(T,_,Q)})]})]})}),l.jsx(dl,{open:a,onOpenChange:c,children:l.jsxs(Oo,{className:"bg-slate-800 border-slate-700 text-white",children:[l.jsxs(Do,{children:[l.jsx(Io,{children:"Change User Role"}),l.jsxs(fl,{className:"text-gray-400",children:["Update the role for ",(i==null?void 0:i.full_name)||(i==null?void 0:i.email)]})]}),l.jsxs("div",{className:"py-4",children:[l.jsx(Ye,{htmlFor:"role",className:"text-white mb-2 block",children:"Select Role"}),l.jsxs(Ab,{value:u,onValueChange:f,children:[l.jsx(sg,{id:"role",className:"w-full bg-slate-700 border-slate-600 text-white",children:l.jsx(Ob,{placeholder:"Select role"})}),l.jsxs(ig,{className:"bg-slate-700 border-slate-600 text-white",children:[l.jsx(oo,{value:"admin",children:"Admin"}),l.jsx(oo,{value:"user",children:"User"})]})]})]}),l.jsxs(Lo,{children:[l.jsx(ue,{variant:"outline",onClick:()=>c(!1),className:"border-slate-600 text-gray-300 hover:bg-slate-700",children:"Cancel"}),l.jsx(ue,{onClick:F,className:"bg-purple-600 hover:bg-purple-700",disabled:h,children:h?"Updating...":"Save Changes"})]})]})})]})},pp=(e,t,n)=>t?l.jsxs("div",{className:"flex justify-center items-center py-20",children:[l.jsx(Yd,{size:30,className:"animate-spin text-purple-500"}),l.jsx("span",{className:"ml-4 text-gray-300",children:"Loading users..."})]}):e.length===0?l.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-gray-400",children:[l.jsx(qd,{size:40,className:"mb-4 text-gray-500"}),l.jsx("p",{children:"No users found matching your criteria."})]}):l.jsx("div",{className:"overflow-x-auto",children:l.jsxs(hv,{children:[l.jsx(pv,{className:"bg-slate-700/50",children:l.jsxs(Vl,{children:[l.jsx(Dn,{className:"text-gray-300",children:"User"}),l.jsx(Dn,{className:"text-gray-300",children:"Email"}),l.jsx(Dn,{className:"text-gray-300",children:"Role"}),l.jsx(Dn,{className:"text-gray-300",children:"Joined"}),l.jsx(Dn,{className:"text-gray-300",children:"Actions"})]})}),l.jsx(mv,{children:e.map(r=>l.jsxs(Vl,{className:"border-slate-700 hover:bg-slate-700/30",children:[l.jsx(Ln,{className:"font-medium text-white",children:r.full_name||"No Name"}),l.jsx(Ln,{className:"text-gray-300",children:r.email||"No Email"}),l.jsx(Ln,{children:r.role==="admin"?l.jsxs(Ls,{className:"bg-purple-600 hover:bg-purple-700",children:[l.jsx(__,{size:14,className:"mr-1"})," Admin"]}):l.jsx(Ls,{variant:"outline",className:"text-gray-300 border-gray-500",children:"User"})}),l.jsx(Ln,{className:"text-gray-300",children:r.created_at?new Date(r.created_at).toLocaleDateString():"Unknown"}),l.jsx(Ln,{children:l.jsx("div",{className:"flex space-x-2",children:l.jsxs(ue,{variant:"ghost",size:"sm",className:"text-purple-400 hover:text-purple-300 hover:bg-purple-900/30",onClick:()=>n(r),children:[l.jsx(jA,{size:16,className:"mr-1"})," Role"]})})})]},r.id))})]})}),lu=({title:e,description:t})=>{console.log(`Toast: ${e} - ${t}`),alert(`${e}: ${t}`)},R6=()=>{var ie,Z,pe;const[e,t]=m.useState("");m.useState("all");const[n,r]=m.useState(null),[s,i]=m.useState(!1),[o,a]=m.useState(!1),[c,u]=m.useState(!1);m.useState("");const[f,h]=m.useState(""),[g,w]=m.useState(!1),[k,v]=m.useState("all"),[j,_]=m.useState([]),[x,b]=m.useState(!0),E=async()=>{try{const{error:Y}=await Oe.from("vehicle_listings").update({status:"approved"}).eq("status","pending");if(Y)throw Y;console.log("All pending listings updated to approved status")}catch(Y){console.error("Error updating listings status:",Y)}};m.useEffect(()=>{E().then(()=>{Y()});const Y=async()=>{try{b(!0);const{data:J,error:ge}=await Oe.from("vehicle_listings").select("*");if(ge)throw ge;console.log("Fetched listings:",J),_(J||[])}catch(J){console.error("Error fetching listings:",J)}finally{b(!1)}};Y();const te=Oe.channel("vehicle_listings-changes").on("postgres_changes",{event:"*",schema:"public",table:"vehicle_listings"},J=>{console.log("Real-time update:",J),Y()}).subscribe();return()=>{te.unsubscribe()}},[]);const R=j.filter(Y=>{var ge,G,ee;const te=e===""||((ge=Y.title)==null?void 0:ge.toLowerCase().includes(e.toLowerCase()))||((G=Y.make)==null?void 0:G.toLowerCase().includes(e.toLowerCase()))||((ee=Y.model)==null?void 0:ee.toLowerCase().includes(e.toLowerCase())),J=k==="all"||k==="with_documents"&&Y.documents&&Array.isArray(Y.documents)&&Y.documents.length>0;return te&&J}),D=async()=>{if(n)try{w(!0);const{error:Y}=await Oe.from("vehicle_listings").update({moderation_notes:f||null}).eq("id",n.id);if(Y)throw Y;lu({title:"Notes Saved",description:"Document notes have been saved successfully."}),h(""),a(!1)}catch(Y){console.error("Error adding document notes:",Y),lu({title:"Error",description:"Failed to save document notes. Please try again."})}finally{w(!1)}},T=async()=>{if(!n){console.log("No listing selected for deletion");return}w(!0);try{const{error:Y}=await Oe.from("vehicle_listings").delete().eq("id",n.id);if(Y)throw console.error("Delete error:",Y),Y;lu({title:"Listing Deleted",description:`The listing "${n.title}" has been permanently deleted.`}),u(!1)}catch(Y){console.error("Error deleting listing:",Y),lu({title:"Error",description:Y.message})}finally{w(!1)}},F=Y=>{r(Y),i(!0)},Q=Y=>{r(Y),a(!0)},K=Y=>{r(Y),u(!0)};return l.jsxs(_e.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"py-10",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h1",{className:"text-3xl font-bold text-white",children:"Vehicle Listings Overview"}),l.jsx(ue,{asChild:!0,variant:"outline",className:"text-gray-300 border-gray-600",children:l.jsxs(Ie,{to:"/admin",children:[l.jsx(zr,{size:16,className:"mr-2"})," Back to Admin"]})})]}),l.jsxs("div",{className:"text-center mb-8",children:[l.jsx(v_,{className:"mx-auto h-16 w-16 text-pink-400 mb-4"}),l.jsx("h1",{className:"text-4xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-pink-400 via-purple-500 to-indigo-500 mb-6",children:"Listing Management"}),l.jsx("p",{className:"text-xl text-gray-300 max-w-2xl mx-auto",children:"Review, approve, or reject vehicle listings from this dashboard."})]}),l.jsx(xn,{className:"bg-slate-800 border-slate-700 shadow-xl overflow-hidden",children:l.jsxs(wn,{className:"p-6",children:[l.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-6 space-y-4 md:space-y-0",children:[l.jsxs("div",{className:"relative w-full md:w-1/3",children:[l.jsx(Hl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),l.jsx(Me,{placeholder:"Search listings...",value:e,onChange:Y=>t(Y.target.value),className:"pl-10 bg-slate-700 border-slate-600 text-white"})]}),l.jsx("div",{className:"flex items-center space-x-4 w-full md:w-auto",children:l.jsxs(ue,{variant:"outline",className:"border-slate-600 text-gray-300 hover:bg-slate-700",onClick:()=>t(""),children:[l.jsx(Yd,{size:18,className:"mr-2"})," Reset"]})})]}),l.jsxs(qy,{defaultValue:"all",value:k,onValueChange:v,children:[l.jsxs(lf,{className:"grid w-full grid-cols-2 bg-slate-700",children:[l.jsx(Es,{value:"all",className:"data-[state=active]:bg-pink-600",children:"All Listings"}),l.jsx(Es,{value:"with_documents",className:"data-[state=active]:bg-pink-600",children:"With Documents"})]}),l.jsx(Ns,{value:"all",className:"mt-0",children:Db(R,x,F,Q)}),l.jsx(Ns,{value:"with_documents",className:"mt-0",children:Db(R.filter(Y=>Y.documents&&Y.documents.length>0),x,F,Q)})]})]})}),l.jsx(dl,{open:s,onOpenChange:i,children:l.jsxs(Oo,{className:"bg-slate-800 border-slate-700 text-white max-w-4xl max-h-[90vh] overflow-y-auto",children:[l.jsxs(Do,{children:[l.jsx(Io,{className:"text-xl font-semibold",children:(n==null?void 0:n.title)||"Vehicle Details"}),l.jsxs(fl,{className:"text-gray-400",children:["ID: ",n==null?void 0:n.id]})]}),n&&l.jsxs("div",{className:"py-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Vehicle Information"}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("p",{children:[l.jsx("span",{className:"text-gray-400",children:"Make:"})," ",n.make]}),l.jsxs("p",{children:[l.jsx("span",{className:"text-gray-400",children:"Model:"})," ",n.model]}),l.jsxs("p",{children:[l.jsx("span",{className:"text-gray-400",children:"Year:"})," ",n.year]}),l.jsxs("p",{children:[l.jsx("span",{className:"text-gray-400",children:"Mileage:"})," ",((ie=n.mileage)==null?void 0:ie.toLocaleString())||"N/A"," miles"]}),l.jsxs("p",{children:[l.jsx("span",{className:"text-gray-400",children:"Price:"})," ",((Z=n.price)==null?void 0:Z.toLocaleString())||"N/A"]}),l.jsxs("p",{children:[l.jsx("span",{className:"text-gray-400",children:"Phone:"})," ",n.phone||"N/A"]})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Seller Information"}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("p",{children:[l.jsx("span",{className:"text-gray-400",children:"Seller ID:"})," ",n.user_id]}),l.jsxs("p",{children:[l.jsx("span",{className:"text-gray-400",children:"Location:"})," ",n.location||"Not specified"]}),l.jsxs("p",{children:[l.jsx("span",{className:"text-gray-400",children:"Listed on:"})," ",new Date(n.created_at).toLocaleDateString()]})]})]})]}),l.jsxs("div",{className:"mt-6",children:[l.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Description"}),l.jsx("p",{className:"text-gray-300 whitespace-pre-wrap",children:n.description||"No description provided."})]}),l.jsxs("div",{className:"mt-6",children:[l.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Images"}),n.images&&n.images.length>0?l.jsx("div",{className:"grid grid-cols-2 gap-2",children:n.images.map((Y,te)=>l.jsx("img",{src:Y,alt:`Vehicle image ${te+1}`,className:"w-full h-48 object-cover rounded-md"},te))}):l.jsx("p",{className:"text-gray-400",children:"No images available"})]}),l.jsxs("div",{className:"mt-6",children:[l.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Documents"}),n.documents&&n.documents.length>0?l.jsx("div",{className:"space-y-2",children:n.documents.map((Y,te)=>l.jsxs("div",{className:"flex items-center p-2 bg-slate-700 rounded-md",children:[l.jsx(bi,{className:"text-blue-400 mr-2",size:20}),l.jsxs("a",{href:Y.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:underline",children:["Document ",te+1]})]},te))}):l.jsx("p",{className:"text-gray-400",children:"No documents available"})]}),n.documents&&n.documents.length>0&&l.jsx("div",{className:"mt-6 flex justify-end space-x-2",children:l.jsxs(ue,{className:"bg-blue-600 hover:bg-blue-700",onClick:()=>{i(!1),Q(n)},children:[l.jsx(bi,{size:16,className:"mr-2"})," Add Document Notes"]})})]}),l.jsxs(Lo,{className:"flex justify-between",children:[l.jsx(ue,{variant:"outline",onClick:()=>i(!1),className:"border-slate-600 text-gray-300 hover:bg-slate-700",children:"Close"}),n&&n.status==="pending"&&l.jsxs("div",{className:"space-x-2",children:[l.jsxs(ue,{variant:"outline",className:"border-red-500 text-red-400 hover:bg-red-900/30",onClick:()=>{i(!1),K(n)},children:[l.jsx(CA,{size:16,className:"mr-2"})," Reject"]}),l.jsxs(ue,{className:"bg-green-600 hover:bg-green-700",onClick:()=>{i(!1),Q(n)},children:[l.jsx(g_,{size:16,className:"mr-2"})," Approve"]})]})]})]})}),l.jsx(dl,{open:o,onOpenChange:a,children:l.jsxs(Oo,{className:"bg-slate-800 border-slate-700 text-white",children:[l.jsxs(Do,{children:[l.jsx(Io,{children:"Document Notes"}),l.jsx(fl,{className:"text-gray-400",children:"Add notes about the documents submitted by the seller."})]}),l.jsxs("div",{className:"py-4",children:[l.jsx(Ye,{htmlFor:"verification-notes",className:"text-gray-300 mb-2 block",children:"Document Notes"}),l.jsx(Me,{id:"verification-notes",placeholder:"Enter notes about the seller's documents...",className:"bg-slate-700 border-slate-600 text-white",value:f,onChange:Y=>h(Y.target.value)})]}),l.jsxs(Lo,{children:[l.jsx(ue,{variant:"outline",onClick:()=>a(!1),children:"Cancel"}),l.jsxs(ue,{className:"bg-blue-600 hover:bg-blue-700",onClick:D,children:[l.jsx(bi,{size:16,className:"mr-2"})," Save Notes"]})]})]})}),l.jsx(dl,{open:c,onOpenChange:u,children:l.jsxs(Oo,{className:"bg-slate-800 border-slate-700 text-white",children:[l.jsxs(Do,{children:[l.jsx(Io,{className:"text-red-500",children:"Delete Listing"}),l.jsx(fl,{className:"text-gray-400",children:"Are you sure you want to permanently delete this listing? This action cannot be undone."})]}),n&&l.jsxs("div",{className:"py-4 border-y border-slate-700 my-2",children:[l.jsx("h3",{className:"font-medium text-white mb-2",children:n.title}),l.jsxs("div",{className:"text-sm text-gray-400",children:[l.jsxs("p",{children:["Make: ",n.make]}),l.jsxs("p",{children:["Model: ",n.model]}),l.jsxs("p",{children:["Year: ",n.year]}),l.jsxs("p",{children:["Price: ",(pe=n.price)==null?void 0:pe.toLocaleString()]})]})]}),l.jsxs(Lo,{children:[l.jsx(ue,{variant:"outline",onClick:()=>u(!1),className:"border-slate-600 text-gray-300 hover:bg-slate-700",children:"Cancel"}),l.jsx(ue,{className:"bg-red-600 hover:bg-red-700",onClick:T,disabled:g,children:g?"Deleting...":"Confirm Delete"})]})]})})]})},Db=(e,t,n,r,s)=>t?l.jsxs("div",{className:"text-center py-10",children:[l.jsx(Yd,{className:"h-8 w-8 animate-spin mx-auto text-pink-500"}),l.jsx("p",{className:"text-gray-400 mt-2",children:"Loading listings..."})]}):e.length===0?l.jsxs("div",{className:"text-center py-10",children:[l.jsx(_x,{className:"h-16 w-16 mx-auto text-gray-500"}),l.jsx("p",{className:"text-gray-400 mt-2",children:"No listings found matching your criteria."})]}):l.jsx("div",{className:"overflow-x-auto",children:l.jsxs(hv,{children:[l.jsx(pv,{className:"bg-slate-700/50",children:l.jsxs(Vl,{children:[l.jsx(Dn,{className:"text-gray-300",children:"Title"}),l.jsx(Dn,{className:"text-gray-300",children:"Seller"}),l.jsx(Dn,{className:"text-gray-300",children:"Price"}),l.jsx(Dn,{className:"text-gray-300",children:"Date"}),l.jsx(Dn,{className:"text-gray-300",children:"Documents"}),l.jsx(Dn,{className:"text-gray-300 text-right",children:"Actions"})]})}),l.jsx(mv,{children:e.map(i=>{var o;return l.jsxs(Vl,{className:"border-slate-700 hover:bg-slate-700/30",children:[l.jsxs(Ln,{className:"font-medium text-white",children:[i.title||"Untitled",l.jsxs("div",{className:"text-xs text-gray-400",children:[i.make," ",i.model," (",i.year,")"]})]}),l.jsx(Ln,{className:"text-gray-300",children:i.user_id||"Unknown"}),l.jsx(Ln,{className:"text-gray-300",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx(od,{size:14,className:"text-green-400 mr-1"}),((o=i.price)==null?void 0:o.toLocaleString())||"N/A"]})}),l.jsx(Ln,{className:"text-gray-300",children:new Date(i.created_at).toLocaleDateString()}),l.jsx(Ln,{children:i.documents&&Array.isArray(i.documents)&&i.documents.length>0?l.jsxs(Ls,{className:"bg-blue-600 hover:bg-blue-700 text-white border-0",children:[l.jsx(bi,{className:"w-3 h-3 mr-1"})," ",i.documents.length," Document(s)"]}):l.jsxs(Ls,{className:"bg-slate-600 hover:bg-slate-700 text-white border-0",children:[l.jsx(_x,{className:"w-3 h-3 mr-1"})," No Documents"]})}),l.jsx(Ln,{className:"text-right",children:l.jsxs("div",{className:"flex justify-end space-x-2",children:[l.jsxs(ue,{variant:"ghost",size:"sm",className:"text-blue-400 hover:text-blue-300 hover:bg-blue-900/30",onClick:()=>n(i),children:[l.jsx(fy,{size:16,className:"mr-1"})," View"]}),i.documents&&Array.isArray(i.documents)&&i.documents.length>0&&l.jsx(ue,{variant:"ghost",size:"icon",onClick:()=>r(i),className:"h-8 w-8 text-blue-400 hover:text-white hover:bg-blue-600",children:l.jsx(bi,{className:"h-4 w-4"})}),l.jsxs(ue,{variant:"ghost",size:"sm",className:"text-red-500 hover:text-red-400 hover:bg-red-900/30",onClick:()=>openDeleteDialog(i),children:[l.jsx(j_,{size:16,className:"mr-1"})," Delete"]})]})})]},i.id)})})]})}),A6=()=>l.jsxs(_e.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"py-10",children:[l.jsx("div",{className:"mb-8",children:l.jsx(ue,{variant:"outline",asChild:!0,className:"border-orange-500 text-orange-400 hover:bg-orange-500 hover:text-white",children:l.jsxs(Ie,{to:"/admin",children:[l.jsx(zr,{className:"mr-2 h-4 w-4"})," Back to Dashboard"]})})}),l.jsxs("div",{className:"text-center",children:[l.jsx(b_,{className:"mx-auto h-16 w-16 text-orange-400 mb-4"}),l.jsx("h1",{className:"text-4xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-orange-400 via-red-500 to-yellow-500 mb-6",children:"Reports & Moderation"}),l.jsx("p",{className:"text-xl text-gray-300 max-w-2xl mx-auto",children:"This section is under construction. Handle user reports and content moderation."}),l.jsx("div",{className:"mt-10 p-8 bg-slate-800 rounded-xl shadow-xl",children:l.jsx("p",{className:"text-gray-400",children:"Report queue, review tools, and moderation actions will be implemented here post-Supabase integration."})})]})]}),O6=()=>l.jsxs(_e.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"py-10",children:[l.jsx("div",{className:"mb-8",children:l.jsx(ue,{variant:"outline",asChild:!0,className:"border-red-500 text-red-400 hover:bg-red-500 hover:text-white",children:l.jsxs(Ie,{to:"/admin",children:[l.jsx(zr,{className:"mr-2 h-4 w-4"})," Back to Dashboard"]})})}),l.jsxs("div",{className:"text-center",children:[l.jsx(p_,{className:"mx-auto h-16 w-16 text-red-400 mb-4"}),l.jsx("h1",{className:"text-4xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-red-500 via-pink-500 to-purple-600 mb-6",children:"Ban Management"}),l.jsx("p",{className:"text-xl text-gray-300 max-w-2xl mx-auto",children:"This section is under construction. Manage banned users and appeals."}),l.jsx("div",{className:"mt-10 p-8 bg-slate-800 rounded-xl shadow-xl",children:l.jsx("p",{className:"text-gray-400",children:"Banned user list, ban/unban actions, and appeal review system will be built here after Supabase setup."})})]})]}),D6=()=>{const{toast:e}=tr(),t=n=>{n.preventDefault(),e({title:"Settings Update Attempted",description:"Site settings update functionality will be implemented with Supabase."})};return l.jsxs(_e.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"py-10",children:[l.jsx("div",{className:"mb-8",children:l.jsx(ue,{variant:"outline",asChild:!0,className:"border-blue-500 text-blue-400 hover:bg-blue-500 hover:text-white",children:l.jsxs(Ie,{to:"/admin",children:[l.jsx(zr,{className:"mr-2 h-4 w-4"})," Back to Dashboard"]})})}),l.jsxs("div",{className:"max-w-2xl mx-auto",children:[l.jsxs("div",{className:"text-center mb-10",children:[l.jsx(ld,{className:"mx-auto h-16 w-16 text-blue-400 mb-4"}),l.jsx("h1",{className:"text-4xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-blue-400 via-teal-500 to-green-500 mb-6",children:"Site Settings"}),l.jsx("p",{className:"text-xl text-gray-300",children:"Configure global parameters for Your2ndRide. Changes here will affect the entire site."})]}),l.jsxs("form",{onSubmit:t,className:"space-y-8 p-8 bg-slate-800 rounded-xl shadow-2xl",children:[l.jsxs("div",{children:[l.jsx(Ye,{htmlFor:"siteLogoUrl",className:"text-gray-300 text-lg",children:"Site Logo URL"}),l.jsx(Me,{id:"siteLogoUrl",placeholder:"https://example.com/logo.png",className:"bg-slate-700 border-slate-600 mt-2"}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"URL for the main site logo displayed in the navbar."})]}),l.jsxs("div",{children:[l.jsx(Ye,{htmlFor:"heroImageUrl",className:"text-gray-300 text-lg",children:"Homepage Hero Image URL"}),l.jsx(Me,{id:"heroImageUrl",placeholder:"https://example.com/hero-image.jpg",className:"bg-slate-700 border-slate-600 mt-2"}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Image for the main banner/hero section on the homepage."})]}),l.jsxs("div",{children:[l.jsx(Ye,{htmlFor:"heroText",className:"text-gray-300 text-lg",children:"Homepage Hero Text"}),l.jsx(Me,{id:"heroText",placeholder:"Find Your Next Dream Ride",className:"bg-slate-700 border-slate-600 mt-2"}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Main heading text for the hero section."})]}),l.jsxs("div",{children:[l.jsx(Ye,{htmlFor:"contactEmail",className:"text-gray-300 text-lg",children:"Contact Page Email"}),l.jsx(Me,{id:"contactEmail",type:"email",placeholder:"support@your2ndride.com",className:"bg-slate-700 border-slate-600 mt-2"}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Email address displayed on the contact page."})]}),l.jsxs("div",{children:[l.jsx(Ye,{htmlFor:"footerCopyright",className:"text-gray-300 text-lg",children:"Footer Copyright Text"}),l.jsx(Me,{id:"footerCopyright",placeholder:" {year} Your2ndRide. All rights reserved.",className:"bg-slate-700 border-slate-600 mt-2"}),l.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Use ",'"{year}"'," for dynamic year."]})]}),l.jsx(ue,{type:"submit",size:"lg",className:"w-full bg-gradient-to-r from-blue-600 to-teal-600 hover:from-blue-700 hover:to-teal-700",children:"Save Settings"}),l.jsx("p",{className:"text-center text-sm text-gray-400",children:"Note: These settings will be stored and retrieved using Supabase once integrated."})]})]})]})},L6=()=>l.jsxs(_e.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"py-10",children:[l.jsx("div",{className:"mb-8",children:l.jsx(ue,{variant:"outline",asChild:!0,className:"border-green-500 text-green-400 hover:bg-green-500 hover:text-white",children:l.jsxs(Ie,{to:"/admin",children:[l.jsx(zr,{className:"mr-2 h-4 w-4"})," Back to Dashboard"]})})}),l.jsxs("div",{className:"text-center",children:[l.jsx(m_,{className:"mx-auto h-16 w-16 text-green-400 mb-4"}),l.jsx("h1",{className:"text-4xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-green-400 via-lime-500 to-yellow-500 mb-6",children:"Site Analytics"}),l.jsx("p",{className:"text-xl text-gray-300 max-w-2xl mx-auto",children:"This section is under construction. View site usage statistics and trends."}),l.jsx("div",{className:"mt-10 p-8 bg-slate-800 rounded-xl shadow-xl",children:l.jsx("p",{className:"text-gray-400",children:"Charts, graphs, and key metrics (e.g., user registrations, listings posted, page views) will be displayed here. This will require Supabase for data collection and potentially a charting library."})})]})]}),I6=()=>l.jsxs(_e.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"py-10",children:[l.jsx("div",{className:"mb-8",children:l.jsx(ue,{variant:"outline",asChild:!0,className:"border-teal-500 text-teal-400 hover:bg-teal-500 hover:text-white",children:l.jsxs(Ie,{to:"/admin",children:[l.jsx(zr,{className:"mr-2 h-4 w-4"})," Back to Dashboard"]})})}),l.jsxs("div",{className:"text-center",children:[l.jsx(Ho,{className:"mx-auto h-16 w-16 text-teal-400 mb-4"}),l.jsx("h1",{className:"text-4xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-teal-400 via-cyan-500 to-sky-500 mb-6",children:"Chat Moderation"}),l.jsx("p",{className:"text-xl text-gray-300 max-w-2xl mx-auto",children:"This section is under construction. Monitor and moderate user chats."}),l.jsx("div",{className:"mt-10 p-8 bg-slate-800 rounded-xl shadow-xl",children:l.jsx("p",{className:"text-gray-400",children:"A live chat monitoring interface, tools to flag/delete messages, and user communication logs will be available here once the chat system and Supabase integration are complete."})})]})]}),M6=()=>{const{isAuthenticated:e,loading:t}=It();return t?l.jsx("div",{className:"flex items-center justify-center h-screen",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-purple-500"})}):e?l.jsx(i_,{}):l.jsx(Al,{to:"/login"})},F6=()=>{const{user:e,isAuthenticated:t,loading:n}=It(),[r,s]=m.useState(!1),[i,o]=m.useState(!0);return m.useEffect(()=>{t?(async()=>{if(!e){s(!1),o(!1);return}try{const{data:c,error:u}=await Oe.rpc("get_user_role",{user_id:e.id});if(u){console.error("Error checking admin role:",u),s(!1),o(!1);return}console.log("User role data in AdminProtectedRoute:",c),s(c==="admin"),o(!1)}catch(c){console.error("Error checking admin role:",c),s(!1),o(!1)}})():o(!1)},[e,t]),n||i?l.jsx("div",{className:"flex items-center justify-center h-screen",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-purple-500"})}):t?r?l.jsx(i_,{}):l.jsx(Al,{to:"/"}):l.jsx(Al,{to:"/login"})};function $6(){const{isAuthenticated:e,loading:t}=It();return l.jsx(P4,{children:l.jsx(gR,{children:l.jsx(I4,{children:l.jsx(rf,{mode:"wait",children:l.jsxs(lR,{children:[l.jsx(ct,{path:"/",element:l.jsx(St,{children:l.jsx(M4,{})})}),l.jsx(ct,{path:"/buy",element:l.jsx(St,{children:l.jsx(J4,{})})}),l.jsx(ct,{path:"/listing/:id",element:l.jsx(St,{children:l.jsx(mV,{})})}),l.jsx(ct,{path:"/about",element:l.jsx(St,{children:l.jsx(Z4,{})})}),l.jsx(ct,{path:"/contact",element:l.jsx(St,{children:l.jsx(e3,{})})}),l.jsx(ct,{path:"/login",element:t?l.jsx("div",{className:"flex items-center justify-center h-screen",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-purple-500"})}):e?l.jsx(Al,{to:"/"}):l.jsx(St,{children:l.jsx(i3,{})})}),l.jsx(ct,{path:"/register",element:t?l.jsx("div",{className:"flex items-center justify-center h-screen",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-purple-500"})}):e?l.jsx(Al,{to:"/"}):l.jsx(St,{children:l.jsx(o3,{})})}),l.jsxs(ct,{element:l.jsx(M6,{}),children:[l.jsx(ct,{path:"/sell",element:l.jsx(St,{children:l.jsx(q4,{})})}),l.jsx(ct,{path:"/wishlist",element:l.jsx(St,{children:l.jsx(t3,{})})}),l.jsx(ct,{path:"/profile",element:l.jsx(St,{children:l.jsx(U3,{})})}),l.jsx(ct,{path:"/chat",element:l.jsx(St,{children:l.jsx(IF,{})})})]}),l.jsxs(ct,{element:l.jsx(F6,{}),children:[l.jsx(ct,{path:"/admin",element:l.jsx(St,{children:l.jsx(r3,{})})}),l.jsx(ct,{path:"/admin/users",element:l.jsx(St,{children:l.jsx(T6,{})})}),l.jsx(ct,{path:"/admin/listings",element:l.jsx(St,{children:l.jsx(R6,{})})}),l.jsx(ct,{path:"/admin/reports",element:l.jsx(St,{children:l.jsx(A6,{})})}),l.jsx(ct,{path:"/admin/bans",element:l.jsx(St,{children:l.jsx(O6,{})})}),l.jsx(ct,{path:"/admin/settings",element:l.jsx(St,{children:l.jsx(D6,{})})}),l.jsx(ct,{path:"/admin/analytics",element:l.jsx(St,{children:l.jsx(L6,{})})}),l.jsx(ct,{path:"/admin/chat",element:l.jsx(St,{children:l.jsx(I6,{})})})]}),l.jsx(ct,{path:"*",element:l.jsx(St,{children:l.jsx(s3,{})})})]})})})})})}const St=({children:e})=>l.jsx(_e.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:e});function V6(e){const t=e+"CollectionProvider",[n,r]=Wr(t),[s,i]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=v=>{const{scope:j,children:_}=v,x=Ne.useRef(null),b=Ne.useRef(new Map).current;return l.jsx(s,{scope:j,itemMap:b,collectionRef:x,children:_})};o.displayName=t;const a=e+"CollectionSlot",c=id(a),u=Ne.forwardRef((v,j)=>{const{scope:_,children:x}=v,b=i(a,_),E=Ke(j,b.collectionRef);return l.jsx(c,{ref:E,children:x})});u.displayName=a;const f=e+"CollectionItemSlot",h="data-radix-collection-item",g=id(f),w=Ne.forwardRef((v,j)=>{const{scope:_,children:x,...b}=v,E=Ne.useRef(null),R=Ke(j,E),D=i(f,_);return Ne.useEffect(()=>(D.itemMap.set(E,{ref:E,...b}),()=>void D.itemMap.delete(E))),l.jsx(g,{[h]:"",ref:R,children:x})});w.displayName=f;function k(v){const j=i(e+"CollectionConsumer",v);return Ne.useCallback(()=>{const x=j.collectionRef.current;if(!x)return[];const b=Array.from(x.querySelectorAll(`[${h}]`));return Array.from(j.itemMap.values()).sort((D,T)=>b.indexOf(D.ref.current)-b.indexOf(T.ref.current))},[j.collectionRef,j.itemMap])}return[{Provider:o,Slot:u,ItemSlot:w},k,r]}var B6="DismissableLayer",og="dismissableLayer.update",U6="dismissableLayer.pointerDownOutside",z6="dismissableLayer.focusOutside",Lb,KE=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),HE=m.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...c}=e,u=m.useContext(KE),[f,h]=m.useState(null),g=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,w]=m.useState({}),k=Ke(t,T=>h(T)),v=Array.from(u.layers),[j]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),_=v.indexOf(j),x=f?v.indexOf(f):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,E=x>=_,R=K6(T=>{const F=T.target,Q=[...u.branches].some(K=>K.contains(F));!E||Q||(s==null||s(T),o==null||o(T),T.defaultPrevented||a==null||a())},g),D=H6(T=>{const F=T.target;[...u.branches].some(K=>K.contains(F))||(i==null||i(T),o==null||o(T),T.defaultPrevented||a==null||a())},g);return Zy(T=>{x===u.layers.size-1&&(r==null||r(T),!T.defaultPrevented&&a&&(T.preventDefault(),a()))},g),m.useEffect(()=>{if(f)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Lb=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(f)),u.layers.add(f),Ib(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=Lb)}},[f,g,n,u]),m.useEffect(()=>()=>{f&&(u.layers.delete(f),u.layersWithOutsidePointerEventsDisabled.delete(f),Ib())},[f,u]),m.useEffect(()=>{const T=()=>w({});return document.addEventListener(og,T),()=>document.removeEventListener(og,T)},[]),l.jsx(nr.div,{...c,ref:k,style:{pointerEvents:b?E?"auto":"none":void 0,...e.style},onFocusCapture:je(e.onFocusCapture,D.onFocusCapture),onBlurCapture:je(e.onBlurCapture,D.onBlurCapture),onPointerDownCapture:je(e.onPointerDownCapture,R.onPointerDownCapture)})});HE.displayName=B6;var W6="DismissableLayerBranch",qE=m.forwardRef((e,t)=>{const n=m.useContext(KE),r=m.useRef(null),s=Ke(t,r);return m.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),l.jsx(nr.div,{...e,ref:s})});qE.displayName=W6;function K6(e,t=globalThis==null?void 0:globalThis.document){const n=Lt(e),r=m.useRef(!1),s=m.useRef(()=>{});return m.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let c=function(){YE(U6,n,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function H6(e,t=globalThis==null?void 0:globalThis.document){const n=Lt(e),r=m.useRef(!1);return m.useEffect(()=>{const s=i=>{i.target&&!r.current&&YE(z6,n,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Ib(){const e=new CustomEvent(og);document.dispatchEvent(e)}function YE(e,t,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?lk(s,i):s.dispatchEvent(i)}var q6=HE,Y6=qE,G6="Portal",GE=m.forwardRef((e,t)=>{var a;const{container:n,...r}=e,[s,i]=m.useState(!1);Pt(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?oy.createPortal(l.jsx(nr.div,{...r,ref:t}),o):null});GE.displayName=G6;var X6=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Q6="VisuallyHidden",gv=m.forwardRef((e,t)=>l.jsx(nr.span,{...e,ref:t,style:{...X6,...e.style}}));gv.displayName=Q6;var yv="ToastProvider",[vv,J6,Z6]=V6("Toast"),[XE,CU]=Wr("Toast",[Z6]),[eU,wf]=XE(yv),QE=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=e,[a,c]=m.useState(null),[u,f]=m.useState(0),h=m.useRef(!1),g=m.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${yv}\`. Expected non-empty \`string\`.`),l.jsx(vv.Provider,{scope:t,children:l.jsx(eU,{scope:t,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:u,viewport:a,onViewportChange:c,onToastAdd:m.useCallback(()=>f(w=>w+1),[]),onToastRemove:m.useCallback(()=>f(w=>w-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:g,children:o})})};QE.displayName=yv;var JE="ToastViewport",tU=["F8"],ag="toast.viewportPause",lg="toast.viewportResume",ZE=m.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=tU,label:s="Notifications ({hotkey})",...i}=e,o=wf(JE,n),a=J6(n),c=m.useRef(null),u=m.useRef(null),f=m.useRef(null),h=m.useRef(null),g=Ke(t,h,o.onViewportChange),w=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),k=o.toastCount>0;m.useEffect(()=>{const j=_=>{var b;r.length!==0&&r.every(E=>_[E]||_.code===E)&&((b=h.current)==null||b.focus())};return document.addEventListener("keydown",j),()=>document.removeEventListener("keydown",j)},[r]),m.useEffect(()=>{const j=c.current,_=h.current;if(k&&j&&_){const x=()=>{if(!o.isClosePausedRef.current){const D=new CustomEvent(ag);_.dispatchEvent(D),o.isClosePausedRef.current=!0}},b=()=>{if(o.isClosePausedRef.current){const D=new CustomEvent(lg);_.dispatchEvent(D),o.isClosePausedRef.current=!1}},E=D=>{!j.contains(D.relatedTarget)&&b()},R=()=>{j.contains(document.activeElement)||b()};return j.addEventListener("focusin",x),j.addEventListener("focusout",E),j.addEventListener("pointermove",x),j.addEventListener("pointerleave",R),window.addEventListener("blur",x),window.addEventListener("focus",b),()=>{j.removeEventListener("focusin",x),j.removeEventListener("focusout",E),j.removeEventListener("pointermove",x),j.removeEventListener("pointerleave",R),window.removeEventListener("blur",x),window.removeEventListener("focus",b)}}},[k,o.isClosePausedRef]);const v=m.useCallback(({tabbingDirection:j})=>{const x=a().map(b=>{const E=b.ref.current,R=[E,...pU(E)];return j==="forwards"?R:R.reverse()});return(j==="forwards"?x.reverse():x).flat()},[a]);return m.useEffect(()=>{const j=h.current;if(j){const _=x=>{var R,D,T;const b=x.altKey||x.ctrlKey||x.metaKey;if(x.key==="Tab"&&!b){const F=document.activeElement,Q=x.shiftKey;if(x.target===j&&Q){(R=u.current)==null||R.focus();return}const Z=v({tabbingDirection:Q?"backwards":"forwards"}),pe=Z.findIndex(Y=>Y===F);mp(Z.slice(pe+1))?x.preventDefault():Q?(D=u.current)==null||D.focus():(T=f.current)==null||T.focus()}};return j.addEventListener("keydown",_),()=>j.removeEventListener("keydown",_)}},[a,v]),l.jsxs(Y6,{ref:c,role:"region","aria-label":s.replace("{hotkey}",w),tabIndex:-1,style:{pointerEvents:k?void 0:"none"},children:[k&&l.jsx(cg,{ref:u,onFocusFromOutsideViewport:()=>{const j=v({tabbingDirection:"forwards"});mp(j)}}),l.jsx(vv.Slot,{scope:n,children:l.jsx(nr.ol,{tabIndex:-1,...i,ref:g})}),k&&l.jsx(cg,{ref:f,onFocusFromOutsideViewport:()=>{const j=v({tabbingDirection:"backwards"});mp(j)}})]})});ZE.displayName=JE;var eN="ToastFocusProxy",cg=m.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=e,i=wf(eN,n);return l.jsx(gv,{"aria-hidden":!0,tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:o=>{var u;const a=o.relatedTarget;!((u=i.viewport)!=null&&u.contains(a))&&r()}})});cg.displayName=eN;var tc="Toast",nU="toast.swipeStart",rU="toast.swipeMove",sU="toast.swipeCancel",iU="toast.swipeEnd",tN=m.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=e,[a,c]=Jo({prop:r,defaultProp:s??!0,onChange:i,caller:tc});return l.jsx(la,{present:n||a,children:l.jsx(lU,{open:a,...o,ref:t,onClose:()=>c(!1),onPause:Lt(e.onPause),onResume:Lt(e.onResume),onSwipeStart:je(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:je(e.onSwipeMove,u=>{const{x:f,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${f}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:je(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:je(e.onSwipeEnd,u=>{const{x:f,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${f}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),c(!1)})})})});tN.displayName=tc;var[oU,aU]=XE(tc,{onClose(){}}),lU=m.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:c,onResume:u,onSwipeStart:f,onSwipeMove:h,onSwipeCancel:g,onSwipeEnd:w,...k}=e,v=wf(tc,n),[j,_]=m.useState(null),x=Ke(t,Y=>_(Y)),b=m.useRef(null),E=m.useRef(null),R=s||v.duration,D=m.useRef(0),T=m.useRef(R),F=m.useRef(0),{onToastAdd:Q,onToastRemove:K}=v,ie=Lt(()=>{var te;(j==null?void 0:j.contains(document.activeElement))&&((te=v.viewport)==null||te.focus()),o()}),Z=m.useCallback(Y=>{!Y||Y===1/0||(window.clearTimeout(F.current),D.current=new Date().getTime(),F.current=window.setTimeout(ie,Y))},[ie]);m.useEffect(()=>{const Y=v.viewport;if(Y){const te=()=>{Z(T.current),u==null||u()},J=()=>{const ge=new Date().getTime()-D.current;T.current=T.current-ge,window.clearTimeout(F.current),c==null||c()};return Y.addEventListener(ag,J),Y.addEventListener(lg,te),()=>{Y.removeEventListener(ag,J),Y.removeEventListener(lg,te)}}},[v.viewport,R,c,u,Z]),m.useEffect(()=>{i&&!v.isClosePausedRef.current&&Z(R)},[i,R,v.isClosePausedRef,Z]),m.useEffect(()=>(Q(),()=>K()),[Q,K]);const pe=m.useMemo(()=>j?lN(j):null,[j]);return v.viewport?l.jsxs(l.Fragment,{children:[pe&&l.jsx(cU,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:pe}),l.jsx(oU,{scope:n,onClose:ie,children:Br.createPortal(l.jsx(vv.ItemSlot,{scope:n,children:l.jsx(q6,{asChild:!0,onEscapeKeyDown:je(a,()=>{v.isFocusedToastEscapeKeyDownRef.current||ie(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:l.jsx(nr.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":v.swipeDirection,...k,ref:x,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:je(e.onKeyDown,Y=>{Y.key==="Escape"&&(a==null||a(Y.nativeEvent),Y.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,ie()))}),onPointerDown:je(e.onPointerDown,Y=>{Y.button===0&&(b.current={x:Y.clientX,y:Y.clientY})}),onPointerMove:je(e.onPointerMove,Y=>{if(!b.current)return;const te=Y.clientX-b.current.x,J=Y.clientY-b.current.y,ge=!!E.current,G=["left","right"].includes(v.swipeDirection),ee=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,ae=G?ee(0,te):0,me=G?0:ee(0,J),Pe=Y.pointerType==="touch"?10:2,Ae={x:ae,y:me},nt={originalEvent:Y,delta:Ae};ge?(E.current=Ae,cu(rU,h,nt,{discrete:!1})):Mb(Ae,v.swipeDirection,Pe)?(E.current=Ae,cu(nU,f,nt,{discrete:!1}),Y.target.setPointerCapture(Y.pointerId)):(Math.abs(te)>Pe||Math.abs(J)>Pe)&&(b.current=null)}),onPointerUp:je(e.onPointerUp,Y=>{const te=E.current,J=Y.target;if(J.hasPointerCapture(Y.pointerId)&&J.releasePointerCapture(Y.pointerId),E.current=null,b.current=null,te){const ge=Y.currentTarget,G={originalEvent:Y,delta:te};Mb(te,v.swipeDirection,v.swipeThreshold)?cu(iU,w,G,{discrete:!0}):cu(sU,g,G,{discrete:!0}),ge.addEventListener("click",ee=>ee.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),cU=e=>{const{__scopeToast:t,children:n,...r}=e,s=wf(tc,t),[i,o]=m.useState(!1),[a,c]=m.useState(!1);return fU(()=>o(!0)),m.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),a?null:l.jsx(GE,{asChild:!0,children:l.jsx(gv,{...r,children:i&&l.jsxs(l.Fragment,{children:[s.label," ",n]})})})},uU="ToastTitle",nN=m.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return l.jsx(nr.div,{...r,ref:t})});nN.displayName=uU;var dU="ToastDescription",rN=m.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return l.jsx(nr.div,{...r,ref:t})});rN.displayName=dU;var sN="ToastAction",iN=m.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?l.jsx(aN,{altText:n,asChild:!0,children:l.jsx(xv,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${sN}\`. Expected non-empty \`string\`.`),null)});iN.displayName=sN;var oN="ToastClose",xv=m.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,s=aU(oN,n);return l.jsx(aN,{asChild:!0,children:l.jsx(nr.button,{type:"button",...r,ref:t,onClick:je(e.onClick,s.onClose)})})});xv.displayName=oN;var aN=m.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...s}=e;return l.jsx(nr.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:t})});function lN(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),hU(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...lN(r))}}),t}function cu(e,t,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?lk(s,i):s.dispatchEvent(i)}var Mb=(e,t,n=0)=>{const r=Math.abs(e.x),s=Math.abs(e.y),i=r>s;return t==="left"||t==="right"?i&&r>n:!i&&s>n};function fU(e=()=>{}){const t=Lt(e);Pt(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function hU(e){return e.nodeType===e.ELEMENT_NODE}function pU(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function mp(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var mU=QE,cN=ZE,uN=tN,dN=nN,fN=rN,hN=iN,pN=xv;const gU=mU,mN=Ne.forwardRef(({className:e,...t},n)=>l.jsx(cN,{ref:n,className:Re("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));mN.displayName=cN.displayName;const yU=Hd("data-[swipe=move]:transition-none group relative pointer-events-auto flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full data-[state=closed]:slide-out-to-right-full",{variants:{variant:{default:"bg-background border",destructive:"group destructive border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),gN=Ne.forwardRef(({className:e,variant:t,...n},r)=>l.jsx(uN,{ref:r,className:Re(yU({variant:t}),e),...n}));gN.displayName=uN.displayName;const vU=Ne.forwardRef(({className:e,...t},n)=>l.jsx(hN,{ref:n,className:Re("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-destructive/30 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));vU.displayName=hN.displayName;const yN=Ne.forwardRef(({className:e,...t},n)=>l.jsx(pN,{ref:n,className:Re("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:l.jsx(qo,{className:"h-4 w-4"})}));yN.displayName=pN.displayName;const vN=Ne.forwardRef(({className:e,...t},n)=>l.jsx(dN,{ref:n,className:Re("text-sm font-semibold",e),...t}));vN.displayName=dN.displayName;const xN=Ne.forwardRef(({className:e,...t},n)=>l.jsx(fN,{ref:n,className:Re("text-sm opacity-90",e),...t}));xN.displayName=fN.displayName;function xU(){const{toasts:e}=tr();return l.jsxs(gU,{children:[e.map(({id:t,title:n,description:r,action:s,...i})=>l.jsxs(gN,{...i,children:[l.jsxs("div",{className:"grid gap-1",children:[n&&l.jsx(vN,{children:n}),r&&l.jsx(xN,{children:r})]}),s,l.jsx(yN,{})]},t)),l.jsx(mN,{})]})}gp.createRoot(document.getElementById("root")).render(l.jsx(Ne.StrictMode,{children:l.jsxs(E4,{children:[l.jsx($6,{}),l.jsx(xU,{})]})}));export{ug as g};
